!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=!!t&&"length"in t&&t.length,n=ht.type(t);return"function"!==n&&!ht.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function o(t,e,n){if(ht.isFunction(e))return ht.grep(t,function(t,o){return!!e.call(t,o,t)!==n});if(e.nodeType)return ht.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(Et.test(e))return ht.filter(e,t,n);e=ht.filter(e,t)}return ht.grep(t,function(t){return ht.inArray(t,e)>-1!==n})}function r(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function i(t){var e={};return ht.each(t.match(kt)||[],function(t,n){e[n]=!0}),e}function s(){ot.addEventListener?(ot.removeEventListener("DOMContentLoaded",a),t.removeEventListener("load",a)):(ot.detachEvent("onreadystatechange",a),t.detachEvent("onload",a))}function a(){(ot.addEventListener||"load"===t.event.type||"complete"===ot.readyState)&&(s(),ht.ready())}function l(t,e,n){if(void 0===n&&1===t.nodeType){var o="data-"+e.replace(Dt,"-$1").toLowerCase();if(n=t.getAttribute(o),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:It.test(n)?ht.parseJSON(n):n)}catch(t){}ht.data(t,e,n)}else n=void 0}return n}function c(t){var e;for(e in t)if(("data"!==e||!ht.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function u(t,e,n,o){if(Ot(t)){var r,i,s=ht.expando,a=t.nodeType,l=a?ht.cache:t,c=a?t[s]:t[s]&&s;if(c&&l[c]&&(o||l[c].data)||void 0!==n||"string"!=typeof e)return c||(c=a?t[s]=nt.pop()||ht.guid++:s),l[c]||(l[c]=a?{}:{toJSON:ht.noop}),"object"!=typeof e&&"function"!=typeof e||(o?l[c]=ht.extend(l[c],e):l[c].data=ht.extend(l[c].data,e)),i=l[c],o||(i.data||(i.data={}),i=i.data),void 0!==n&&(i[ht.camelCase(e)]=n),"string"==typeof e?(r=i[e],null==r&&(r=i[ht.camelCase(e)])):r=i,r}}function d(t,e,n){if(Ot(t)){var o,r,i=t.nodeType,s=i?ht.cache:t,a=i?t[ht.expando]:ht.expando;if(s[a]){if(e&&(o=n?s[a]:s[a].data)){ht.isArray(e)?e=e.concat(ht.map(e,ht.camelCase)):e in o?e=[e]:(e=ht.camelCase(e),e=e in o?[e]:e.split(" ")),r=e.length;for(;r--;)delete o[e[r]];if(n?!c(o):!ht.isEmptyObject(o))return}(n||(delete s[a].data,c(s[a])))&&(i?ht.cleanData([t],!0):dt.deleteExpando||s!=s.window?delete s[a]:s[a]=void 0)}}}function f(t,e,n,o){var r,i=1,s=20,a=o?function(){return o.cur()}:function(){return ht.css(t,e,"")},l=a(),c=n&&n[3]||(ht.cssNumber[e]?"":"px"),u=(ht.cssNumber[e]||"px"!==c&&+l)&&Mt.exec(ht.css(t,e));if(u&&u[3]!==c){c=c||u[3],n=n||[],u=+l||1;do i=i||".5",u/=i,ht.style(t,e,u+c);while(i!==(i=a()/l)&&1!==i&&--s)}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],o&&(o.unit=c,o.start=u,o.end=r)),r}function h(t){var e=zt.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function p(t,e){var n,o,r=0,i="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):void 0;if(!i)for(i=[],n=t.childNodes||t;null!=(o=n[r]);r++)!e||ht.nodeName(o,e)?i.push(o):ht.merge(i,p(o,e));return void 0===e||e&&ht.nodeName(t,e)?ht.merge([t],i):i}function m(t,e){for(var n,o=0;null!=(n=t[o]);o++)ht._data(n,"globalEval",!e||ht._data(e[o],"globalEval"))}function g(t){qt.test(t.type)&&(t.defaultChecked=t.checked)}function y(t,e,n,o,r){for(var i,s,a,l,c,u,d,f=t.length,y=h(e),v=[],b=0;b<f;b++)if(s=t[b],s||0===s)if("object"===ht.type(s))ht.merge(v,s.nodeType?[s]:s);else if(Ut.test(s)){for(l=l||y.appendChild(e.createElement("div")),c=(Ft.exec(s)||["",""])[1].toLowerCase(),d=Vt[c]||Vt._default,l.innerHTML=d[1]+ht.htmlPrefilter(s)+d[2],i=d[0];i--;)l=l.lastChild;if(!dt.leadingWhitespace&&Wt.test(s)&&v.push(e.createTextNode(Wt.exec(s)[0])),!dt.tbody)for(s="table"!==c||Gt.test(s)?"<table>"!==d[1]||Gt.test(s)?0:l:l.firstChild,i=s&&s.childNodes.length;i--;)ht.nodeName(u=s.childNodes[i],"tbody")&&!u.childNodes.length&&s.removeChild(u);for(ht.merge(v,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=y.lastChild}else v.push(e.createTextNode(s));for(l&&y.removeChild(l),dt.appendChecked||ht.grep(p(v,"input"),g),b=0;s=v[b++];)if(o&&ht.inArray(s,o)>-1)r&&r.push(s);else if(a=ht.contains(s.ownerDocument,s),l=p(y.appendChild(s),"script"),a&&m(l),n)for(i=0;s=l[i++];)$t.test(s.type||"")&&n.push(s);return l=null,y}function v(){return!0}function b(){return!1}function w(){try{return ot.activeElement}catch(t){}}function C(t,e,n,o,r,i){var s,a;if("object"==typeof e){"string"!=typeof n&&(o=o||n,n=void 0);for(a in e)C(t,a,n,o,e[a],i);return t}if(null==o&&null==r?(r=n,o=n=void 0):null==r&&("string"==typeof n?(r=o,o=void 0):(r=o,o=n,n=void 0)),r===!1)r=b;else if(!r)return t;return 1===i&&(s=r,r=function(t){return ht().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=ht.guid++)),t.each(function(){ht.event.add(this,e,r,o,n)})}function x(t,e){return ht.nodeName(t,"table")&&ht.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function E(t){return t.type=(null!==ht.find.attr(t,"type"))+"/"+t.type,t}function T(t){var e=re.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function S(t,e){if(1===e.nodeType&&ht.hasData(t)){var n,o,r,i=ht._data(t),s=ht._data(e,i),a=i.events;if(a){delete s.handle,s.events={};for(n in a)for(o=0,r=a[n].length;o<r;o++)ht.event.add(e,n,a[n][o])}s.data&&(s.data=ht.extend({},s.data))}}function N(t,e){var n,o,r;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!dt.noCloneEvent&&e[ht.expando]){r=ht._data(e);for(o in r.events)ht.removeEvent(e,o,r.handle);e.removeAttribute(ht.expando)}"script"===n&&e.text!==t.text?(E(e).text=t.text,T(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),dt.html5Clone&&t.innerHTML&&!ht.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&qt.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}}function _(t,e,n,o){e=it.apply([],e);var r,i,s,a,l,c,u=0,d=t.length,f=d-1,h=e[0],m=ht.isFunction(h);if(m||d>1&&"string"==typeof h&&!dt.checkClone&&oe.test(h))return t.each(function(r){var i=t.eq(r);m&&(e[0]=h.call(this,r,i.html())),_(i,e,n,o)});if(d&&(c=y(e,t[0].ownerDocument,!1,t,o),r=c.firstChild,1===c.childNodes.length&&(c=r),r||o)){for(a=ht.map(p(c,"script"),E),s=a.length;u<d;u++)i=c,u!==f&&(i=ht.clone(i,!0,!0),s&&ht.merge(a,p(i,"script"))),n.call(t[u],i,u);if(s)for(l=a[a.length-1].ownerDocument,ht.map(a,T),u=0;u<s;u++)i=a[u],$t.test(i.type||"")&&!ht._data(i,"globalEval")&&ht.contains(l,i)&&(i.src?ht._evalUrl&&ht._evalUrl(i.src):ht.globalEval((i.text||i.textContent||i.innerHTML||"").replace(ie,"")));c=r=null}return t}function R(t,e,n){for(var o,r=e?ht.filter(e,t):t,i=0;null!=(o=r[i]);i++)n||1!==o.nodeType||ht.cleanData(p(o)),o.parentNode&&(n&&ht.contains(o.ownerDocument,o)&&m(p(o,"script")),o.parentNode.removeChild(o));return t}function k(t,e){var n=ht(e.createElement(t)).appendTo(e.body),o=ht.css(n[0],"display");return n.detach(),o}function A(t){var e=ot,n=ce[t];return n||(n=k(t,e),"none"!==n&&n||(le=(le||ht("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(le[0].contentWindow||le[0].contentDocument).document,e.write(),e.close(),n=k(t,e),le.detach()),ce[t]=n),n}function L(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function O(t){if(t in Te)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=Ee.length;n--;)if(t=Ee[n]+e,t in Te)return t}function I(t,e){for(var n,o,r,i=[],s=0,a=t.length;s<a;s++)o=t[s],o.style&&(i[s]=ht._data(o,"olddisplay"),n=o.style.display,e?(i[s]||"none"!==n||(o.style.display=""),""===o.style.display&&jt(o)&&(i[s]=ht._data(o,"olddisplay",A(o.nodeName)))):(r=jt(o),(n&&"none"!==n||!r)&&ht._data(o,"olddisplay",r?n:ht.css(o,"display"))));for(s=0;s<a;s++)o=t[s],o.style&&(e&&"none"!==o.style.display&&""!==o.style.display||(o.style.display=e?i[s]||"":"none"));return t}function D(t,e,n){var o=we.exec(e);return o?Math.max(0,o[1]-(n||0))+(o[2]||"px"):e}function P(t,e,n,o,r){for(var i=n===(o?"border":"content")?4:"width"===e?1:0,s=0;i<4;i+=2)"margin"===n&&(s+=ht.css(t,n+Bt[i],!0,r)),o?("content"===n&&(s-=ht.css(t,"padding"+Bt[i],!0,r)),"margin"!==n&&(s-=ht.css(t,"border"+Bt[i]+"Width",!0,r))):(s+=ht.css(t,"padding"+Bt[i],!0,r),"padding"!==n&&(s+=ht.css(t,"border"+Bt[i]+"Width",!0,r)));return s}function M(t,e,n){var o=!0,r="width"===e?t.offsetWidth:t.offsetHeight,i=pe(t),s=dt.boxSizing&&"border-box"===ht.css(t,"boxSizing",!1,i);if(r<=0||null==r){if(r=me(t,e,i),(r<0||null==r)&&(r=t.style[e]),de.test(r))return r;o=s&&(dt.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+P(t,e,n||(s?"border":"content"),o,i)+"px"}function B(t,e,n,o,r){return new B.prototype.init(t,e,n,o,r)}function j(){return t.setTimeout(function(){Se=void 0}),Se=ht.now()}function H(t,e){var n,o={height:t},r=0;for(e=e?1:0;r<4;r+=2-e)n=Bt[r],o["margin"+n]=o["padding"+n]=t;return e&&(o.opacity=o.width=t),o}function q(t,e,n){for(var o,r=(W.tweeners[e]||[]).concat(W.tweeners["*"]),i=0,s=r.length;i<s;i++)if(o=r[i].call(n,e,t))return o}function F(t,e,n){var o,r,i,s,a,l,c,u,d=this,f={},h=t.style,p=t.nodeType&&jt(t),m=ht._data(t,"fxshow");n.queue||(a=ht._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,ht.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],c=ht.css(t,"display"),u="none"===c?ht._data(t,"olddisplay")||A(t.nodeName):c,"inline"===u&&"none"===ht.css(t,"float")&&(dt.inlineBlockNeedsLayout&&"inline"!==A(t.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",dt.shrinkWrapBlocks()||d.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(o in e)if(r=e[o],_e.exec(r)){if(delete e[o],i=i||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!m||void 0===m[o])continue;p=!0}f[o]=m&&m[o]||ht.style(t,o)}else c=void 0;if(ht.isEmptyObject(f))"inline"===("none"===c?A(t.nodeName):c)&&(h.display=c);else{m?"hidden"in m&&(p=m.hidden):m=ht._data(t,"fxshow",{}),i&&(m.hidden=!p),p?ht(t).show():d.done(function(){ht(t).hide()}),d.done(function(){var e;ht._removeData(t,"fxshow");for(e in f)ht.style(t,e,f[e])});for(o in f)s=q(p?m[o]:0,o,d),o in m||(m[o]=s.start,p&&(s.end=s.start,s.start="width"===o||"height"===o?1:0))}}function $(t,e){var n,o,r,i,s;for(n in t)if(o=ht.camelCase(n),r=e[o],i=t[n],ht.isArray(i)&&(r=i[1],i=t[n]=i[0]),n!==o&&(t[o]=i,delete t[n]),s=ht.cssHooks[o],s&&"expand"in s){i=s.expand(i),delete t[o];for(n in i)n in t||(t[n]=i[n],e[n]=r)}else e[o]=r}function W(t,e,n){var o,r,i=0,s=W.prefilters.length,a=ht.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=Se||j(),n=Math.max(0,c.startTime+c.duration-e),o=n/c.duration||0,i=1-o,s=0,l=c.tweens.length;s<l;s++)c.tweens[s].run(i);return a.notifyWith(t,[c,i,n]),i<1&&l?n:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:ht.extend({},e),opts:ht.extend(!0,{specialEasing:{},easing:ht.easing._default},n),originalProperties:e,originalOptions:n,startTime:Se||j(),duration:n.duration,tweens:[],createTween:function(e,n){var o=ht.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(o),o},stop:function(e){var n=0,o=e?c.tweens.length:0;if(r)return this;for(r=!0;n<o;n++)c.tweens[n].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),u=c.props;for($(u,c.opts.specialEasing);i<s;i++)if(o=W.prefilters[i].call(c,t,u,c.opts))return ht.isFunction(o.stop)&&(ht._queueHooks(c.elem,c.opts.queue).stop=ht.proxy(o.stop,o)),o;return ht.map(u,q,c),ht.isFunction(c.opts.start)&&c.opts.start.call(t,c),ht.fx.timer(ht.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function z(t){return ht.attr(t,"class")||""}function V(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var o,r=0,i=e.toLowerCase().match(kt)||[];if(ht.isFunction(n))for(;o=i[r++];)"+"===o.charAt(0)?(o=o.slice(1)||"*",(t[o]=t[o]||[]).unshift(n)):(t[o]=t[o]||[]).push(n)}}function U(t,e,n,o){function r(a){var l;return i[a]=!0,ht.each(t[a]||[],function(t,a){var c=a(e,n,o);return"string"!=typeof c||s||i[c]?s?!(l=c):void 0:(e.dataTypes.unshift(c),r(c),!1)}),l}var i={},s=t===Ze;return r(e.dataTypes[0])||!i["*"]&&r("*")}function G(t,e){var n,o,r=ht.ajaxSettings.flatOptions||{};for(o in e)void 0!==e[o]&&((r[o]?t:n||(n={}))[o]=e[o]);return n&&ht.extend(!0,t,n),t}function K(t,e,n){for(var o,r,i,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(s in a)if(a[s]&&a[s].test(r)){l.unshift(s);break}if(l[0]in n)i=l[0];else{for(s in n){if(!l[0]||t.converters[s+" "+l[0]]){i=s;break}o||(o=s)}i=i||o}if(i)return i!==l[0]&&l.unshift(i),n[i]}function X(t,e,n,o){var r,i,s,a,l,c={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(i=u.shift();i;)if(t.responseFields[i]&&(n[t.responseFields[i]]=e),!l&&o&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=i,i=u.shift())if("*"===i)i=l;else if("*"!==l&&l!==i){if(s=c[l+" "+i]||c["* "+i],!s)for(r in c)if(a=r.split(" "),a[1]===i&&(s=c[l+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[r]:c[r]!==!0&&(i=a[0],u.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+i}}}return{state:"success",data:e}}function Y(t){return t.style&&t.style.display||ht.css(t,"display")}function Q(t){if(!ht.contains(t.ownerDocument||ot,t))return!0;for(;t&&1===t.nodeType;){if("none"===Y(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}function Z(t,e,n,o){var r;if(ht.isArray(e))ht.each(e,function(e,r){n||on.test(t)?o(t,r):Z(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,o)});else if(n||"object"!==ht.type(e))o(t,e);else for(r in e)Z(t+"["+r+"]",e[r],n,o)}function J(){try{return new t.XMLHttpRequest}catch(t){}}function tt(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function et(t){return ht.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var nt=[],ot=t.document,rt=nt.slice,it=nt.concat,st=nt.push,at=nt.indexOf,lt={},ct=lt.toString,ut=lt.hasOwnProperty,dt={},ft="1.12.4",ht=function(t,e){return new ht.fn.init(t,e)},pt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,mt=/^-ms-/,gt=/-([\da-z])/gi,yt=function(t,e){return e.toUpperCase()};ht.fn=ht.prototype={jquery:ft,constructor:ht,selector:"",length:0,toArray:function(){return rt.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:rt.call(this)},pushStack:function(t){var e=ht.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return ht.each(this,t)},map:function(t){return this.pushStack(ht.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(rt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:st,sort:nt.sort,splice:nt.splice},ht.extend=ht.fn.extend=function(){var t,e,n,o,r,i,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||ht.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(r=arguments[a]))for(o in r)t=s[o],n=r[o],s!==n&&(c&&n&&(ht.isPlainObject(n)||(e=ht.isArray(n)))?(e?(e=!1,i=t&&ht.isArray(t)?t:[]):i=t&&ht.isPlainObject(t)?t:{},s[o]=ht.extend(c,i,n)):void 0!==n&&(s[o]=n));return s},ht.extend({expando:"jQuery"+(ft+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ht.type(t)},isArray:Array.isArray||function(t){return"array"===ht.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!ht.isArray(t)&&e-parseFloat(e)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==ht.type(t)||t.nodeType||ht.isWindow(t))return!1;try{if(t.constructor&&!ut.call(t,"constructor")&&!ut.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}if(!dt.ownFirst)for(e in t)return ut.call(t,e);for(e in t);return void 0===e||ut.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?lt[ct.call(t)]||"object":typeof t},globalEval:function(e){e&&ht.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(mt,"ms-").replace(gt,yt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var o,r=0;if(n(t))for(o=t.length;r<o&&e.call(t[r],r,t[r])!==!1;r++);else for(r in t)if(e.call(t[r],r,t[r])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(pt,"")},makeArray:function(t,e){var o=e||[];return null!=t&&(n(Object(t))?ht.merge(o,"string"==typeof t?[t]:t):st.call(o,t)),o},inArray:function(t,e,n){var o;if(e){if(at)return at.call(e,t,n);for(o=e.length,n=n?n<0?Math.max(0,o+n):n:0;n<o;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,o=0,r=t.length;o<n;)t[r++]=e[o++];if(n!==n)for(;void 0!==e[o];)t[r++]=e[o++];return t.length=r,t},grep:function(t,e,n){for(var o,r=[],i=0,s=t.length,a=!n;i<s;i++)o=!e(t[i],i),o!==a&&r.push(t[i]);return r},map:function(t,e,o){var r,i,s=0,a=[];if(n(t))for(r=t.length;s<r;s++)i=e(t[s],s,o),null!=i&&a.push(i);else for(s in t)i=e(t[s],s,o),null!=i&&a.push(i);return it.apply([],a)},guid:1,proxy:function(t,e){var n,o,r;if("string"==typeof e&&(r=t[e],e=t,t=r),ht.isFunction(t))return n=rt.call(arguments,2),o=function(){return t.apply(e||this,n.concat(rt.call(arguments)))},o.guid=t.guid=t.guid||ht.guid++,o},now:function(){return+new Date},support:dt}),"function"==typeof Symbol&&(ht.fn[Symbol.iterator]=nt[Symbol.iterator]),ht.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){lt["[object "+e+"]"]=e.toLowerCase()});var vt=function(t){function e(t,e,n,o){var r,i,s,a,l,c,d,h,p=e&&e.ownerDocument,m=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==m&&9!==m&&11!==m)return n;if(!o&&((e?e.ownerDocument||e:q)!==O&&L(e),e=e||O,D)){if(11!==m&&(c=yt.exec(t)))if(r=c[1]){if(9===m){if(!(s=e.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(p&&(s=p.getElementById(r))&&j(e,s)&&s.id===r)return n.push(s),n}else{if(c[2])return Z.apply(n,e.getElementsByTagName(t)),n;if((r=c[3])&&C.getElementsByClassName&&e.getElementsByClassName)return Z.apply(n,e.getElementsByClassName(r)),n}if(C.qsa&&!V[t+" "]&&(!P||!P.test(t))){if(1!==m)p=e,h=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(bt,"\\$&"):e.setAttribute("id",a=H),d=S(t),i=d.length,l=ft.test(a)?"#"+a:"[id='"+a+"']";i--;)d[i]=l+" "+f(d[i]);h=d.join(","),p=vt.test(t)&&u(e.parentNode)||e}if(h)try{return Z.apply(n,p.querySelectorAll(h)),n}catch(t){}finally{a===H&&e.removeAttribute("id")}}}return _(t.replace(at,"$1"),e,n,o)}function n(){function t(n,o){return e.push(n+" ")>x.cacheLength&&delete t[e.shift()],t[n+" "]=o}var e=[];return t}function o(t){return t[H]=!0,t}function r(t){var e=O.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function i(t,e){for(var n=t.split("|"),o=n.length;o--;)x.attrHandle[n[o]]=e}function s(t,e){var n=e&&t,o=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||G)-(~t.sourceIndex||G);if(o)return o;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return o(function(e){return e=+e,o(function(n,o){for(var r,i=t([],n.length,e),s=i.length;s--;)n[r=i[s]]&&(n[r]=!(o[r]=n[r]))})})}function u(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function d(){}function f(t){for(var e=0,n=t.length,o="";e<n;e++)o+=t[e].value;return o}function h(t,e,n){var o=e.dir,r=n&&"parentNode"===o,i=$++;return e.first?function(e,n,i){for(;e=e[o];)if(1===e.nodeType||r)return t(e,n,i)}:function(e,n,s){var a,l,c,u=[F,i];if(s){for(;e=e[o];)if((1===e.nodeType||r)&&t(e,n,s))return!0}else for(;e=e[o];)if(1===e.nodeType||r){if(c=e[H]||(e[H]={}),l=c[e.uniqueID]||(c[e.uniqueID]={}),(a=l[o])&&a[0]===F&&a[1]===i)return u[2]=a[2];if(l[o]=u,u[2]=t(e,n,s))return!0}}}function p(t){return t.length>1?function(e,n,o){for(var r=t.length;r--;)if(!t[r](e,n,o))return!1;return!0}:t[0]}function m(t,n,o){for(var r=0,i=n.length;r<i;r++)e(t,n[r],o);return o}function g(t,e,n,o,r){for(var i,s=[],a=0,l=t.length,c=null!=e;a<l;a++)(i=t[a])&&(n&&!n(i,o,r)||(s.push(i),c&&e.push(a)));return s}function y(t,e,n,r,i,s){return r&&!r[H]&&(r=y(r)),i&&!i[H]&&(i=y(i,s)),o(function(o,s,a,l){var c,u,d,f=[],h=[],p=s.length,y=o||m(e||"*",a.nodeType?[a]:a,[]),v=!t||!o&&e?y:g(y,f,t,a,l),b=n?i||(o?t:p||r)?[]:s:v;if(n&&n(v,b,a,l),r)for(c=g(b,h),r(c,[],a,l),u=c.length;u--;)(d=c[u])&&(b[h[u]]=!(v[h[u]]=d));if(o){if(i||t){if(i){for(c=[],u=b.length;u--;)(d=b[u])&&c.push(v[u]=d);i(null,b=[],c,l)}for(u=b.length;u--;)(d=b[u])&&(c=i?tt(o,d):f[u])>-1&&(o[c]=!(s[c]=d))}}else b=g(b===s?b.splice(p,b.length):b),i?i(null,s,b,l):Z.apply(s,b)})}function v(t){for(var e,n,o,r=t.length,i=x.relative[t[0].type],s=i||x.relative[" "],a=i?1:0,l=h(function(t){return t===e},s,!0),c=h(function(t){return tt(e,t)>-1},s,!0),u=[function(t,n,o){var r=!i&&(o||n!==R)||((e=n).nodeType?l(t,n,o):c(t,n,o));return e=null,r}];a<r;a++)if(n=x.relative[t[a].type])u=[h(p(u),n)];else{if(n=x.filter[t[a].type].apply(null,t[a].matches),n[H]){for(o=++a;o<r&&!x.relative[t[o].type];o++);return y(a>1&&p(u),a>1&&f(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),n,a<o&&v(t.slice(a,o)),o<r&&v(t=t.slice(o)),o<r&&f(t))}u.push(n)}return p(u)}function b(t,n){var r=n.length>0,i=t.length>0,s=function(o,s,a,l,c){var u,d,f,h=0,p="0",m=o&&[],y=[],v=R,b=o||i&&x.find.TAG("*",c),w=F+=null==v?1:Math.random()||.1,C=b.length;for(c&&(R=s===O||s||c);p!==C&&null!=(u=b[p]);p++){if(i&&u){for(d=0,s||u.ownerDocument===O||(L(u),a=!D);f=t[d++];)if(f(u,s||O,a)){l.push(u);break}c&&(F=w)}r&&((u=!f&&u)&&h--,o&&m.push(u))}if(h+=p,r&&p!==h){for(d=0;f=n[d++];)f(m,y,s,a);if(o){if(h>0)for(;p--;)m[p]||y[p]||(y[p]=Y.call(l));y=g(y)}Z.apply(l,y),c&&!o&&y.length>0&&h+n.length>1&&e.uniqueSort(l)}return c&&(F=w,R=v),m};return r?o(s):s}var w,C,x,E,T,S,N,_,R,k,A,L,O,I,D,P,M,B,j,H="sizzle"+1*new Date,q=t.document,F=0,$=0,W=n(),z=n(),V=n(),U=function(t,e){return t===e&&(A=!0),0},G=1<<31,K={}.hasOwnProperty,X=[],Y=X.pop,Q=X.push,Z=X.push,J=X.slice,tt=function(t,e){for(var n=0,o=t.length;n<o;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",ot="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt="\\["+nt+"*("+ot+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ot+"))|)"+nt+"*\\]",it=":("+ot+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),at=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ut=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(it),ft=new RegExp("^"+ot+"$"),ht={ID:new RegExp("^#("+ot+")"),CLASS:new RegExp("^\\.("+ot+")"),TAG:new RegExp("^("+ot+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+it),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,vt=/[+~]/,bt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),Ct=function(t,e,n){var o="0x"+e-65536;return o!==o||n?e:o<0?String.fromCharCode(o+65536):String.fromCharCode(o>>10|55296,1023&o|56320)},xt=function(){L()};try{Z.apply(X=J.call(q.childNodes),q.childNodes),X[q.childNodes.length].nodeType}catch(t){Z={apply:X.length?function(t,e){Q.apply(t,J.call(e))}:function(t,e){for(var n=t.length,o=0;t[n++]=e[o++];);t.length=n-1}}}C=e.support={},T=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},L=e.setDocument=function(t){var e,n,o=t?t.ownerDocument||t:q;return o!==O&&9===o.nodeType&&o.documentElement?(O=o,I=O.documentElement,D=!T(O),(n=O.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",xt,!1):n.attachEvent&&n.attachEvent("onunload",xt)),C.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),C.getElementsByTagName=r(function(t){return t.appendChild(O.createComment("")),!t.getElementsByTagName("*").length}),C.getElementsByClassName=gt.test(O.getElementsByClassName),C.getById=r(function(t){return I.appendChild(t).id=H,!O.getElementsByName||!O.getElementsByName(H).length}),C.getById?(x.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&D){var n=e.getElementById(t);return n?[n]:[]}},x.filter.ID=function(t){var e=t.replace(wt,Ct);return function(t){return t.getAttribute("id")===e}}):(delete x.find.ID,x.filter.ID=function(t){var e=t.replace(wt,Ct);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),x.find.TAG=C.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):C.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,o=[],r=0,i=e.getElementsByTagName(t);if("*"===t){for(;n=i[r++];)1===n.nodeType&&o.push(n);return o}return i},x.find.CLASS=C.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&D)return e.getElementsByClassName(t)},M=[],P=[],(C.qsa=gt.test(O.querySelectorAll))&&(r(function(t){I.appendChild(t).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||P.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+H+"-]").length||P.push("~="),t.querySelectorAll(":checked").length||P.push(":checked"),t.querySelectorAll("a#"+H+"+*").length||P.push(".#.+[+~]")}),r(function(t){var e=O.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&P.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),P.push(",.*:")})),(C.matchesSelector=gt.test(B=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&r(function(t){C.disconnectedMatch=B.call(t,"div"),B.call(t,"[s!='']:x"),M.push("!=",it)}),P=P.length&&new RegExp(P.join("|")),M=M.length&&new RegExp(M.join("|")),e=gt.test(I.compareDocumentPosition),j=e||gt.test(I.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,o=e&&e.parentNode;return t===o||!(!o||1!==o.nodeType||!(n.contains?n.contains(o):t.compareDocumentPosition&&16&t.compareDocumentPosition(o)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},U=e?function(t,e){if(t===e)return A=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!C.sortDetached&&e.compareDocumentPosition(t)===n?t===O||t.ownerDocument===q&&j(q,t)?-1:e===O||e.ownerDocument===q&&j(q,e)?1:k?tt(k,t)-tt(k,e):0:4&n?-1:1)}:function(t,e){if(t===e)return A=!0,0;var n,o=0,r=t.parentNode,i=e.parentNode,a=[t],l=[e];if(!r||!i)return t===O?-1:e===O?1:r?-1:i?1:k?tt(k,t)-tt(k,e):0;if(r===i)return s(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;a[o]===l[o];)o++;return o?s(a[o],l[o]):a[o]===q?-1:l[o]===q?1:0},O):O},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==O&&L(t),n=n.replace(ut,"='$1']"),C.matchesSelector&&D&&!V[n+" "]&&(!M||!M.test(n))&&(!P||!P.test(n)))try{var o=B.call(t,n);if(o||C.disconnectedMatch||t.document&&11!==t.document.nodeType)return o}catch(t){}return e(n,O,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==O&&L(t),j(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==O&&L(t);var n=x.attrHandle[e.toLowerCase()],o=n&&K.call(x.attrHandle,e.toLowerCase())?n(t,e,!D):void 0;return void 0!==o?o:C.attributes||!D?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],o=0,r=0;if(A=!C.detectDuplicates,k=!C.sortStable&&t.slice(0),t.sort(U),A){for(;e=t[r++];)e===t[r]&&(o=n.push(r));for(;o--;)t.splice(n[o],1)}return k=null,t},E=e.getText=function(t){var e,n="",o=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=E(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[o++];)n+=E(e);return n},x=e.selectors={cacheLength:50,createPseudo:o,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,Ct),t[3]=(t[3]||t[4]||t[5]||"").replace(wt,Ct),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ht.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&dt.test(n)&&(e=S(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,Ct).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=W[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&W(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,o){return function(r){var i=e.attr(r,t);return null==i?"!="===n:!n||(i+="","="===n?i===o:"!="===n?i!==o:"^="===n?o&&0===i.indexOf(o):"*="===n?o&&i.indexOf(o)>-1:"$="===n?o&&i.slice(-o.length)===o:"~="===n?(" "+i.replace(st," ")+" ").indexOf(o)>-1:"|="===n&&(i===o||i.slice(0,o.length+1)===o+"-"))}},CHILD:function(t,e,n,o,r){var i="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===o&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var c,u,d,f,h,p,m=i!==s?"nextSibling":"previousSibling",g=e.parentNode,y=a&&e.nodeName.toLowerCase(),v=!l&&!a,b=!1;if(g){if(i){for(;m;){for(f=e;f=f[m];)if(a?f.nodeName.toLowerCase()===y:1===f.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?g.firstChild:g.lastChild],s&&v){for(f=g,d=f[H]||(f[H]={}),u=d[f.uniqueID]||(d[f.uniqueID]={}),c=u[t]||[],h=c[0]===F&&c[1],b=h&&c[2],f=h&&g.childNodes[h];f=++h&&f&&f[m]||(b=h=0)||p.pop();)if(1===f.nodeType&&++b&&f===e){u[t]=[F,h,b];break}}else if(v&&(f=e,d=f[H]||(f[H]={}),u=d[f.uniqueID]||(d[f.uniqueID]={}),c=u[t]||[],h=c[0]===F&&c[1],b=h),b===!1)for(;(f=++h&&f&&f[m]||(b=h=0)||p.pop())&&((a?f.nodeName.toLowerCase()!==y:1!==f.nodeType)||!++b||(v&&(d=f[H]||(f[H]={}),u=d[f.uniqueID]||(d[f.uniqueID]={}),u[t]=[F,b]),f!==e)););return b-=r,b===o||b%o===0&&b/o>=0}}},PSEUDO:function(t,n){var r,i=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return i[H]?i(n):i.length>1?(r=[t,t,"",n],x.setFilters.hasOwnProperty(t.toLowerCase())?o(function(t,e){for(var o,r=i(t,n),s=r.length;s--;)o=tt(t,r[s]),t[o]=!(e[o]=r[s])}):function(t){return i(t,0,r)}):i}},pseudos:{not:o(function(t){
var e=[],n=[],r=N(t.replace(at,"$1"));return r[H]?o(function(t,e,n,o){for(var i,s=r(t,null,o,[]),a=t.length;a--;)(i=s[a])&&(t[a]=!(e[a]=i))}):function(t,o,i){return e[0]=t,r(e,null,i,n),e[0]=null,!n.pop()}}),has:o(function(t){return function(n){return e(t,n).length>0}}),contains:o(function(t){return t=t.replace(wt,Ct),function(e){return(e.textContent||e.innerText||E(e)).indexOf(t)>-1}}),lang:o(function(t){return ft.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(wt,Ct).toLowerCase(),function(e){var n;do if(n=D?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===I},focus:function(t){return t===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[n<0?n+e:n]}),even:c(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var o=n<0?n+e:n;--o>=0;)t.push(o);return t}),gt:c(function(t,e,n){for(var o=n<0?n+e:n;++o<e;)t.push(o);return t})}},x.pseudos.nth=x.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})x.pseudos[w]=l(w);return d.prototype=x.filters=x.pseudos,x.setFilters=new d,S=e.tokenize=function(t,n){var o,r,i,s,a,l,c,u=z[t+" "];if(u)return n?0:u.slice(0);for(a=t,l=[],c=x.preFilter;a;){o&&!(r=lt.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(i=[])),o=!1,(r=ct.exec(a))&&(o=r.shift(),i.push({value:o,type:r[0].replace(at," ")}),a=a.slice(o.length));for(s in x.filter)!(r=ht[s].exec(a))||c[s]&&!(r=c[s](r))||(o=r.shift(),i.push({value:o,type:s,matches:r}),a=a.slice(o.length));if(!o)break}return n?a.length:a?e.error(t):z(t,l).slice(0)},N=e.compile=function(t,e){var n,o=[],r=[],i=V[t+" "];if(!i){for(e||(e=S(t)),n=e.length;n--;)i=v(e[n]),i[H]?o.push(i):r.push(i);i=V(t,b(r,o)),i.selector=t}return i},_=e.select=function(t,e,n,o){var r,i,s,a,l,c="function"==typeof t&&t,d=!o&&S(t=c.selector||t);if(n=n||[],1===d.length){if(i=d[0]=d[0].slice(0),i.length>2&&"ID"===(s=i[0]).type&&C.getById&&9===e.nodeType&&D&&x.relative[i[1].type]){if(e=(x.find.ID(s.matches[0].replace(wt,Ct),e)||[])[0],!e)return n;c&&(e=e.parentNode),t=t.slice(i.shift().value.length)}for(r=ht.needsContext.test(t)?0:i.length;r--&&(s=i[r],!x.relative[a=s.type]);)if((l=x.find[a])&&(o=l(s.matches[0].replace(wt,Ct),vt.test(i[0].type)&&u(e.parentNode)||e))){if(i.splice(r,1),t=o.length&&f(i),!t)return Z.apply(n,o),n;break}}return(c||N(t,d))(o,e,!D,n,!e||vt.test(t)&&u(e.parentNode)||e),n},C.sortStable=H.split("").sort(U).join("")===H,C.detectDuplicates=!!A,L(),C.sortDetached=r(function(t){return 1&t.compareDocumentPosition(O.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||i("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),C.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||i("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||i(et,function(t,e,n){var o;if(!n)return t[e]===!0?e.toLowerCase():(o=t.getAttributeNode(e))&&o.specified?o.value:null}),e}(t);ht.find=vt,ht.expr=vt.selectors,ht.expr[":"]=ht.expr.pseudos,ht.uniqueSort=ht.unique=vt.uniqueSort,ht.text=vt.getText,ht.isXMLDoc=vt.isXML,ht.contains=vt.contains;var bt=function(t,e,n){for(var o=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&ht(t).is(n))break;o.push(t)}return o},wt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},Ct=ht.expr.match.needsContext,xt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Et=/^.[^:#\[\.,]*$/;ht.filter=function(t,e,n){var o=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===o.nodeType?ht.find.matchesSelector(o,t)?[o]:[]:ht.find.matches(t,ht.grep(e,function(t){return 1===t.nodeType}))},ht.fn.extend({find:function(t){var e,n=[],o=this,r=o.length;if("string"!=typeof t)return this.pushStack(ht(t).filter(function(){for(e=0;e<r;e++)if(ht.contains(o[e],this))return!0}));for(e=0;e<r;e++)ht.find(t,o[e],n);return n=this.pushStack(r>1?ht.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(o(this,t||[],!1))},not:function(t){return this.pushStack(o(this,t||[],!0))},is:function(t){return!!o(this,"string"==typeof t&&Ct.test(t)?ht(t):t||[],!1).length}});var Tt,St=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,Nt=ht.fn.init=function(t,e,n){var o,r;if(!t)return this;if(n=n||Tt,"string"==typeof t){if(o="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:St.exec(t),!o||!o[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(o[1]){if(e=e instanceof ht?e[0]:e,ht.merge(this,ht.parseHTML(o[1],e&&e.nodeType?e.ownerDocument||e:ot,!0)),xt.test(o[1])&&ht.isPlainObject(e))for(o in e)ht.isFunction(this[o])?this[o](e[o]):this.attr(o,e[o]);return this}if(r=ot.getElementById(o[2]),r&&r.parentNode){if(r.id!==o[2])return Tt.find(t);this.length=1,this[0]=r}return this.context=ot,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ht.isFunction(t)?"undefined"!=typeof n.ready?n.ready(t):t(ht):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),ht.makeArray(t,this))};Nt.prototype=ht.fn,Tt=ht(ot);var _t=/^(?:parents|prev(?:Until|All))/,Rt={children:!0,contents:!0,next:!0,prev:!0};ht.fn.extend({has:function(t){var e,n=ht(t,this),o=n.length;return this.filter(function(){for(e=0;e<o;e++)if(ht.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,o=0,r=this.length,i=[],s=Ct.test(t)||"string"!=typeof t?ht(t,e||this.context):0;o<r;o++)for(n=this[o];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ht.find.matchesSelector(n,t))){i.push(n);break}return this.pushStack(i.length>1?ht.uniqueSort(i):i)},index:function(t){return t?"string"==typeof t?ht.inArray(this[0],ht(t)):ht.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ht.uniqueSort(ht.merge(this.get(),ht(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ht.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return bt(t,"parentNode")},parentsUntil:function(t,e,n){return bt(t,"parentNode",n)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return bt(t,"nextSibling")},prevAll:function(t){return bt(t,"previousSibling")},nextUntil:function(t,e,n){return bt(t,"nextSibling",n)},prevUntil:function(t,e,n){return bt(t,"previousSibling",n)},siblings:function(t){return wt((t.parentNode||{}).firstChild,t)},children:function(t){return wt(t.firstChild)},contents:function(t){return ht.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:ht.merge([],t.childNodes)}},function(t,e){ht.fn[t]=function(n,o){var r=ht.map(this,e,n);return"Until"!==t.slice(-5)&&(o=n),o&&"string"==typeof o&&(r=ht.filter(o,r)),this.length>1&&(Rt[t]||(r=ht.uniqueSort(r)),_t.test(t)&&(r=r.reverse())),this.pushStack(r)}});var kt=/\S+/g;ht.Callbacks=function(t){t="string"==typeof t?i(t):ht.extend({},t);var e,n,o,r,s=[],a=[],l=-1,c=function(){for(r=t.once,o=e=!0;a.length;l=-1)for(n=a.shift();++l<s.length;)s[l].apply(n[0],n[1])===!1&&t.stopOnFalse&&(l=s.length,n=!1);t.memory||(n=!1),e=!1,r&&(s=n?[]:"")},u={add:function(){return s&&(n&&!e&&(l=s.length-1,a.push(n)),function e(n){ht.each(n,function(n,o){ht.isFunction(o)?t.unique&&u.has(o)||s.push(o):o&&o.length&&"string"!==ht.type(o)&&e(o)})}(arguments),n&&!e&&c()),this},remove:function(){return ht.each(arguments,function(t,e){for(var n;(n=ht.inArray(e,s,n))>-1;)s.splice(n,1),n<=l&&l--}),this},has:function(t){return t?ht.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=a=[],s=n="",this},disabled:function(){return!s},lock:function(){return r=!0,n||u.disable(),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=n||[],n=[t,n.slice?n.slice():n],a.push(n),e||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!o}};return u},ht.extend({Deferred:function(t){var e=[["resolve","done",ht.Callbacks("once memory"),"resolved"],["reject","fail",ht.Callbacks("once memory"),"rejected"],["notify","progress",ht.Callbacks("memory")]],n="pending",o={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ht.Deferred(function(n){ht.each(e,function(e,i){var s=ht.isFunction(t[e])&&t[e];r[i[1]](function(){var t=s&&s.apply(this,arguments);t&&ht.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this===o?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ht.extend(t,o):o}},r={};return o.pipe=o.then,ht.each(e,function(t,i){var s=i[2],a=i[3];o[i[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),r[i[0]]=function(){return r[i[0]+"With"](this===r?o:this,arguments),this},r[i[0]+"With"]=s.fireWith}),o.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,o,r=0,i=rt.call(arguments),s=i.length,a=1!==s||t&&ht.isFunction(t.promise)?s:0,l=1===a?t:ht.Deferred(),c=function(t,n,o){return function(r){n[t]=this,o[t]=arguments.length>1?rt.call(arguments):r,o===e?l.notifyWith(n,o):--a||l.resolveWith(n,o)}};if(s>1)for(e=new Array(s),n=new Array(s),o=new Array(s);r<s;r++)i[r]&&ht.isFunction(i[r].promise)?i[r].promise().progress(c(r,n,e)).done(c(r,o,i)).fail(l.reject):--a;return a||l.resolveWith(o,i),l.promise()}});var At;ht.fn.ready=function(t){return ht.ready.promise().done(t),this},ht.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ht.readyWait++:ht.ready(!0)},ready:function(t){(t===!0?--ht.readyWait:ht.isReady)||(ht.isReady=!0,t!==!0&&--ht.readyWait>0||(At.resolveWith(ot,[ht]),ht.fn.triggerHandler&&(ht(ot).triggerHandler("ready"),ht(ot).off("ready"))))}}),ht.ready.promise=function(e){if(!At)if(At=ht.Deferred(),"complete"===ot.readyState||"loading"!==ot.readyState&&!ot.documentElement.doScroll)t.setTimeout(ht.ready);else if(ot.addEventListener)ot.addEventListener("DOMContentLoaded",a),t.addEventListener("load",a);else{ot.attachEvent("onreadystatechange",a),t.attachEvent("onload",a);var n=!1;try{n=null==t.frameElement&&ot.documentElement}catch(t){}n&&n.doScroll&&!function e(){if(!ht.isReady){try{n.doScroll("left")}catch(n){return t.setTimeout(e,50)}s(),ht.ready()}}()}return At.promise(e)},ht.ready.promise();var Lt;for(Lt in ht(dt))break;dt.ownFirst="0"===Lt,dt.inlineBlockNeedsLayout=!1,ht(function(){var t,e,n,o;n=ot.getElementsByTagName("body")[0],n&&n.style&&(e=ot.createElement("div"),o=ot.createElement("div"),o.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(o).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",dt.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(o))}),function(){var t=ot.createElement("div");dt.deleteExpando=!0;try{delete t.test}catch(t){dt.deleteExpando=!1}t=null}();var Ot=function(t){var e=ht.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return(1===n||9===n)&&(!e||e!==!0&&t.getAttribute("classid")===e)},It=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Dt=/([A-Z])/g;ht.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?ht.cache[t[ht.expando]]:t[ht.expando],!!t&&!c(t)},data:function(t,e,n){return u(t,e,n)},removeData:function(t,e){return d(t,e)},_data:function(t,e,n){return u(t,e,n,!0)},_removeData:function(t,e){return d(t,e,!0)}}),ht.fn.extend({data:function(t,e){var n,o,r,i=this[0],s=i&&i.attributes;if(void 0===t){if(this.length&&(r=ht.data(i),1===i.nodeType&&!ht._data(i,"parsedAttrs"))){for(n=s.length;n--;)s[n]&&(o=s[n].name,0===o.indexOf("data-")&&(o=ht.camelCase(o.slice(5)),l(i,o,r[o])));ht._data(i,"parsedAttrs",!0)}return r}return"object"==typeof t?this.each(function(){ht.data(this,t)}):arguments.length>1?this.each(function(){ht.data(this,t,e)}):i?l(i,t,ht.data(i,t)):void 0},removeData:function(t){return this.each(function(){ht.removeData(this,t)})}}),ht.extend({queue:function(t,e,n){var o;if(t)return e=(e||"fx")+"queue",o=ht._data(t,e),n&&(!o||ht.isArray(n)?o=ht._data(t,e,ht.makeArray(n)):o.push(n)),o||[]},dequeue:function(t,e){e=e||"fx";var n=ht.queue(t,e),o=n.length,r=n.shift(),i=ht._queueHooks(t,e),s=function(){ht.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),o--),r&&("fx"===e&&n.unshift("inprogress"),delete i.stop,r.call(t,s,i)),!o&&i&&i.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ht._data(t,n)||ht._data(t,n,{empty:ht.Callbacks("once memory").add(function(){ht._removeData(t,e+"queue"),ht._removeData(t,n)})})}}),ht.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?ht.queue(this[0],t):void 0===e?this:this.each(function(){var n=ht.queue(this,t,e);ht._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&ht.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ht.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,o=1,r=ht.Deferred(),i=this,s=this.length,a=function(){--o||r.resolveWith(i,[i])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=ht._data(i[s],t+"queueHooks"),n&&n.empty&&(o++,n.empty.add(a));return a(),r.promise(e)}}),function(){var t;dt.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,n,o;return n=ot.getElementsByTagName("body")[0],n&&n.style?(e=ot.createElement("div"),o=ot.createElement("div"),o.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(o).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(ot.createElement("div")).style.width="5px",t=3!==e.offsetWidth),n.removeChild(o),t):void 0}}();var Pt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Mt=new RegExp("^(?:([+-])=|)("+Pt+")([a-z%]*)$","i"),Bt=["Top","Right","Bottom","Left"],jt=function(t,e){return t=e||t,"none"===ht.css(t,"display")||!ht.contains(t.ownerDocument,t)},Ht=function(t,e,n,o,r,i,s){var a=0,l=t.length,c=null==n;if("object"===ht.type(n)){r=!0;for(a in n)Ht(t,e,a,n[a],!0,i,s)}else if(void 0!==o&&(r=!0,ht.isFunction(o)||(s=!0),c&&(s?(e.call(t,o),e=null):(c=e,e=function(t,e,n){return c.call(ht(t),n)})),e))for(;a<l;a++)e(t[a],n,s?o:o.call(t[a],a,e(t[a],n)));return r?t:c?e.call(t):l?e(t[0],n):i},qt=/^(?:checkbox|radio)$/i,Ft=/<([\w:-]+)/,$t=/^$|\/(?:java|ecma)script/i,Wt=/^\s+/,zt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var t=ot.createElement("div"),e=ot.createDocumentFragment(),n=ot.createElement("input");t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",dt.leadingWhitespace=3===t.firstChild.nodeType,dt.tbody=!t.getElementsByTagName("tbody").length,dt.htmlSerialize=!!t.getElementsByTagName("link").length,dt.html5Clone="<:nav></:nav>"!==ot.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,e.appendChild(n),dt.appendChecked=n.checked,t.innerHTML="<textarea>x</textarea>",dt.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,e.appendChild(t),n=ot.createElement("input"),n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),dt.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,dt.noCloneEvent=!!t.addEventListener,t[ht.expando]=1,dt.attributes=!t.getAttribute(ht.expando)}();var Vt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:dt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Vt.optgroup=Vt.option,Vt.tbody=Vt.tfoot=Vt.colgroup=Vt.caption=Vt.thead,Vt.th=Vt.td;var Ut=/<|&#?\w+;/,Gt=/<tbody/i;!function(){var e,n,o=ot.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})n="on"+e,(dt[e]=n in t)||(o.setAttribute(n,"t"),dt[e]=o.attributes[n].expando===!1);o=null}();var Kt=/^(?:input|select|textarea)$/i,Xt=/^key/,Yt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Qt=/^(?:focusinfocus|focusoutblur)$/,Zt=/^([^.]*)(?:\.(.+)|)/;ht.event={global:{},add:function(t,e,n,o,r){var i,s,a,l,c,u,d,f,h,p,m,g=ht._data(t);if(g){for(n.handler&&(l=n,n=l.handler,r=l.selector),n.guid||(n.guid=ht.guid++),(s=g.events)||(s=g.events={}),(u=g.handle)||(u=g.handle=function(t){return"undefined"==typeof ht||t&&ht.event.triggered===t.type?void 0:ht.event.dispatch.apply(u.elem,arguments)},u.elem=t),e=(e||"").match(kt)||[""],a=e.length;a--;)i=Zt.exec(e[a])||[],h=m=i[1],p=(i[2]||"").split(".").sort(),h&&(c=ht.event.special[h]||{},h=(r?c.delegateType:c.bindType)||h,c=ht.event.special[h]||{},d=ht.extend({type:h,origType:m,data:o,handler:n,guid:n.guid,selector:r,needsContext:r&&ht.expr.match.needsContext.test(r),namespace:p.join(".")},l),(f=s[h])||(f=s[h]=[],f.delegateCount=0,c.setup&&c.setup.call(t,o,p,u)!==!1||(t.addEventListener?t.addEventListener(h,u,!1):t.attachEvent&&t.attachEvent("on"+h,u))),c.add&&(c.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,d):f.push(d),ht.event.global[h]=!0);t=null}},remove:function(t,e,n,o,r){var i,s,a,l,c,u,d,f,h,p,m,g=ht.hasData(t)&&ht._data(t);if(g&&(u=g.events)){for(e=(e||"").match(kt)||[""],c=e.length;c--;)if(a=Zt.exec(e[c])||[],h=m=a[1],p=(a[2]||"").split(".").sort(),h){for(d=ht.event.special[h]||{},h=(o?d.delegateType:d.bindType)||h,f=u[h]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=i=f.length;i--;)s=f[i],!r&&m!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||o&&o!==s.selector&&("**"!==o||!s.selector)||(f.splice(i,1),s.selector&&f.delegateCount--,d.remove&&d.remove.call(t,s));l&&!f.length&&(d.teardown&&d.teardown.call(t,p,g.handle)!==!1||ht.removeEvent(t,h,g.handle),delete u[h])}else for(h in u)ht.event.remove(t,h+e[c],n,o,!0);ht.isEmptyObject(u)&&(delete g.handle,ht._removeData(t,"events"))}},trigger:function(e,n,o,r){var i,s,a,l,c,u,d,f=[o||ot],h=ut.call(e,"type")?e.type:e,p=ut.call(e,"namespace")?e.namespace.split("."):[];if(a=u=o=o||ot,3!==o.nodeType&&8!==o.nodeType&&!Qt.test(h+ht.event.triggered)&&(h.indexOf(".")>-1&&(p=h.split("."),h=p.shift(),p.sort()),s=h.indexOf(":")<0&&"on"+h,e=e[ht.expando]?e:new ht.Event(h,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=o),n=null==n?[e]:ht.makeArray(n,[e]),c=ht.event.special[h]||{},r||!c.trigger||c.trigger.apply(o,n)!==!1)){if(!r&&!c.noBubble&&!ht.isWindow(o)){for(l=c.delegateType||h,Qt.test(l+h)||(a=a.parentNode);a;a=a.parentNode)f.push(a),u=a;u===(o.ownerDocument||ot)&&f.push(u.defaultView||u.parentWindow||t)}for(d=0;(a=f[d++])&&!e.isPropagationStopped();)e.type=d>1?l:c.bindType||h,i=(ht._data(a,"events")||{})[e.type]&&ht._data(a,"handle"),i&&i.apply(a,n),i=s&&a[s],i&&i.apply&&Ot(a)&&(e.result=i.apply(a,n),e.result===!1&&e.preventDefault());if(e.type=h,!r&&!e.isDefaultPrevented()&&(!c._default||c._default.apply(f.pop(),n)===!1)&&Ot(o)&&s&&o[h]&&!ht.isWindow(o)){u=o[s],u&&(o[s]=null),ht.event.triggered=h;try{o[h]()}catch(t){}ht.event.triggered=void 0,u&&(o[s]=u)}return e.result}},dispatch:function(t){t=ht.event.fix(t);var e,n,o,r,i,s=[],a=rt.call(arguments),l=(ht._data(this,"events")||{})[t.type]||[],c=ht.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,t)!==!1){for(s=ht.event.handlers.call(this,t,l),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(i=r.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(i.namespace)||(t.handleObj=i,t.data=i.data,o=((ht.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,a),void 0!==o&&(t.result=o)===!1&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,o,r,i,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(o=[],n=0;n<a;n++)i=e[n],r=i.selector+" ",void 0===o[r]&&(o[r]=i.needsContext?ht(r,this).index(l)>-1:ht.find(r,this,null,[l]).length),o[r]&&o.push(i);o.length&&s.push({elem:l,handlers:o})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},fix:function(t){if(t[ht.expando])return t;var e,n,o,r=t.type,i=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Yt.test(r)?this.mouseHooks:Xt.test(r)?this.keyHooks:{}),o=s.props?this.props.concat(s.props):this.props,t=new ht.Event(i),e=o.length;e--;)n=o[e],t[n]=i[n];return t.target||(t.target=i.srcElement||ot),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,s.filter?s.filter(t,i):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,o,r,i=e.button,s=e.fromElement;return null==t.pageX&&null!=e.clientX&&(o=t.target.ownerDocument||ot,r=o.documentElement,n=o.body,t.pageX=e.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?e.toElement:s),t.which||void 0===i||(t.which=1&i?1:2&i?3:4&i?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==w()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===w()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(ht.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(t){return ht.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n){var o=ht.extend(new ht.Event,n,{type:t,isSimulated:!0});ht.event.trigger(o,null,e),o.isDefaultPrevented()&&n.preventDefault()}},ht.removeEvent=ot.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)}:function(t,e,n){var o="on"+e;t.detachEvent&&("undefined"==typeof t[o]&&(t[o]=null),t.detachEvent(o,n))},ht.Event=function(t,e){return this instanceof ht.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?v:b):this.type=t,e&&ht.extend(this,e),this.timeStamp=t&&t.timeStamp||ht.now(),void(this[ht.expando]=!0)):new ht.Event(t,e)},ht.Event.prototype={constructor:ht.Event,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=v,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=v,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=v,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},ht.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ht.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,o=this,r=t.relatedTarget,i=t.handleObj;return r&&(r===o||ht.contains(o,r))||(t.type=i.origType,n=i.handler.apply(this,arguments),t.type=e),n}}}),dt.submit||(ht.event.special.submit={setup:function(){return!ht.nodeName(this,"form")&&void ht.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=ht.nodeName(e,"input")||ht.nodeName(e,"button")?ht.prop(e,"form"):void 0;n&&!ht._data(n,"submit")&&(ht.event.add(n,"submit._submit",function(t){t._submitBubble=!0}),ht._data(n,"submit",!0))})},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&ht.event.simulate("submit",this.parentNode,t))},teardown:function(){return!ht.nodeName(this,"form")&&void ht.event.remove(this,"._submit")}}),dt.change||(ht.event.special.change={setup:function(){return Kt.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(ht.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)}),ht.event.add(this,"click._change",function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),ht.event.simulate("change",this,t)})),!1):void ht.event.add(this,"beforeactivate._change",function(t){var e=t.target;Kt.test(e.nodeName)&&!ht._data(e,"change")&&(ht.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||ht.event.simulate("change",this.parentNode,t)}),ht._data(e,"change",!0))})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return ht.event.remove(this,"._change"),!Kt.test(this.nodeName)}}),dt.focusin||ht.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){ht.event.simulate(e,t.target,ht.event.fix(t))};ht.event.special[e]={setup:function(){var o=this.ownerDocument||this,r=ht._data(o,e);r||o.addEventListener(t,n,!0),ht._data(o,e,(r||0)+1)},teardown:function(){var o=this.ownerDocument||this,r=ht._data(o,e)-1;r?ht._data(o,e,r):(o.removeEventListener(t,n,!0),ht._removeData(o,e))}}}),ht.fn.extend({on:function(t,e,n,o){return C(this,t,e,n,o)},one:function(t,e,n,o){return C(this,t,e,n,o,1)},off:function(t,e,n){var o,r;if(t&&t.preventDefault&&t.handleObj)return o=t.handleObj,ht(t.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=void 0),n===!1&&(n=b),this.each(function(){ht.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){ht.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return ht.event.trigger(t,e,n,!0)}});var Jt=/ jQuery\d+="(?:null|\d+)"/g,te=new RegExp("<(?:"+zt+")[\\s/>]","i"),ee=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ne=/<script|<style|<link/i,oe=/checked\s*(?:[^=]|=\s*.checked.)/i,re=/^true\/(.*)/,ie=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,se=h(ot),ae=se.appendChild(ot.createElement("div"));ht.extend({htmlPrefilter:function(t){return t.replace(ee,"<$1></$2>")},clone:function(t,e,n){var o,r,i,s,a,l=ht.contains(t.ownerDocument,t);if(dt.html5Clone||ht.isXMLDoc(t)||!te.test("<"+t.nodeName+">")?i=t.cloneNode(!0):(ae.innerHTML=t.outerHTML,ae.removeChild(i=ae.firstChild)),!(dt.noCloneEvent&&dt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ht.isXMLDoc(t)))for(o=p(i),a=p(t),s=0;null!=(r=a[s]);++s)o[s]&&N(r,o[s]);if(e)if(n)for(a=a||p(t),o=o||p(i),s=0;null!=(r=a[s]);s++)S(r,o[s]);else S(t,i);return o=p(i,"script"),o.length>0&&m(o,!l&&p(t,"script")),o=a=r=null,i},cleanData:function(t,e){for(var n,o,r,i,s=0,a=ht.expando,l=ht.cache,c=dt.attributes,u=ht.event.special;null!=(n=t[s]);s++)if((e||Ot(n))&&(r=n[a],i=r&&l[r])){if(i.events)for(o in i.events)u[o]?ht.event.remove(n,o):ht.removeEvent(n,o,i.handle);l[r]&&(delete l[r],c||"undefined"==typeof n.removeAttribute?n[a]=void 0:n.removeAttribute(a),nt.push(r))}}}),ht.fn.extend({domManip:_,detach:function(t){return R(this,t,!0)},remove:function(t){return R(this,t)},text:function(t){return Ht(this,function(t){return void 0===t?ht.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ot).createTextNode(t))},null,t,arguments.length)},append:function(){return _(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=x(this,t);e.appendChild(t)}})},prepend:function(){return _(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=x(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return _(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return _(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&ht.cleanData(p(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&ht.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return ht.clone(this,t,e)})},html:function(t){return Ht(this,function(t){var e=this[0]||{},n=0,o=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(Jt,""):void 0;if("string"==typeof t&&!ne.test(t)&&(dt.htmlSerialize||!te.test(t))&&(dt.leadingWhitespace||!Wt.test(t))&&!Vt[(Ft.exec(t)||["",""])[1].toLowerCase()]){t=ht.htmlPrefilter(t);try{for(;n<o;n++)e=this[n]||{},1===e.nodeType&&(ht.cleanData(p(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return _(this,arguments,function(e){var n=this.parentNode;ht.inArray(this,t)<0&&(ht.cleanData(p(this)),n&&n.replaceChild(e,this))},t)}}),ht.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ht.fn[t]=function(t){for(var n,o=0,r=[],i=ht(t),s=i.length-1;o<=s;o++)n=o===s?this:this.clone(!0),ht(i[o])[e](n),st.apply(r,n.get());return this.pushStack(r)}});var le,ce={HTML:"block",BODY:"block"},ue=/^margin/,de=new RegExp("^("+Pt+")(?!px)[a-z%]+$","i"),fe=function(t,e,n,o){var r,i,s={};for(i in e)s[i]=t.style[i],t.style[i]=e[i];r=n.apply(t,o||[]);for(i in e)t.style[i]=s[i];return r},he=ot.documentElement;!function(){function e(){var e,u,d=ot.documentElement;d.appendChild(l),c.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",n=r=a=!1,o=s=!0,t.getComputedStyle&&(u=t.getComputedStyle(c),n="1%"!==(u||{}).top,a="2px"===(u||{}).marginLeft,r="4px"===(u||{width:"4px"}).width,c.style.marginRight="50%",o="4px"===(u||{marginRight:"4px"}).marginRight,e=c.appendChild(ot.createElement("div")),e.style.cssText=c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",c.style.width="1px",s=!parseFloat((t.getComputedStyle(e)||{}).marginRight),c.removeChild(e)),c.style.display="none",i=0===c.getClientRects().length,i&&(c.style.display="",c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c.childNodes[0].style.borderCollapse="separate",e=c.getElementsByTagName("td"),
e[0].style.cssText="margin:0;border:0;padding:0;display:none",i=0===e[0].offsetHeight,i&&(e[0].style.display="",e[1].style.display="none",i=0===e[0].offsetHeight)),d.removeChild(l)}var n,o,r,i,s,a,l=ot.createElement("div"),c=ot.createElement("div");c.style&&(c.style.cssText="float:left;opacity:.5",dt.opacity="0.5"===c.style.opacity,dt.cssFloat=!!c.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",dt.clearCloneStyle="content-box"===c.style.backgroundClip,l=ot.createElement("div"),l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",c.innerHTML="",l.appendChild(c),dt.boxSizing=""===c.style.boxSizing||""===c.style.MozBoxSizing||""===c.style.WebkitBoxSizing,ht.extend(dt,{reliableHiddenOffsets:function(){return null==n&&e(),i},boxSizingReliable:function(){return null==n&&e(),r},pixelMarginRight:function(){return null==n&&e(),o},pixelPosition:function(){return null==n&&e(),n},reliableMarginRight:function(){return null==n&&e(),s},reliableMarginLeft:function(){return null==n&&e(),a}}))}();var pe,me,ge=/^(top|right|bottom|left)$/;t.getComputedStyle?(pe=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},me=function(t,e,n){var o,r,i,s,a=t.style;return n=n||pe(t),s=n?n.getPropertyValue(e)||n[e]:void 0,""!==s&&void 0!==s||ht.contains(t.ownerDocument,t)||(s=ht.style(t,e)),n&&!dt.pixelMarginRight()&&de.test(s)&&ue.test(e)&&(o=a.width,r=a.minWidth,i=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=o,a.minWidth=r,a.maxWidth=i),void 0===s?s:s+""}):he.currentStyle&&(pe=function(t){return t.currentStyle},me=function(t,e,n){var o,r,i,s,a=t.style;return n=n||pe(t),s=n?n[e]:void 0,null==s&&a&&a[e]&&(s=a[e]),de.test(s)&&!ge.test(e)&&(o=a.left,r=t.runtimeStyle,i=r&&r.left,i&&(r.left=t.currentStyle.left),a.left="fontSize"===e?"1em":s,s=a.pixelLeft+"px",a.left=o,i&&(r.left=i)),void 0===s?s:s+""||"auto"});var ye=/alpha\([^)]*\)/i,ve=/opacity\s*=\s*([^)]*)/i,be=/^(none|table(?!-c[ea]).+)/,we=new RegExp("^("+Pt+")(.*)$","i"),Ce={position:"absolute",visibility:"hidden",display:"block"},xe={letterSpacing:"0",fontWeight:"400"},Ee=["Webkit","O","Moz","ms"],Te=ot.createElement("div").style;ht.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=me(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":dt.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,o){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,i,s,a=ht.camelCase(e),l=t.style;if(e=ht.cssProps[a]||(ht.cssProps[a]=O(a)||a),s=ht.cssHooks[e]||ht.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,o))?r:l[e];if(i=typeof n,"string"===i&&(r=Mt.exec(n))&&r[1]&&(n=f(t,e,r),i="number"),null!=n&&n===n&&("number"===i&&(n+=r&&r[3]||(ht.cssNumber[a]?"":"px")),dt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),!(s&&"set"in s&&void 0===(n=s.set(t,n,o)))))try{l[e]=n}catch(t){}}},css:function(t,e,n,o){var r,i,s,a=ht.camelCase(e);return e=ht.cssProps[a]||(ht.cssProps[a]=O(a)||a),s=ht.cssHooks[e]||ht.cssHooks[a],s&&"get"in s&&(i=s.get(t,!0,n)),void 0===i&&(i=me(t,e,o)),"normal"===i&&e in xe&&(i=xe[e]),""===n||n?(r=parseFloat(i),n===!0||isFinite(r)?r||0:i):i}}),ht.each(["height","width"],function(t,e){ht.cssHooks[e]={get:function(t,n,o){if(n)return be.test(ht.css(t,"display"))&&0===t.offsetWidth?fe(t,Ce,function(){return M(t,e,o)}):M(t,e,o)},set:function(t,n,o){var r=o&&pe(t);return D(t,n,o?P(t,e,o,dt.boxSizing&&"border-box"===ht.css(t,"boxSizing",!1,r),r):0)}}}),dt.opacity||(ht.cssHooks.opacity={get:function(t,e){return ve.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,o=t.currentStyle,r=ht.isNumeric(e)?"alpha(opacity="+100*e+")":"",i=o&&o.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===ht.trim(i.replace(ye,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||o&&!o.filter)||(n.filter=ye.test(i)?i.replace(ye,r):i+" "+r)}}),ht.cssHooks.marginRight=L(dt.reliableMarginRight,function(t,e){if(e)return fe(t,{display:"inline-block"},me,[t,"marginRight"])}),ht.cssHooks.marginLeft=L(dt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(me(t,"marginLeft"))||(ht.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-fe(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}):0))+"px"}),ht.each({margin:"",padding:"",border:"Width"},function(t,e){ht.cssHooks[t+e]={expand:function(n){for(var o=0,r={},i="string"==typeof n?n.split(" "):[n];o<4;o++)r[t+Bt[o]+e]=i[o]||i[o-2]||i[0];return r}},ue.test(t)||(ht.cssHooks[t+e].set=D)}),ht.fn.extend({css:function(t,e){return Ht(this,function(t,e,n){var o,r,i={},s=0;if(ht.isArray(e)){for(o=pe(t),r=e.length;s<r;s++)i[e[s]]=ht.css(t,e[s],!1,o);return i}return void 0!==n?ht.style(t,e,n):ht.css(t,e)},t,e,arguments.length>1)},show:function(){return I(this,!0)},hide:function(){return I(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){jt(this)?ht(this).show():ht(this).hide()})}}),ht.Tween=B,B.prototype={constructor:B,init:function(t,e,n,o,r,i){this.elem=t,this.prop=n,this.easing=r||ht.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=o,this.unit=i||(ht.cssNumber[n]?"":"px")},cur:function(){var t=B.propHooks[this.prop];return t&&t.get?t.get(this):B.propHooks._default.get(this)},run:function(t){var e,n=B.propHooks[this.prop];return this.options.duration?this.pos=e=ht.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ht.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){ht.fx.step[t.prop]?ht.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ht.cssProps[t.prop]]&&!ht.cssHooks[t.prop]?t.elem[t.prop]=t.now:ht.style(t.elem,t.prop,t.now+t.unit)}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ht.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ht.fx=B.prototype.init,ht.fx.step={};var Se,Ne,_e=/^(?:toggle|show|hide)$/,Re=/queueHooks$/;ht.Animation=ht.extend(W,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return f(n.elem,t,Mt.exec(e),n),n}]},tweener:function(t,e){ht.isFunction(t)?(e=t,t=["*"]):t=t.match(kt);for(var n,o=0,r=t.length;o<r;o++)n=t[o],W.tweeners[n]=W.tweeners[n]||[],W.tweeners[n].unshift(e)},prefilters:[F],prefilter:function(t,e){e?W.prefilters.unshift(t):W.prefilters.push(t)}}),ht.speed=function(t,e,n){var o=t&&"object"==typeof t?ht.extend({},t):{complete:n||!n&&e||ht.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ht.isFunction(e)&&e};return o.duration=ht.fx.off?0:"number"==typeof o.duration?o.duration:o.duration in ht.fx.speeds?ht.fx.speeds[o.duration]:ht.fx.speeds._default,null!=o.queue&&o.queue!==!0||(o.queue="fx"),o.old=o.complete,o.complete=function(){ht.isFunction(o.old)&&o.old.call(this),o.queue&&ht.dequeue(this,o.queue)},o},ht.fn.extend({fadeTo:function(t,e,n,o){return this.filter(jt).css("opacity",0).show().end().animate({opacity:e},t,n,o)},animate:function(t,e,n,o){var r=ht.isEmptyObject(t),i=ht.speed(e,n,o),s=function(){var e=W(this,ht.extend({},t),i);(r||ht._data(this,"finish"))&&e.stop(!0)};return s.finish=s,r||i.queue===!1?this.each(s):this.queue(i.queue,s)},stop:function(t,e,n){var o=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",i=ht.timers,s=ht._data(this);if(r)s[r]&&s[r].stop&&o(s[r]);else for(r in s)s[r]&&s[r].stop&&Re.test(r)&&o(s[r]);for(r=i.length;r--;)i[r].elem!==this||null!=t&&i[r].queue!==t||(i[r].anim.stop(n),e=!1,i.splice(r,1));!e&&n||ht.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=ht._data(this),o=n[t+"queue"],r=n[t+"queueHooks"],i=ht.timers,s=o?o.length:0;for(n.finish=!0,ht.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===t&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<s;e++)o[e]&&o[e].finish&&o[e].finish.call(this);delete n.finish})}}),ht.each(["toggle","show","hide"],function(t,e){var n=ht.fn[e];ht.fn[e]=function(t,o,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(H(e,!0),t,o,r)}}),ht.each({slideDown:H("show"),slideUp:H("hide"),slideToggle:H("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ht.fn[t]=function(t,n,o){return this.animate(e,t,n,o)}}),ht.timers=[],ht.fx.tick=function(){var t,e=ht.timers,n=0;for(Se=ht.now();n<e.length;n++)t=e[n],t()||e[n]!==t||e.splice(n--,1);e.length||ht.fx.stop(),Se=void 0},ht.fx.timer=function(t){ht.timers.push(t),t()?ht.fx.start():ht.timers.pop()},ht.fx.interval=13,ht.fx.start=function(){Ne||(Ne=t.setInterval(ht.fx.tick,ht.fx.interval))},ht.fx.stop=function(){t.clearInterval(Ne),Ne=null},ht.fx.speeds={slow:600,fast:200,_default:400},ht.fn.delay=function(e,n){return e=ht.fx?ht.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,o){var r=t.setTimeout(n,e);o.stop=function(){t.clearTimeout(r)}})},function(){var t,e=ot.createElement("input"),n=ot.createElement("div"),o=ot.createElement("select"),r=o.appendChild(ot.createElement("option"));n=ot.createElement("div"),n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=n.getElementsByTagName("a")[0],e.setAttribute("type","checkbox"),n.appendChild(e),t=n.getElementsByTagName("a")[0],t.style.cssText="top:1px",dt.getSetAttribute="t"!==n.className,dt.style=/top/.test(t.getAttribute("style")),dt.hrefNormalized="/a"===t.getAttribute("href"),dt.checkOn=!!e.value,dt.optSelected=r.selected,dt.enctype=!!ot.createElement("form").enctype,o.disabled=!0,dt.optDisabled=!r.disabled,e=ot.createElement("input"),e.setAttribute("value",""),dt.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),dt.radioValue="t"===e.value}();var ke=/\r/g,Ae=/[\x20\t\r\n\f]+/g;ht.fn.extend({val:function(t){var e,n,o,r=this[0];{if(arguments.length)return o=ht.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=o?t.call(this,n,ht(this).val()):t,null==r?r="":"number"==typeof r?r+="":ht.isArray(r)&&(r=ht.map(r,function(t){return null==t?"":t+""})),e=ht.valHooks[this.type]||ht.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=ht.valHooks[r.type]||ht.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(ke,""):null==n?"":n)}}}),ht.extend({valHooks:{option:{get:function(t){var e=ht.find.attr(t,"value");return null!=e?e:ht.trim(ht.text(t)).replace(Ae," ")}},select:{get:function(t){for(var e,n,o=t.options,r=t.selectedIndex,i="select-one"===t.type||r<0,s=i?null:[],a=i?r+1:o.length,l=r<0?a:i?r:0;l<a;l++)if(n=o[l],(n.selected||l===r)&&(dt.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ht.nodeName(n.parentNode,"optgroup"))){if(e=ht(n).val(),i)return e;s.push(e)}return s},set:function(t,e){for(var n,o,r=t.options,i=ht.makeArray(e),s=r.length;s--;)if(o=r[s],ht.inArray(ht.valHooks.option.get(o),i)>-1)try{o.selected=n=!0}catch(t){o.scrollHeight}else o.selected=!1;return n||(t.selectedIndex=-1),r}}}}),ht.each(["radio","checkbox"],function(){ht.valHooks[this]={set:function(t,e){if(ht.isArray(e))return t.checked=ht.inArray(ht(t).val(),e)>-1}},dt.checkOn||(ht.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Le,Oe,Ie=ht.expr.attrHandle,De=/^(?:checked|selected)$/i,Pe=dt.getSetAttribute,Me=dt.input;ht.fn.extend({attr:function(t,e){return Ht(this,ht.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ht.removeAttr(this,t)})}}),ht.extend({attr:function(t,e,n){var o,r,i=t.nodeType;if(3!==i&&8!==i&&2!==i)return"undefined"==typeof t.getAttribute?ht.prop(t,e,n):(1===i&&ht.isXMLDoc(t)||(e=e.toLowerCase(),r=ht.attrHooks[e]||(ht.expr.match.bool.test(e)?Oe:Le)),void 0!==n?null===n?void ht.removeAttr(t,e):r&&"set"in r&&void 0!==(o=r.set(t,n,e))?o:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(o=r.get(t,e))?o:(o=ht.find.attr(t,e),null==o?void 0:o))},attrHooks:{type:{set:function(t,e){if(!dt.radioValue&&"radio"===e&&ht.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,o,r=0,i=e&&e.match(kt);if(i&&1===t.nodeType)for(;n=i[r++];)o=ht.propFix[n]||n,ht.expr.match.bool.test(n)?Me&&Pe||!De.test(n)?t[o]=!1:t[ht.camelCase("default-"+n)]=t[o]=!1:ht.attr(t,n,""),t.removeAttribute(Pe?n:o)}}),Oe={set:function(t,e,n){return e===!1?ht.removeAttr(t,n):Me&&Pe||!De.test(n)?t.setAttribute(!Pe&&ht.propFix[n]||n,n):t[ht.camelCase("default-"+n)]=t[n]=!0,n}},ht.each(ht.expr.match.bool.source.match(/\w+/g),function(t,e){var n=Ie[e]||ht.find.attr;Me&&Pe||!De.test(e)?Ie[e]=function(t,e,o){var r,i;return o||(i=Ie[e],Ie[e]=r,r=null!=n(t,e,o)?e.toLowerCase():null,Ie[e]=i),r}:Ie[e]=function(t,e,n){if(!n)return t[ht.camelCase("default-"+e)]?e.toLowerCase():null}}),Me&&Pe||(ht.attrHooks.value={set:function(t,e,n){return ht.nodeName(t,"input")?void(t.defaultValue=e):Le&&Le.set(t,e,n)}}),Pe||(Le={set:function(t,e,n){var o=t.getAttributeNode(n);if(o||t.setAttributeNode(o=t.ownerDocument.createAttribute(n)),o.value=e+="","value"===n||e===t.getAttribute(n))return e}},Ie.id=Ie.name=Ie.coords=function(t,e,n){var o;if(!n)return(o=t.getAttributeNode(e))&&""!==o.value?o.value:null},ht.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);if(n&&n.specified)return n.value},set:Le.set},ht.attrHooks.contenteditable={set:function(t,e,n){Le.set(t,""!==e&&e,n)}},ht.each(["width","height"],function(t,e){ht.attrHooks[e]={set:function(t,n){if(""===n)return t.setAttribute(e,"auto"),n}}})),dt.style||(ht.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var Be=/^(?:input|select|textarea|button|object)$/i,je=/^(?:a|area)$/i;ht.fn.extend({prop:function(t,e){return Ht(this,ht.prop,t,e,arguments.length>1)},removeProp:function(t){return t=ht.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(t){}})}}),ht.extend({prop:function(t,e,n){var o,r,i=t.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&ht.isXMLDoc(t)||(e=ht.propFix[e]||e,r=ht.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(o=r.set(t,n,e))?o:t[e]=n:r&&"get"in r&&null!==(o=r.get(t,e))?o:t[e]},propHooks:{tabIndex:{get:function(t){var e=ht.find.attr(t,"tabindex");return e?parseInt(e,10):Be.test(t.nodeName)||je.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),dt.hrefNormalized||ht.each(["href","src"],function(t,e){ht.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),dt.optSelected||(ht.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ht.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ht.propFix[this.toLowerCase()]=this}),dt.enctype||(ht.propFix.enctype="encoding");var He=/[\t\r\n\f]/g;ht.fn.extend({addClass:function(t){var e,n,o,r,i,s,a,l=0;if(ht.isFunction(t))return this.each(function(e){ht(this).addClass(t.call(this,e,z(this)))});if("string"==typeof t&&t)for(e=t.match(kt)||[];n=this[l++];)if(r=z(n),o=1===n.nodeType&&(" "+r+" ").replace(He," ")){for(s=0;i=e[s++];)o.indexOf(" "+i+" ")<0&&(o+=i+" ");a=ht.trim(o),r!==a&&ht.attr(n,"class",a)}return this},removeClass:function(t){var e,n,o,r,i,s,a,l=0;if(ht.isFunction(t))return this.each(function(e){ht(this).removeClass(t.call(this,e,z(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(kt)||[];n=this[l++];)if(r=z(n),o=1===n.nodeType&&(" "+r+" ").replace(He," ")){for(s=0;i=e[s++];)for(;o.indexOf(" "+i+" ")>-1;)o=o.replace(" "+i+" "," ");a=ht.trim(o),r!==a&&ht.attr(n,"class",a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):ht.isFunction(t)?this.each(function(n){ht(this).toggleClass(t.call(this,n,z(this),e),e)}):this.each(function(){var e,o,r,i;if("string"===n)for(o=0,r=ht(this),i=t.match(kt)||[];e=i[o++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==n||(e=z(this),e&&ht._data(this,"__className__",e),ht.attr(this,"class",e||t===!1?"":ht._data(this,"__className__")||""))})},hasClass:function(t){var e,n,o=0;for(e=" "+t+" ";n=this[o++];)if(1===n.nodeType&&(" "+z(n)+" ").replace(He," ").indexOf(e)>-1)return!0;return!1}}),ht.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ht.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),ht.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var qe=t.location,Fe=ht.now(),$e=/\?/,We=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ht.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var n,o=null,r=ht.trim(e+"");return r&&!ht.trim(r.replace(We,function(t,e,r,i){return n&&e&&(o=0),0===o?t:(n=r||e,o+=!i-!r,"")}))?Function("return "+r)():ht.error("Invalid JSON: "+e)},ht.parseXML=function(e){var n,o;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(o=new t.DOMParser,n=o.parseFromString(e,"text/xml")):(n=new t.ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(e))}catch(t){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ht.error("Invalid XML: "+e),n};var ze=/#.*$/,Ve=/([?&])_=[^&]*/,Ue=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ge=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ke=/^(?:GET|HEAD)$/,Xe=/^\/\//,Ye=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Qe={},Ze={},Je="*/".concat("*"),tn=qe.href,en=Ye.exec(tn.toLowerCase())||[];ht.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:tn,type:"GET",isLocal:Ge.test(en[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Je,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ht.parseJSON,"text xml":ht.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?G(G(t,ht.ajaxSettings),e):G(ht.ajaxSettings,t)},ajaxPrefilter:V(Qe),ajaxTransport:V(Ze),ajax:function(e,n){function o(e,n,o,r){var i,d,v,b,C,E=n;2!==w&&(w=2,l&&t.clearTimeout(l),u=void 0,a=r||"",x.readyState=e>0?4:0,i=e>=200&&e<300||304===e,o&&(b=K(f,x,o)),b=X(f,b,x,i),i?(f.ifModified&&(C=x.getResponseHeader("Last-Modified"),C&&(ht.lastModified[s]=C),C=x.getResponseHeader("etag"),C&&(ht.etag[s]=C)),204===e||"HEAD"===f.type?E="nocontent":304===e?E="notmodified":(E=b.state,d=b.data,v=b.error,i=!v)):(v=E,!e&&E||(E="error",e<0&&(e=0))),x.status=e,x.statusText=(n||E)+"",i?m.resolveWith(h,[d,E,x]):m.rejectWith(h,[x,E,v]),x.statusCode(y),y=void 0,c&&p.trigger(i?"ajaxSuccess":"ajaxError",[x,f,i?d:v]),g.fireWith(h,[x,E]),c&&(p.trigger("ajaxComplete",[x,f]),--ht.active||ht.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var r,i,s,a,l,c,u,d,f=ht.ajaxSetup({},n),h=f.context||f,p=f.context&&(h.nodeType||h.jquery)?ht(h):ht.event,m=ht.Deferred(),g=ht.Callbacks("once memory"),y=f.statusCode||{},v={},b={},w=0,C="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!d)for(d={};e=Ue.exec(a);)d[e[1].toLowerCase()]=e[2];e=d[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?a:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return w||(t=b[n]=b[n]||t,v[t]=e),this},overrideMimeType:function(t){return w||(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(w<2)for(e in t)y[e]=[y[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||C;return u&&u.abort(e),o(0,e),this}};if(m.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,f.url=((e||f.url||tn)+"").replace(ze,"").replace(Xe,en[1]+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=ht.trim(f.dataType||"*").toLowerCase().match(kt)||[""],null==f.crossDomain&&(r=Ye.exec(f.url.toLowerCase()),f.crossDomain=!(!r||r[1]===en[1]&&r[2]===en[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(en[3]||("http:"===en[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=ht.param(f.data,f.traditional)),U(Qe,f,n,x),2===w)return x;c=ht.event&&f.global,c&&0===ht.active++&&ht.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Ke.test(f.type),s=f.url,f.hasContent||(f.data&&(s=f.url+=($e.test(s)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=Ve.test(s)?s.replace(Ve,"$1_="+Fe++):s+($e.test(s)?"&":"?")+"_="+Fe++)),f.ifModified&&(ht.lastModified[s]&&x.setRequestHeader("If-Modified-Since",ht.lastModified[s]),ht.etag[s]&&x.setRequestHeader("If-None-Match",ht.etag[s])),(f.data&&f.hasContent&&f.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",f.contentType),x.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Je+"; q=0.01":""):f.accepts["*"]);for(i in f.headers)x.setRequestHeader(i,f.headers[i]);if(f.beforeSend&&(f.beforeSend.call(h,x,f)===!1||2===w))return x.abort();C="abort";for(i in{success:1,error:1,complete:1})x[i](f[i]);if(u=U(Ze,f,n,x)){if(x.readyState=1,c&&p.trigger("ajaxSend",[x,f]),2===w)return x;f.async&&f.timeout>0&&(l=t.setTimeout(function(){x.abort("timeout")},f.timeout));try{w=1,u.send(v,o)}catch(t){if(!(w<2))throw t;o(-1,t)}}else o(-1,"No Transport");return x},getJSON:function(t,e,n){return ht.get(t,e,n,"json")},getScript:function(t,e){return ht.get(t,void 0,e,"script")}}),ht.each(["get","post"],function(t,e){ht[e]=function(t,n,o,r){return ht.isFunction(n)&&(r=r||o,o=n,n=void 0),ht.ajax(ht.extend({url:t,type:e,dataType:r,data:n,success:o},ht.isPlainObject(t)&&t))}}),ht._evalUrl=function(t){return ht.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},ht.fn.extend({wrapAll:function(t){if(ht.isFunction(t))return this.each(function(e){ht(this).wrapAll(t.call(this,e))});if(this[0]){var e=ht(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return ht.isFunction(t)?this.each(function(e){ht(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ht(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=ht.isFunction(t);return this.each(function(n){ht(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){ht.nodeName(this,"body")||ht(this).replaceWith(this.childNodes)}).end()}}),ht.expr.filters.hidden=function(t){return dt.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:Q(t)},ht.expr.filters.visible=function(t){return!ht.expr.filters.hidden(t)};var nn=/%20/g,on=/\[\]$/,rn=/\r?\n/g,sn=/^(?:submit|button|image|reset|file)$/i,an=/^(?:input|select|textarea|keygen)/i;ht.param=function(t,e){var n,o=[],r=function(t,e){e=ht.isFunction(e)?e():null==e?"":e,o[o.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=ht.ajaxSettings&&ht.ajaxSettings.traditional),ht.isArray(t)||t.jquery&&!ht.isPlainObject(t))ht.each(t,function(){r(this.name,this.value)});else for(n in t)Z(n,t[n],e,r);return o.join("&").replace(nn,"+")},ht.fn.extend({serialize:function(){return ht.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ht.prop(this,"elements");return t?ht.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ht(this).is(":disabled")&&an.test(this.nodeName)&&!sn.test(t)&&(this.checked||!qt.test(t))}).map(function(t,e){var n=ht(this).val();return null==n?null:ht.isArray(n)?ht.map(n,function(t){return{name:e.name,value:t.replace(rn,"\r\n")}}):{name:e.name,value:n.replace(rn,"\r\n")}}).get()}}),ht.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return this.isLocal?tt():ot.documentMode>8?J():/^(get|post|head|put|delete|options)$/i.test(this.type)&&J()||tt()}:J;var ln=0,cn={},un=ht.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in cn)cn[t](void 0,!0)}),dt.cors=!!un&&"withCredentials"in un,un=dt.ajax=!!un,un&&ht.ajaxTransport(function(e){if(!e.crossDomain||dt.cors){var n;return{send:function(o,r){var i,s=e.xhr(),a=++ln;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)s[i]=e.xhrFields[i];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(i in o)void 0!==o[i]&&s.setRequestHeader(i,o[i]+"");s.send(e.hasContent&&e.data||null),n=function(t,o){var i,l,c;if(n&&(o||4===s.readyState))if(delete cn[a],n=void 0,s.onreadystatechange=ht.noop,o)4!==s.readyState&&s.abort();else{c={},i=s.status,"string"==typeof s.responseText&&(c.text=s.responseText);try{l=s.statusText}catch(t){l=""}i||!e.isLocal||e.crossDomain?1223===i&&(i=204):i=c.text?200:404}c&&r(i,l,c,s.getAllResponseHeaders())},e.async?4===s.readyState?t.setTimeout(n):s.onreadystatechange=cn[a]=n:n()},abort:function(){n&&n(void 0,!0)}}}}),ht.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ht.globalEval(t),t}}}),ht.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),ht.ajaxTransport("script",function(t){if(t.crossDomain){var e,n=ot.head||ht("head")[0]||ot.documentElement;return{send:function(o,r){e=ot.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,n||r(200,"success"))},n.insertBefore(e,n.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var dn=[],fn=/(=)\?(?=&|$)|\?\?/;ht.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=dn.pop()||ht.expando+"_"+Fe++;return this[t]=!0,t}}),ht.ajaxPrefilter("json jsonp",function(e,n,o){var r,i,s,a=e.jsonp!==!1&&(fn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&fn.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=ht.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(fn,"$1"+r):e.jsonp!==!1&&(e.url+=($e.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||ht.error(r+" was not called"),s[0]},e.dataTypes[0]="json",i=t[r],t[r]=function(){s=arguments},o.always(function(){void 0===i?ht(t).removeProp(r):t[r]=i,e[r]&&(e.jsonpCallback=n.jsonpCallback,dn.push(r)),s&&ht.isFunction(i)&&i(s[0]),s=i=void 0}),"script"}),ht.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||ot;var o=xt.exec(t),r=!n&&[];return o?[e.createElement(o[1])]:(o=y([t],e,r),r&&r.length&&ht(r).remove(),ht.merge([],o.childNodes))};var hn=ht.fn.load;ht.fn.load=function(t,e,n){if("string"!=typeof t&&hn)return hn.apply(this,arguments);var o,r,i,s=this,a=t.indexOf(" ");return a>-1&&(o=ht.trim(t.slice(a,t.length)),t=t.slice(0,a)),ht.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&ht.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){i=arguments,s.html(o?ht("<div>").append(ht.parseHTML(t)).find(o):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,i||[t.responseText,e,t])})}),this},ht.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ht.fn[e]=function(t){return this.on(e,t)}}),ht.expr.filters.animated=function(t){return ht.grep(ht.timers,function(e){return t===e.elem}).length},ht.offset={setOffset:function(t,e,n){var o,r,i,s,a,l,c,u=ht.css(t,"position"),d=ht(t),f={};"static"===u&&(t.style.position="relative"),a=d.offset(),i=ht.css(t,"top"),l=ht.css(t,"left"),c=("absolute"===u||"fixed"===u)&&ht.inArray("auto",[i,l])>-1,c?(o=d.position(),s=o.top,r=o.left):(s=parseFloat(i)||0,r=parseFloat(l)||0),ht.isFunction(e)&&(e=e.call(t,n,ht.extend({},a))),null!=e.top&&(f.top=e.top-a.top+s),null!=e.left&&(f.left=e.left-a.left+r),"using"in e?e.using.call(t,f):d.css(f)}},ht.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ht.offset.setOffset(this,t,e)});var e,n,o={top:0,left:0},r=this[0],i=r&&r.ownerDocument;if(i)return e=i.documentElement,ht.contains(e,r)?("undefined"!=typeof r.getBoundingClientRect&&(o=r.getBoundingClientRect()),n=et(i),{top:o.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:o.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):o},position:function(){if(this[0]){var t,e,n={top:0,left:0},o=this[0];return"fixed"===ht.css(o,"position")?e=o.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ht.nodeName(t[0],"html")||(n=t.offset()),n.top+=ht.css(t[0],"borderTopWidth",!0),n.left+=ht.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-ht.css(o,"marginTop",!0),left:e.left-n.left-ht.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&!ht.nodeName(t,"html")&&"static"===ht.css(t,"position");)t=t.offsetParent;return t||he})}}),ht.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n=/Y/.test(e);ht.fn[t]=function(o){return Ht(this,function(t,o,r){var i=et(t);return void 0===r?i?e in i?i[e]:i.document.documentElement[o]:t[o]:void(i?i.scrollTo(n?ht(i).scrollLeft():r,n?r:ht(i).scrollTop()):t[o]=r)},t,o,arguments.length,null)}}),ht.each(["top","left"],function(t,e){ht.cssHooks[e]=L(dt.pixelPosition,function(t,n){if(n)return n=me(t,e),de.test(n)?ht(t).position()[e]+"px":n})}),ht.each({Height:"height",Width:"width"},function(t,e){ht.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,o){ht.fn[o]=function(o,r){var i=arguments.length&&(n||"boolean"!=typeof o),s=n||(o===!0||r===!0?"margin":"border");return Ht(this,function(e,n,o){var r;return ht.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===o?ht.css(e,n,s):ht.style(e,n,o,s)},e,i?o:void 0,i,null)}})}),ht.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,o){return this.on(e,t,n,o)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),ht.fn.size=function(){return this.length},ht.fn.andSelf=ht.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ht});var pn=t.jQuery,mn=t.$;return ht.noConflict=function(e){return t.$===ht&&(t.$=mn),e&&t.jQuery===ht&&(t.jQuery=pn),ht},e||(t.jQuery=t.$=ht),ht}),function(){var t,e;t=window.jQuery||("function"==typeof require?require("jquery"):void 0),e=t(document),t.turbo={version:"2.1.0",isReady:!1,use:function(t,n){return e.off(".turbo").on(""+t+".turbo",this.onLoad).on(""+n+".turbo",this.onFetch)},addCallback:function(n){return t.turbo.isReady&&n(t),e.on("turbo:ready",function(){return n(t)})},onLoad:function(){return t.turbo.isReady=!0,e.trigger("turbo:ready")},onFetch:function(){return t.turbo.isReady=!1},register:function(){return t(this.onLoad),t.fn.ready=this.addCallback}},t.turbo.register(),t.turbo.use("page:load","page:fetch")}.call(this),
function(t,e){"use strict";t.rails!==e&&t.error("jquery-ujs has already been loaded!");var n,o=t(document);t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return t("meta[name=csrf-token]").attr("content")},csrfParam:function(){return t("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=n.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){t('form input[name="'+n.csrfParam()+'"]').val(n.csrfToken())},fire:function(e,n,o){var r=t.Event(n);return e.trigger(r,o),r.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==e&&t.data("remote")!==!1},handleRemote:function(o){var r,i,s,a,l,c;if(n.fire(o,"ajax:before")){if(a=o.data("with-credentials")||null,l=o.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,o.is("form")){r=o.data("ujs:submit-button-formmethod")||o.attr("method"),i=o.data("ujs:submit-button-formaction")||o.attr("action"),s=t(o[0]).serializeArray();var u=o.data("ujs:submit-button");u&&(s.push(u),o.data("ujs:submit-button",null)),o.data("ujs:submit-button-formmethod",null),o.data("ujs:submit-button-formaction",null)}else o.is(n.inputChangeSelector)?(r=o.data("method"),i=o.data("url"),s=o.serialize(),o.data("params")&&(s=s+"&"+o.data("params"))):o.is(n.buttonClickSelector)?(r=o.data("method")||"get",i=o.data("url"),s=o.serialize(),o.data("params")&&(s=s+"&"+o.data("params"))):(r=o.data("method"),i=n.href(o),s=o.data("params")||null);return c={type:r||"GET",data:s,dataType:l,beforeSend:function(t,r){return r.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),!!n.fire(o,"ajax:beforeSend",[t,r])&&void o.trigger("ajax:send",t)},success:function(t,e,n){o.trigger("ajax:success",[t,e,n])},complete:function(t,e){o.trigger("ajax:complete",[t,e])},error:function(t,e,n){o.trigger("ajax:error",[t,e,n])},crossDomain:n.isCrossDomain(i)},a&&(c.xhrFields={withCredentials:a}),i&&(c.url=i),n.ajax(c)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var n=document.createElement("a");try{return n.href=t,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(t){return!0}},handleMethod:function(o){var r=n.href(o),i=o.data("method"),s=o.attr("target"),a=n.csrfToken(),l=n.csrfParam(),c=t('<form method="post" action="'+r+'"></form>'),u='<input name="_method" value="'+i+'" type="hidden" />';l===e||a===e||n.isCrossDomain(r)||(u+='<input name="'+l+'" value="'+a+'" type="hidden" />'),s&&c.attr("target",s),c.hide().append(u).appendTo("body"),c.submit()},formElements:function(e,n){return e.is("form")?t(e[0].elements).filter(n):e.find(n)},disableFormElements:function(e){n.formElements(e,n.disableSelector).each(function(){n.disableFormElement(t(this))})},disableFormElement:function(t){var n,o;n=t.is("button")?"html":"val",o=t.data("disable-with"),o!==e&&(t.data("ujs:enable-with",t[n]()),t[n](o)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(e){n.formElements(e,n.enableSelector).each(function(){n.enableFormElement(t(this))})},enableFormElement:function(t){var n=t.is("button")?"html":"val";t.data("ujs:enable-with")!==e&&(t[n](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,o=t.data("confirm"),r=!1;if(!o)return!0;if(n.fire(t,"confirm")){try{r=n.confirm(o)}catch(t){(console.error||console.log).call(console,t.stack||t)}e=n.fire(t,"confirm:complete",[r])}return r&&e},blankInputs:function(e,n,o){var r,i,s,a,l=t(),c=n||"input,textarea",u=e.find(c),d={};return u.each(function(){r=t(this),r.is("input[type=radio]")?(a=r.attr("name"),d[a]||(0===e.find('input[type=radio]:checked[name="'+a+'"]').length&&(s=e.find('input[type=radio][name="'+a+'"]'),l=l.add(s)),d[a]=a)):(i=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):!!r.val(),i===o&&(l=l.add(r)))}),!!l.length&&l},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var o=t.data("disable-with");o!==e&&(t.data("ujs:enable-with",t.html()),t.html(o)),t.bind("click.railsDisable",function(t){return n.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},n.fire(o,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,o){t.crossDomain||n.CSRFProtection(o)}),t(window).on("pageshow.rails",function(){t(t.rails.enableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableFormElement(e)}),t(t.rails.linkDisableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableElement(e)})}),o.on("ajax:complete",n.linkDisableSelector,function(){n.enableElement(t(this))}),o.on("ajax:complete",n.buttonDisableSelector,function(){n.enableFormElement(t(this))}),o.on("click.rails",n.linkClickSelector,function(e){var o=t(this),r=o.data("method"),i=o.data("params"),s=e.metaKey||e.ctrlKey;if(!n.allowAction(o))return n.stopEverything(e);if(!s&&o.is(n.linkDisableSelector)&&n.disableElement(o),n.isRemote(o)){if(s&&(!r||"GET"===r)&&!i)return!0;var a=n.handleRemote(o);return a===!1?n.enableElement(o):a.fail(function(){n.enableElement(o)}),!1}return r?(n.handleMethod(o),!1):void 0}),o.on("click.rails",n.buttonClickSelector,function(e){var o=t(this);if(!n.allowAction(o)||!n.isRemote(o))return n.stopEverything(e);o.is(n.buttonDisableSelector)&&n.disableFormElement(o);var r=n.handleRemote(o);return r===!1?n.enableFormElement(o):r.fail(function(){n.enableFormElement(o)}),!1}),o.on("change.rails",n.inputChangeSelector,function(e){var o=t(this);return n.allowAction(o)&&n.isRemote(o)?(n.handleRemote(o),!1):n.stopEverything(e)}),o.on("submit.rails",n.formSubmitSelector,function(o){var r,i,s=t(this),a=n.isRemote(s);if(!n.allowAction(s))return n.stopEverything(o);if(s.attr("novalidate")===e)if(s.data("ujs:formnovalidate-button")===e){if(r=n.blankInputs(s,n.requiredInputSelector,!1),r&&n.fire(s,"ajax:aborted:required",[r]))return n.stopEverything(o)}else s.data("ujs:formnovalidate-button",e);if(a){if(i=n.nonBlankInputs(s,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(s)},13);var l=n.fire(s,"ajax:aborted:file",[i]);return l||setTimeout(function(){n.enableFormElements(s)},13),l}return n.handleRemote(s),!1}setTimeout(function(){n.disableFormElements(s)},13)}),o.on("click.rails",n.formInputClickSelector,function(e){var o=t(this);if(!n.allowAction(o))return n.stopEverything(e);var r=o.attr("name"),i=r?{name:r,value:o.val()}:null,s=o.closest("form");0===s.length&&(s=t("#"+o.attr("form"))),s.data("ujs:submit-button",i),s.data("ujs:formnovalidate-button",o.attr("formnovalidate")),s.data("ujs:submit-button-formaction",o.attr("formaction")),s.data("ujs:submit-button-formmethod",o.attr("formmethod"))}),o.on("ajax:send.rails",n.formSubmitSelector,function(e){this===e.target&&n.disableFormElements(t(this))}),o.on("ajax:complete.rails",n.formSubmitSelector,function(e){this===e.target&&n.enableFormElements(t(this))}),t(function(){n.refreshCSRFTokens()}))}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,o=this;t(this).one("bsTransitionEnd",function(){n=!0});var r=function(){n||t(o).trigger(t.support.transition.end)};return setTimeout(r,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.alert");r||n.data("bs.alert",r=new o(this)),"string"==typeof e&&r[e].call(n)})}var n='[data-dismiss="alert"]',o=function(e){t(e).on("click",n,this.close)};o.VERSION="3.2.0",o.prototype.close=function(e){function n(){i.detach().trigger("closed.bs.alert").remove()}var o=t(this),r=o.attr("data-target");r||(r=o.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var i=t(r);e&&e.preventDefault(),i.length||(i=o.hasClass("alert")?o:o.parent()),i.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(i.removeClass("in"),t.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",n).emulateTransitionEnd(150):n())};var r=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=o,t.fn.alert.noConflict=function(){return t.fn.alert=r,this},t(document).on("click.bs.alert.data-api",n,o.prototype.close)}(jQuery),+function(t){"use strict";function e(e,o){return this.each(function(){var r=t(this),i=r.data("bs.modal"),s=t.extend({},n.DEFAULTS,r.data(),"object"==typeof e&&e);i||r.data("bs.modal",i=new n(this,s)),"string"==typeof e?i[e](o):s.show&&i.show(o)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.2.0",n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var n=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var o=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),o&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:e});o?n.$element.find(".modal-dialog").one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(300):n.$element.trigger("focus").trigger(r)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var n=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&o;if(this.$backdrop=t('<div class="modal-backdrop '+o+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;r?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(150):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var i=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",i).emulateTransitionEnd(150):i()}else e&&e()},n.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var o=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=o,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var o=t(this),r=o.attr("href"),i=t(o.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=i.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},i.data(),o.data());o.is("a")&&n.preventDefault(),i.one("show.bs.modal",function(t){t.isDefaultPrevented()||i.one("hidden.bs.modal",function(){o.is(":visible")&&o.trigger("focus")})}),e.call(i,s,this)})}(jQuery),+function(t){"use strict";function e(e){e&&3===e.which||(t(r).remove(),t(i).each(function(){var o=n(t(this)),r={relatedTarget:this};o.hasClass("open")&&(o.trigger(e=t.Event("hide.bs.dropdown",r)),e.isDefaultPrevented()||o.removeClass("open").trigger("hidden.bs.dropdown",r))}))}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var o=n&&t(n);return o&&o.length?o:e.parent()}function o(e){return this.each(function(){var n=t(this),o=n.data("bs.dropdown");o||n.data("bs.dropdown",o=new s(this)),"string"==typeof e&&o[e].call(n)})}var r=".dropdown-backdrop",i='[data-toggle="dropdown"]',s=function(e){t(e).on("click.bs.dropdown",this.toggle)};s.VERSION="3.2.0",s.prototype.toggle=function(o){var r=t(this);if(!r.is(".disabled, :disabled")){var i=n(r),s=i.hasClass("open");if(e(),!s){"ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var a={relatedTarget:this};if(i.trigger(o=t.Event("show.bs.dropdown",a)),o.isDefaultPrevented())return;r.trigger("focus"),i.toggleClass("open").trigger("shown.bs.dropdown",a)}return!1}},s.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var o=t(this);if(e.preventDefault(),e.stopPropagation(),!o.is(".disabled, :disabled")){var r=n(o),s=r.hasClass("open");if(!s||s&&27==e.keyCode)return 27==e.which&&r.find(i).trigger("focus"),o.trigger("click");var a=" li:not(.divider):visible a",l=r.find('[role="menu"]'+a+', [role="listbox"]'+a);if(l.length){var c=l.index(l.filter(":focus"));38==e.keyCode&&c>0&&c--,40==e.keyCode&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=o,t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",i,s.prototype.toggle).on("keydown.bs.dropdown.data-api",i+', [role="menu"], [role="listbox"]',s.prototype.keydown)}(jQuery),+function(t){"use strict";function e(n,o){var r=t.proxy(this.process,this);this.$body=t("body"),this.$scrollElement=t(t(n).is("body")?window:n),this.options=t.extend({},e.DEFAULTS,o),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",r),this.refresh(),this.process()}function n(n){return this.each(function(){var o=t(this),r=o.data("bs.scrollspy"),i="object"==typeof n&&n;r||o.data("bs.scrollspy",r=new e(this,i)),"string"==typeof n&&r[n]()})}e.VERSION="3.2.0",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e="offset",n=0;t.isWindow(this.$scrollElement[0])||(e="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var o=this;this.$body.find(this.selector).map(function(){var o=t(this),r=o.data("target")||o.attr("href"),i=/^#./.test(r)&&t(r);return i&&i.length&&i.is(":visible")&&[[i[e]().top+n,r]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){o.offsets.push(this[0]),o.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),o=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,i=this.targets,s=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=o)return s!=(t=i[i.length-1])&&this.activate(t);if(s&&e<=r[0])return s!=(t=i[0])&&this.activate(t);for(t=r.length;t--;)s!=i[t]&&e>=r[t]&&(!r[t+1]||e<=r[t+1])&&this.activate(i[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',o=t(n).parents("li").addClass("active");o.parent(".dropdown-menu").length&&(o=o.closest("li.dropdown").addClass("active")),o.trigger("activate.bs.scrollspy")};var o=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=o,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),r=o.data("bs.tab");r||o.data("bs.tab",r=new n(this)),"string"==typeof e&&r[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.2.0",n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),o=e.data("target");if(o||(o=e.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=n.find(".active:last a")[0],i=t.Event("show.bs.tab",{relatedTarget:r});if(e.trigger(i),!i.isDefaultPrevented()){var s=t(o);this.activate(e.closest("li"),n),this.activate(s,s.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:r})})}}},n.prototype.activate=function(e,n,o){function r(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),o&&o()}var i=n.find("> .active"),s=o&&t.support.transition&&i.hasClass("fade");s?i.one("bsTransitionEnd",r).emulateTransitionEnd(150):r(),i.removeClass("in")};var o=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=o,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(n){n.preventDefault(),e.call(t(this),"show")})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),r=o.data("bs.tooltip"),i="object"==typeof e&&e;(r||"destroy"!=e)&&(r||o.data("bs.tooltip",r=new n(this,i)),"string"==typeof e&&r[e]())})}var n=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};n.VERSION="3.2.0",n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,o){this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(o),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport);for(var r=this.options.trigger.split(" "),i=r.length;i--;){var s=r[i];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,o){n[t]!=o&&(e[t]=o)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show()},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(document.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var o=this,r=this.tip(),i=this.getUID(this.type);this.setContent(),r.attr("id",i),this.$element.attr("aria-describedby",i),this.options.animation&&r.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,l=a.test(s);l&&(s=s.replace(a,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);var c=this.getPosition(),u=r[0].offsetWidth,d=r[0].offsetHeight;if(l){var f=s,h=this.$element.parent(),p=this.getPosition(h);s="bottom"==s&&c.top+c.height+d-p.scroll>p.height?"top":"top"==s&&c.top-p.scroll-d<0?"bottom":"right"==s&&c.right+u>p.width?"left":"left"==s&&c.left-u<p.left?"right":s,r.removeClass(f).addClass(s)}var m=this.getCalculatedOffset(s,c,u,d);this.applyPlacement(m,s);var g=function(){o.$element.trigger("shown.bs."+o.type),o.hoverState=null};t.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",g).emulateTransitionEnd(150):g()}},n.prototype.applyPlacement=function(e,n){var o=this.tip(),r=o[0].offsetWidth,i=o[0].offsetHeight,s=parseInt(o.css("margin-top"),10),a=parseInt(o.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),e.top=e.top+s,e.left=e.left+a,t.offset.setOffset(o[0],t.extend({using:function(t){o.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),o.addClass("in");var l=o[0].offsetWidth,c=o[0].offsetHeight;"top"==n&&c!=i&&(e.top=e.top+i-c);var u=this.getViewportAdjustedDelta(n,e,l,c);u.left?e.left+=u.left:e.top+=u.top;var d=u.left?2*u.left-r+l:2*u.top-i+c,f=u.left?"left":"top",h=u.left?"offsetWidth":"offsetHeight";o.offset(e),this.replaceArrow(d,o[0][h],f)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(){function e(){"in"!=n.hoverState&&o.detach(),n.$element.trigger("hidden.bs."+n.type)}var n=this,o=this.tip(),r=t.Event("hide.bs."+this.type);if(this.$element.removeAttr("aria-describedby"),this.$element.trigger(r),!r.isDefaultPrevented())return o.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",e).emulateTransitionEnd(150):e(),this.hoverState=null,this},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],o="BODY"==n.tagName;return t.extend({},"function"==typeof n.getBoundingClientRect?n.getBoundingClientRect():null,{scroll:o?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop(),width:o?t(window).width():e.outerWidth(),height:o?t(window).height():e.outerHeight()},o?{top:0,left:0}:e.offset())},n.prototype.getCalculatedOffset=function(t,e,n,o){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-o,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-o/2,left:e.left-n}:{top:e.top+e.height/2-o/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,o){var r={top:0,left:0};if(!this.$viewport)return r;var i=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-i-s.scroll,l=e.top+i-s.scroll+o;a<s.top?r.top=s.top-a:l>s.top+s.height&&(r.top=s.top+s.height-l)}else{var c=e.left-i,u=e.left+i+n;c<s.left?r.left=s.left-c:u>s.width&&(r.left=s.left+s.width-u)}return r},n.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},n.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},n.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&(n=t(e.currentTarget).data("bs."+this.type),n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var o=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=o,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),r=o.data("bs.popover"),i="object"==typeof e&&e;(r||"destroy"!=e)&&(r||o.data("bs.popover",r=new n(this,i)),"string"==typeof e&&r[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.2.0",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").empty()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},n.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var o=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=o,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),r=o.data("bs.button"),i="object"==typeof e&&e;r||o.data("bs.button",r=new n(this,i)),"toggle"==e?r.toggle():e&&r.setState(e)})}var n=function(e,o){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,o),this.isLoading=!1};n.VERSION="3.2.0",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",o=this.$element,r=o.is("input")?"val":"html",i=o.data();e+="Text",null==i.resetText&&o.data("resetText",o[r]()),o[r](null==i[e]?this.options[e]:i[e]),setTimeout(t.proxy(function(){"loadingText"==e?(this.isLoading=!0,o.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,o.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}t&&this.$element.toggleClass("active")};var o=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=o,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var o=t(n.target);o.hasClass("btn")||(o=o.closest(".btn")),e.call(o,"toggle"),n.preventDefault()})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),r=o.data("bs.collapse"),i=t.extend({},n.DEFAULTS,o.data(),"object"==typeof e&&e);!r&&i.toggle&&"show"==e&&(e=!e),r||o.data("bs.collapse",r=new n(this,i)),"string"==typeof e&&r[e]()})}var n=function(e,o){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,o),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};n.VERSION="3.2.0",n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var n=t.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){var o=this.$parent&&this.$parent.find("> .panel > .in");if(o&&o.length){var r=o.data("bs.collapse");if(r&&r.transitioning)return;e.call(o,"hide"),r||o.data("bs.collapse",null)}var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0),this.transitioning=1;
var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[i](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var a=t.camelCase(["scroll",i].join("-"));this.$element.one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(350)[i](this.$element[0][a])}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(350):o.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var o=t.fn.collapse;t.fn.collapse=e,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var o,r=t(this),i=r.attr("data-target")||n.preventDefault()||(o=r.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,""),s=t(i),a=s.data("bs.collapse"),l=a?"toggle":r.data(),c=r.attr("data-parent"),u=c&&t(c);a&&a.transitioning||(u&&u.find('[data-toggle="collapse"][data-parent="'+c+'"]').not(r).addClass("collapsed"),r[s.hasClass("in")?"addClass":"removeClass"]("collapsed")),e.call(s,l)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),r=o.data("bs.carousel"),i=t.extend({},n.DEFAULTS,o.data(),"object"==typeof e&&e),s="string"==typeof e?e:i.slide;r||o.data("bs.carousel",r=new n(this,i)),"number"==typeof e?r.to(e):s?r[s]():i.interval&&r.pause().cycle()})}var n=function(e,n){this.$element=t(e).on("keydown.bs.carousel",t.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.2.0",n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},n.prototype.keydown=function(t){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.to=function(e){var n=this,o=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(e)}):o==e?this.pause().cycle():this.slide(e>o?"next":"prev",t(this.$items[e]))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(e,n){var o=this.$element.find(".item.active"),r=n||o[e](),i=this.interval,s="next"==e?"left":"right",a="next"==e?"first":"last",l=this;if(!r.length){if(!this.options.wrap)return;r=this.$element.find(".item")[a]()}if(r.hasClass("active"))return this.sliding=!1;var c=r[0],u=t.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,i&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=t(this.$indicators.children()[this.getItemIndex(r)]);d&&d.addClass("active")}var f=t.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return t.support.transition&&this.$element.hasClass("slide")?(r.addClass(e),r[0].offsetWidth,o.addClass(s),r.addClass(s),o.one("bsTransitionEnd",function(){r.removeClass([e,s].join(" ")).addClass("active"),o.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(f)},0)}).emulateTransitionEnd(1e3*o.css("transition-duration").slice(0,-1))):(o.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(f)),i&&this.cycle(),this}};var o=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=o,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(n){var o,r=t(this),i=t(r.attr("data-target")||(o=r.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,""));if(i.hasClass("carousel")){var s=t.extend({},i.data(),r.data()),a=r.attr("data-slide-to");a&&(s.interval=!1),e.call(i,s),a&&i.data("bs.carousel").to(a),n.preventDefault()}}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),r=o.data("bs.affix"),i="object"==typeof e&&e;r||o.data("bs.affix",r=new n(this,i)),"string"==typeof e&&r[e]()})}var n=function(e,o){this.options=t.extend({},n.DEFAULTS,o),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.2.0",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=t(document).height(),o=this.$target.scrollTop(),r=this.$element.offset(),i=this.options.offset,s=i.top,a=i.bottom;"object"!=typeof i&&(a=s=i),"function"==typeof s&&(s=i.top(this.$element)),"function"==typeof a&&(a=i.bottom(this.$element));var l=!(null!=this.unpin&&o+this.unpin<=r.top)&&(null!=a&&r.top+this.$element.height()>=e-a?"bottom":null!=s&&o<=s&&"top");if(this.affixed!==l){null!=this.unpin&&this.$element.css("top","");var c="affix"+(l?"-"+l:""),u=t.Event(c+".bs.affix");this.$element.trigger(u),u.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(c).trigger(t.Event(c.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:e-this.$element.height()-a}))}}};var o=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=o,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),o=n.data();o.offset=o.offset||{},o.offsetBottom&&(o.offset.bottom=o.offsetBottom),o.offsetTop&&(o.offset.top=o.offsetTop),e.call(n,o)})})}(jQuery),function(){(function(){(function(){this.Turbolinks={supported:function(){return null!=window.history.pushState&&null!=window.requestAnimationFrame}(),visit:function(e,n){return t.controller.visit(e,n)},clearCache:function(){return t.controller.clearCache()}}}).call(this)}).call(this);var t=this.Turbolinks;(function(){(function(){var e,n;t.copyObject=function(t){var e,n,o;n={};for(e in t)o=t[e],n[e]=o;return n},t.closest=function(t,n){return e.call(t,n)},e=function(){var t,e;return t=document.documentElement,null!=(e=t.closest)?e:function(t){var e;for(e=this;e;){if(e.nodeType===Node.ELEMENT_NODE&&n.call(e,t))return e;e=e.parentNode}}}(),t.defer=function(t){return setTimeout(t,1)},t.dispatch=function(t,e){var n,o,r,i,s;return i=null!=e?e:{},s=i.target,n=i.cancelable,o=i.data,r=document.createEvent("Events"),r.initEvent(t,!0,n===!0),r.data=null!=o?o:{},(null!=s?s:document).dispatchEvent(r),r},t.match=function(t,e){return n.call(t,e)},n=function(){var t,e,n,o;return t=document.documentElement,null!=(e=null!=(n=null!=(o=t.matchesSelector)?o:t.webkitMatchesSelector)?n:t.msMatchesSelector)?e:t.mozMatchesSelector}(),t.uuid=function(){var t,e,n;for(n="",t=e=1;36>=e;t=++e)n+=9===t||14===t||19===t||24===t?"-":15===t?"4":20===t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return n}}).call(this),function(){t.Location=function(){function t(t){var e,n;null==t&&(t=""),n=document.createElement("a"),n.href=t.toString(),this.absoluteURL=n.href,e=n.hash.length,2>e?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-e),this.anchor=n.hash.slice(1))}var e,n,o,r;return t.wrap=function(t){return t instanceof this?t:new this(t)},t.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},t.prototype.getPath=function(){var t,e;return null!=(t=null!=(e=this.absoluteURL.match(/\/\/[^\/]*(\/[^?;]*)/))?e[1]:void 0)?t:"/"},t.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},t.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},t.prototype.getExtension=function(){var t,e;return null!=(t=null!=(e=this.getLastPathComponent().match(/\.[^.]*$/))?e[0]:void 0)?t:""},t.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},t.prototype.isPrefixedBy=function(t){var e;return e=n(t),this.isEqualTo(t)||r(this.absoluteURL,e)},t.prototype.isEqualTo=function(t){return this.absoluteURL===(null!=t?t.absoluteURL:void 0)},t.prototype.toCacheKey=function(){return this.requestURL},t.prototype.toJSON=function(){return this.absoluteURL},t.prototype.toString=function(){return this.absoluteURL},t.prototype.valueOf=function(){return this.absoluteURL},n=function(t){return e(t.getOrigin()+t.getPath())},e=function(t){return o(t,"/")?t:t+"/"},r=function(t,e){return t.slice(0,e.length)===e},o=function(t,e){return t.slice(-e.length)===e},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.HttpRequest=function(){function n(n,o,r){this.delegate=n,this.requestCanceled=e(this.requestCanceled,this),this.requestTimedOut=e(this.requestTimedOut,this),this.requestFailed=e(this.requestFailed,this),this.requestLoaded=e(this.requestLoaded,this),this.requestProgressed=e(this.requestProgressed,this),this.url=t.Location.wrap(o).requestURL,this.referrer=t.Location.wrap(r).absoluteURL,this.createXHR()}return n.NETWORK_FAILURE=0,n.TIMEOUT_FAILURE=-1,n.timeout=60,n.prototype.send=function(){var t;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(t=this.delegate).requestStarted?t.requestStarted():void 0):void 0},n.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},n.prototype.requestProgressed=function(t){return t.lengthComputable?this.setProgress(t.loaded/t.total):void 0},n.prototype.requestLoaded=function(){return this.endRequest(function(t){return function(){var e;return 200<=(e=t.xhr.status)&&300>e?t.delegate.requestCompletedWithResponse(t.xhr.responseText,t.xhr.getResponseHeader("Turbolinks-Location")):(t.failed=!0,t.delegate.requestFailedWithStatusCode(t.xhr.status,t.xhr.responseText))}}(this))},n.prototype.requestFailed=function(){return this.endRequest(function(t){return function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.NETWORK_FAILURE)}}(this))},n.prototype.requestTimedOut=function(){return this.endRequest(function(t){return function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.TIMEOUT_FAILURE)}}(this))},n.prototype.requestCanceled=function(){return this.endRequest()},n.prototype.notifyApplicationBeforeRequestStart=function(){return t.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},n.prototype.notifyApplicationAfterRequestEnd=function(){return t.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},n.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},n.prototype.endRequest=function(t){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=t&&t.call(this),this.destroy()):void 0},n.prototype.setProgress=function(t){var e;return this.progress=t,"function"==typeof(e=this.delegate).requestProgressed?e.requestProgressed(this.progress):void 0},n.prototype.destroy=function(){var t;return this.setProgress(1),"function"==typeof(t=this.delegate).requestFinished&&t.requestFinished(),this.delegate=null,this.xhr=null},n}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.ProgressBar=function(){function t(){this.trickle=e(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var n;return n=300,t.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width "+n+"ms ease-out, opacity "+n/2+"ms "+n/2+"ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",t.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},t.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement(function(t){return function(){return t.uninstallProgressElement(),t.stopTrickling(),t.visible=!1,t.hiding=!1}}(this))):void 0},t.prototype.setValue=function(t){return this.value=t,this.refresh()},t.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},t.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},t.prototype.fadeProgressElement=function(t){return this.progressElement.style.opacity=0,setTimeout(t,1.5*n)},t.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},t.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,n)},t.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},t.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},t.prototype.refresh=function(){return requestAnimationFrame(function(t){return function(){return t.progressElement.style.width=10+90*t.value+"%"}}(this))},t.prototype.createStylesheetElement=function(){var t;return t=document.createElement("style"),t.type="text/css",t.textContent=this.constructor.defaultCSS,t},t.prototype.createProgressElement=function(){var t;return t=document.createElement("div"),t.className="turbolinks-progress-bar",t},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.BrowserAdapter=function(){function n(n){this.controller=n,this.showProgressBar=e(this.showProgressBar,this),this.progressBar=new t.ProgressBar}var o,r,i,s;return s=t.HttpRequest,o=s.NETWORK_FAILURE,i=s.TIMEOUT_FAILURE,r=500,n.prototype.visitProposedToLocationWithAction=function(t,e){return this.controller.startVisitToLocationWithAction(t,e)},n.prototype.visitStarted=function(t){return t.issueRequest(),t.changeHistory(),t.loadCachedSnapshot()},n.prototype.visitRequestStarted=function(t){return this.progressBar.setValue(0),t.hasCachedSnapshot()||"restore"!==t.action?this.showProgressBarAfterDelay():this.showProgressBar()},n.prototype.visitRequestProgressed=function(t){return this.progressBar.setValue(t.progress)},n.prototype.visitRequestCompleted=function(t){return t.loadResponse()},n.prototype.visitRequestFailedWithStatusCode=function(t,e){switch(e){case o:case i:return this.reload();default:return t.loadResponse()}},n.prototype.visitRequestFinished=function(){return this.hideProgressBar()},n.prototype.visitCompleted=function(t){return t.followRedirect()},n.prototype.pageInvalidated=function(){return this.reload()},n.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,r)},n.prototype.showProgressBar=function(){return this.progressBar.show()},n.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},n.prototype.reload=function(){return window.location.reload()},n}()}.call(this),function(){var e,n=function(t,e){return function(){return t.apply(e,arguments)}};e=!1,addEventListener("load",function(){return t.defer(function(){return e=!0})},!1),t.History=function(){function o(t){this.delegate=t,this.onPopState=n(this.onPopState,this)}return o.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),this.started=!0)},o.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),this.started=!1):void 0},o.prototype.push=function(e,n){return e=t.Location.wrap(e),this.update("push",e,n)},o.prototype.replace=function(e,n){return e=t.Location.wrap(e),this.update("replace",e,n)},o.prototype.onPopState=function(e){var n,o,r,i;return this.shouldHandlePopState()&&(i=null!=(o=e.state)?o.turbolinks:void 0)?(n=t.Location.wrap(window.location),r=i.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(n,r)):void 0},o.prototype.shouldHandlePopState=function(){return e===!0},o.prototype.update=function(t,e,n){var o;return o={turbolinks:{restorationIdentifier:n}},history[t+"State"](o,null,e)},o}()}.call(this),function(){t.Snapshot=function(){function e(t){var e,n;n=t.head,e=t.body,this.head=null!=n?n:document.createElement("head"),this.body=null!=e?e:document.createElement("body")}return e.wrap=function(t){return t instanceof this?t:this.fromHTML(t)},e.fromHTML=function(t){var e;return e=document.createElement("html"),e.innerHTML=t,this.fromElement(e)},e.fromElement=function(t){return new this({head:t.querySelector("head"),body:t.querySelector("body")})},e.prototype.clone=function(){return new e({head:this.head.cloneNode(!0),body:this.body.cloneNode(!0)})},e.prototype.getRootLocation=function(){var e,n;return n=null!=(e=this.getSetting("root"))?e:"/",new t.Location(n)},e.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},e.prototype.hasAnchor=function(t){try{return null!=this.body.querySelector("[id='"+t+"']")}catch(t){}},e.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},e.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},e.prototype.getSetting=function(t){var e,n;return n=this.head.querySelectorAll("meta[name='turbolinks-"+t+"']"),e=n[n.length-1],null!=e?e.getAttribute("content"):void 0},e}()}.call(this),function(){var e=[].slice;t.Renderer=function(){function t(){}var n;return t.render=function(){var t,n,o,r;return o=arguments[0],n=arguments[1],t=3<=arguments.length?e.call(arguments,2):[],r=function(t,e,n){n.prototype=t.prototype;var o=new n,r=t.apply(o,e);return Object(r)===r?r:o}(this,t,function(){}),r.delegate=o,r.render(n),r},t.prototype.renderView=function(t){return this.delegate.viewWillRender(this.newBody),t(),this.delegate.viewRendered(this.newBody)},t.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},t.prototype.createScriptElement=function(t){var e;return"false"===t.getAttribute("data-turbolinks-eval")?t:(e=document.createElement("script"),e.textContent=t.textContent,n(e,t),e)},n=function(t,e){var n,o,r,i,s,a,l;for(i=e.attributes,a=[],n=0,o=i.length;o>n;n++)s=i[n],r=s.name,l=s.value,a.push(t.setAttribute(r,l));return a},t}()}.call(this),function(){t.HeadDetails=function(){function t(t){var e,n,i,s,a,l,c;for(this.element=t,this.elements={},c=this.element.childNodes,s=0,l=c.length;l>s;s++)i=c[s],i.nodeType===Node.ELEMENT_NODE&&(a=i.outerHTML,n=null!=(e=this.elements)[a]?e[a]:e[a]={type:r(i),tracked:o(i),elements:[]},n.elements.push(i))}var e,n,o,r;return t.prototype.hasElementWithKey=function(t){return t in this.elements},t.prototype.getTrackedElementSignature=function(){var t,e;return function(){var n,o;n=this.elements,o=[];for(t in n)e=n[t].tracked,e&&o.push(t);return o}.call(this).join("")},t.prototype.getScriptElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("script",t)},t.prototype.getStylesheetElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("stylesheet",t)},t.prototype.getElementsMatchingTypeNotInDetails=function(t,e){var n,o,r,i,s,a;r=this.elements,s=[];for(o in r)i=r[o],a=i.type,n=i.elements,a!==t||e.hasElementWithKey(o)||s.push(n[0]);return s},t.prototype.getProvisionalElements=function(){var t,e,n,o,r,i,s;n=[],o=this.elements;for(e in o)r=o[e],s=r.type,i=r.tracked,t=r.elements,null!=s||i?t.length>1&&n.push.apply(n,t.slice(1)):n.push.apply(n,t);return n},r=function(t){return e(t)?"script":n(t)?"stylesheet":void 0},o=function(t){return"reload"===t.getAttribute("data-turbolinks-track")},e=function(t){var e;return e=t.tagName.toLowerCase(),"script"===e},n=function(t){var e;return e=t.tagName.toLowerCase(),"style"===e||"link"===e&&"stylesheet"===t.getAttribute("rel")},t}()}.call(this),function(){var e=function(t,e){function o(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t},n={}.hasOwnProperty;t.SnapshotRenderer=function(n){function o(e,n){this.currentSnapshot=e,this.newSnapshot=n,this.currentHeadDetails=new t.HeadDetails(this.currentSnapshot.head),this.newHeadDetails=new t.HeadDetails(this.newSnapshot.head),this.newBody=this.newSnapshot.body}return e(o,n),o.prototype.render=function(t){return this.trackedElementsAreIdentical()?(this.mergeHead(),this.renderView(function(e){return function(){return e.replaceBody(),e.focusFirstAutofocusableElement(),t()}}(this))):this.invalidateView()},o.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},o.prototype.replaceBody=function(){return this.activateBodyScriptElements(),this.importBodyPermanentElements(),this.assignNewBody()},o.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},o.prototype.copyNewHeadStylesheetElements=function(){var t,e,n,o,r;for(o=this.getNewHeadStylesheetElements(),r=[],e=0,n=o.length;n>e;e++)t=o[e],r.push(document.head.appendChild(t));return r},o.prototype.copyNewHeadScriptElements=function(){var t,e,n,o,r;for(o=this.getNewHeadScriptElements(),r=[],e=0,n=o.length;n>e;e++)t=o[e],r.push(document.head.appendChild(this.createScriptElement(t)));return r},o.prototype.removeCurrentHeadProvisionalElements=function(){var t,e,n,o,r;for(o=this.getCurrentHeadProvisionalElements(),r=[],e=0,n=o.length;n>e;e++)t=o[e],r.push(document.head.removeChild(t));return r},o.prototype.copyNewHeadProvisionalElements=function(){var t,e,n,o,r;for(o=this.getNewHeadProvisionalElements(),r=[],e=0,n=o.length;n>e;e++)t=o[e],r.push(document.head.appendChild(t));return r},o.prototype.importBodyPermanentElements=function(){var t,e,n,o,r,i;for(o=this.getNewBodyPermanentElements(),i=[],e=0,n=o.length;n>e;e++)r=o[e],(t=this.findCurrentBodyPermanentElement(r))?i.push(r.parentNode.replaceChild(t,r)):i.push(void 0);return i},o.prototype.activateBodyScriptElements=function(){var t,e,n,o,r,i;for(o=this.getNewBodyScriptElements(),i=[],e=0,n=o.length;n>e;e++)r=o[e],t=this.createScriptElement(r),i.push(r.parentNode.replaceChild(t,r));return i},o.prototype.assignNewBody=function(){return document.body=this.newBody},o.prototype.focusFirstAutofocusableElement=function(){var t;return null!=(t=this.findFirstAutofocusableElement())?t.focus():void 0},o.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},o.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},o.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},o.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},o.prototype.getNewBodyPermanentElements=function(){return this.newBody.querySelectorAll("[id][data-turbolinks-permanent]")},o.prototype.findCurrentBodyPermanentElement=function(t){return document.body.querySelector("#"+t.id+"[data-turbolinks-permanent]")},o.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},o.prototype.findFirstAutofocusableElement=function(){return document.body.querySelector("[autofocus]")},o}(t.Renderer)}.call(this),function(){var e=function(t,e){function o(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t},n={}.hasOwnProperty;t.ErrorRenderer=function(t){function n(t){this.html=t}return e(n,t),n.prototype.render=function(t){return this.renderView(function(e){return function(){return e.replaceDocumentHTML(),e.activateBodyScriptElements(),t()}}(this))},n.prototype.replaceDocumentHTML=function(){return document.documentElement.innerHTML=this.html},n.prototype.activateBodyScriptElements=function(){var t,e,n,o,r,i;for(o=this.getScriptElements(),i=[],e=0,n=o.length;n>e;e++)r=o[e],t=this.createScriptElement(r),i.push(r.parentNode.replaceChild(t,r));return i},n.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},n}(t.Renderer)}.call(this),function(){t.View=function(){function e(t){this.delegate=t,this.element=document.documentElement}return e.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},e.prototype.getSnapshot=function(){return t.Snapshot.fromElement(this.element)},e.prototype.render=function(t,e){var n,o,r;return r=t.snapshot,n=t.error,o=t.isPreview,this.markAsPreview(o),null!=r?this.renderSnapshot(r,e):this.renderError(n,e)},e.prototype.markAsPreview=function(t){return t?this.element.setAttribute("data-turbolinks-preview",""):this.element.removeAttribute("data-turbolinks-preview")},e.prototype.renderSnapshot=function(e,n){return t.SnapshotRenderer.render(this.delegate,n,this.getSnapshot(),t.Snapshot.wrap(e))},e.prototype.renderError=function(e,n){return t.ErrorRenderer.render(this.delegate,n,e)},e}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.ScrollManager=function(){function t(t){this.delegate=t,this.onScroll=e(this.onScroll,this)}return t.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},t.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},t.prototype.scrollToElement=function(t){return t.scrollIntoView()},t.prototype.scrollToPosition=function(t){var e,n;return e=t.x,n=t.y,window.scrollTo(e,n)},t.prototype.onScroll=function(){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},t.prototype.updatePosition=function(t){var e;return this.position=t,null!=(e=this.delegate)?e.scrollPositionChanged(this.position):void 0},t}()}.call(this),function(){t.SnapshotCache=function(){function e(t){this.size=t,this.keys=[],this.snapshots={}}var n;return e.prototype.has=function(t){var e;return e=n(t),e in this.snapshots},e.prototype.get=function(t){var e;if(this.has(t))return e=this.read(t),this.touch(t),e},e.prototype.put=function(t,e){return this.write(t,e),this.touch(t),e},e.prototype.read=function(t){var e;return e=n(t),this.snapshots[e]},e.prototype.write=function(t,e){var o;return o=n(t),this.snapshots[o]=e},e.prototype.touch=function(t){var e,o;return o=n(t),e=this.keys.indexOf(o),e>-1&&this.keys.splice(e,1),this.keys.unshift(o),this.trim()},e.prototype.trim=function(){var t,e,n,o,r;for(o=this.keys.splice(this.size),r=[],t=0,n=o.length;n>t;t++)e=o[t],r.push(delete this.snapshots[e]);return r},n=function(e){return t.Location.wrap(e).toCacheKey()},e}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.Visit=function(){function n(n,o,r){this.controller=n,this.action=r,this.performScroll=e(this.performScroll,this),this.identifier=t.uuid(),this.location=t.Location.wrap(o),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var o;return n.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},n.prototype.cancel=function(){var t;return"started"===this.state?(null!=(t=this.request)&&t.cancel(),this.cancelRender(),this.state="canceled"):void 0},n.prototype.complete=function(){var t;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(t=this.adapter).visitCompleted&&t.visitCompleted(this),this.controller.visitCompleted(this)):void 0},n.prototype.fail=function(){var t;return"started"===this.state?(this.state="failed","function"==typeof(t=this.adapter).visitFailed?t.visitFailed(this):void 0):void 0},n.prototype.changeHistory=function(){var t,e;return this.historyChanged?void 0:(t=this.location.isEqualTo(this.referrer)?"replace":this.action,e=o(t),this.controller[e](this.location,this.restorationIdentifier),this.historyChanged=!0)},n.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new t.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},n.prototype.getCachedSnapshot=function(){var t;return!(t=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!t.hasAnchor(this.location.anchor)||"restore"!==this.action&&!t.isPreviewable()?void 0:t},n.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},n.prototype.loadCachedSnapshot=function(){var t,e;return(e=this.getCachedSnapshot())?(t=this.shouldIssueRequest(),this.render(function(){var n;return this.cacheSnapshot(),this.controller.render({snapshot:e,isPreview:t},this.performScroll),"function"==typeof(n=this.adapter).visitRendered&&n.visitRendered(this),t?void 0:this.complete()})):void 0},n.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var t,e;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.complete())}):void 0},n.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},n.prototype.requestStarted=function(){var t;return this.recordTimingMetric("requestStart"),"function"==typeof(t=this.adapter).visitRequestStarted?t.visitRequestStarted(this):void 0},n.prototype.requestProgressed=function(t){var e;return this.progress=t,"function"==typeof(e=this.adapter).visitRequestProgressed?e.visitRequestProgressed(this):void 0},n.prototype.requestCompletedWithResponse=function(e,n){return this.response=e,null!=n&&(this.redirectedToLocation=t.Location.wrap(n)),this.adapter.visitRequestCompleted(this)},n.prototype.requestFailedWithStatusCode=function(t,e){return this.response=e,this.adapter.visitRequestFailedWithStatusCode(this,t)},n.prototype.requestFinished=function(){
var t;return this.recordTimingMetric("requestEnd"),"function"==typeof(t=this.adapter).visitRequestFinished?t.visitRequestFinished(this):void 0},n.prototype.performScroll=function(){return this.scrolled?void 0:("restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},n.prototype.scrollToRestoredPosition=function(){var t,e;return t=null!=(e=this.restorationData)?e.scrollPosition:void 0,null!=t?(this.controller.scrollToPosition(t),!0):void 0},n.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},n.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},n.prototype.recordTimingMetric=function(t){var e;return null!=(e=this.timingMetrics)[t]?e[t]:e[t]=(new Date).getTime()},n.prototype.getTimingMetrics=function(){return t.copyObject(this.timingMetrics)},o=function(t){switch(t){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},n.prototype.shouldIssueRequest=function(){return"restore"!==this.action||!this.hasCachedSnapshot()},n.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},n.prototype.render=function(t){return this.cancelRender(),this.frame=requestAnimationFrame(function(e){return function(){return e.frame=null,t.call(e)}}(this))},n.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},n}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.Controller=function(){function n(){this.clickBubbled=e(this.clickBubbled,this),this.clickCaptured=e(this.clickCaptured,this),this.pageLoaded=e(this.pageLoaded,this),this.history=new t.History(this),this.view=new t.View(this),this.scrollManager=new t.ScrollManager(this),this.restorationData={},this.clearCache()}return n.prototype.start=function(){return t.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},n.prototype.disable=function(){return this.enabled=!1},n.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},n.prototype.clearCache=function(){return this.cache=new t.SnapshotCache(10)},n.prototype.visit=function(e,n){var o,r;return null==n&&(n={}),e=t.Location.wrap(e),this.applicationAllowsVisitingLocation(e)?this.locationIsVisitable(e)?(o=null!=(r=n.action)?r:"advance",this.adapter.visitProposedToLocationWithAction(e,o)):window.location=e:void 0},n.prototype.startVisitToLocationWithAction=function(e,n,o){var r;return t.supported?(r=this.getRestorationDataForIdentifier(o),this.startVisit(e,n,{restorationData:r})):window.location=e},n.prototype.startHistory=function(){return this.location=t.Location.wrap(window.location),this.restorationIdentifier=t.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},n.prototype.stopHistory=function(){return this.history.stop()},n.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(e,n){return this.restorationIdentifier=n,this.location=t.Location.wrap(e),this.history.push(this.location,this.restorationIdentifier)},n.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(e,n){return this.restorationIdentifier=n,this.location=t.Location.wrap(e),this.history.replace(this.location,this.restorationIdentifier)},n.prototype.historyPoppedToLocationWithRestorationIdentifier=function(e,n){var o;return this.restorationIdentifier=n,this.enabled?(o=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(e,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:o,historyChanged:!0}),this.location=t.Location.wrap(e)):this.adapter.pageInvalidated()},n.prototype.getCachedSnapshotForLocation=function(t){var e;return e=this.cache.get(t),e?e.clone():void 0},n.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},n.prototype.cacheSnapshot=function(){var t;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),t=this.view.getSnapshot(),this.cache.put(this.lastRenderedLocation,t.clone())):void 0},n.prototype.scrollToAnchor=function(t){var e;return(e=document.getElementById(t))?this.scrollToElement(e):this.scrollToPosition({x:0,y:0})},n.prototype.scrollToElement=function(t){return this.scrollManager.scrollToElement(t)},n.prototype.scrollToPosition=function(t){return this.scrollManager.scrollToPosition(t)},n.prototype.scrollPositionChanged=function(t){var e;return e=this.getCurrentRestorationData(),e.scrollPosition=t},n.prototype.render=function(t,e){return this.view.render(t,e)},n.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},n.prototype.viewWillRender=function(t){return this.notifyApplicationBeforeRender(t)},n.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},n.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},n.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},n.prototype.clickBubbled=function(t){var e,n,o;return this.enabled&&this.clickEventIsSignificant(t)&&(n=this.getVisitableLinkForNode(t.target))&&(o=this.getVisitableLocationForLink(n))&&this.applicationAllowsFollowingLinkToLocation(n,o)?(t.preventDefault(),e=this.getActionForLink(n),this.visit(o,{action:e})):void 0},n.prototype.applicationAllowsFollowingLinkToLocation=function(t,e){var n;return n=this.notifyApplicationAfterClickingLinkToLocation(t,e),!n.defaultPrevented},n.prototype.applicationAllowsVisitingLocation=function(t){var e;return e=this.notifyApplicationBeforeVisitingLocation(t),!e.defaultPrevented},n.prototype.notifyApplicationAfterClickingLinkToLocation=function(e,n){return t.dispatch("turbolinks:click",{target:e,data:{url:n.absoluteURL},cancelable:!0})},n.prototype.notifyApplicationBeforeVisitingLocation=function(e){return t.dispatch("turbolinks:before-visit",{data:{url:e.absoluteURL},cancelable:!0})},n.prototype.notifyApplicationAfterVisitingLocation=function(e){return t.dispatch("turbolinks:visit",{data:{url:e.absoluteURL}})},n.prototype.notifyApplicationBeforeCachingSnapshot=function(){return t.dispatch("turbolinks:before-cache")},n.prototype.notifyApplicationBeforeRender=function(e){return t.dispatch("turbolinks:before-render",{data:{newBody:e}})},n.prototype.notifyApplicationAfterRender=function(){return t.dispatch("turbolinks:render")},n.prototype.notifyApplicationAfterPageLoad=function(e){return null==e&&(e={}),t.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:e}})},n.prototype.startVisit=function(t,e,n){var o;return null!=(o=this.currentVisit)&&o.cancel(),this.currentVisit=this.createVisit(t,e,n),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(t)},n.prototype.createVisit=function(e,n,o){var r,i,s,a,l;return i=null!=o?o:{},a=i.restorationIdentifier,s=i.restorationData,r=i.historyChanged,l=new t.Visit(this,e,n),l.restorationIdentifier=null!=a?a:t.uuid(),l.restorationData=t.copyObject(s),l.historyChanged=r,l.referrer=this.location,l},n.prototype.visitCompleted=function(t){return this.notifyApplicationAfterPageLoad(t.getTimingMetrics())},n.prototype.clickEventIsSignificant=function(t){return!(t.defaultPrevented||t.target.isContentEditable||t.which>1||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)},n.prototype.getVisitableLinkForNode=function(e){return this.nodeIsVisitable(e)?t.closest(e,"a[href]:not([target])"):void 0},n.prototype.getVisitableLocationForLink=function(e){var n;return n=new t.Location(e.getAttribute("href")),this.locationIsVisitable(n)?n:void 0},n.prototype.getActionForLink=function(t){var e;return null!=(e=t.getAttribute("data-turbolinks-action"))?e:"advance"},n.prototype.nodeIsVisitable=function(e){var n;return!(n=t.closest(e,"[data-turbolinks]"))||"false"!==n.getAttribute("data-turbolinks")},n.prototype.locationIsVisitable=function(t){return t.isPrefixedBy(this.view.getRootLocation())&&t.isHTML()},n.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},n.prototype.getRestorationDataForIdentifier=function(t){var e;return null!=(e=this.restorationData)[t]?e[t]:e[t]={}},n}()}.call(this),function(){var e,n,o;t.start=function(){return n()?(null==t.controller&&(t.controller=e()),t.controller.start()):void 0},n=function(){return null==window.Turbolinks&&(window.Turbolinks=t),o()},e=function(){var e;return e=new t.Controller,e.adapter=new t.BrowserAdapter(e),e},o=function(){return window.Turbolinks===t},o()&&t.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd&&define(t)}.call(this),function(){function t(t){function e(e,n,o,r,i,s){for(;i>=0&&s>i;i+=t){var a=r?r[i]:i;o=n(o,e[a],a,e)}return o}return function(n,o,r,i){o=b(o,i,4);var s=!N(n)&&v.keys(n),a=(s||n).length,l=t>0?0:a-1;return arguments.length<3&&(r=n[s?s[l]:l],l+=t),e(n,o,r,s,l,a)}}function e(t){return function(e,n,o){n=w(n,o);for(var r=S(e),i=t>0?0:r-1;i>=0&&r>i;i+=t)if(n(e[i],i,e))return i;return-1}}function n(t,e,n){return function(o,r,i){var s=0,a=S(o);if("number"==typeof i)t>0?s=i>=0?i:Math.max(i+a,s):a=i>=0?Math.min(i+1,a):i+a+1;else if(n&&i&&a)return i=n(o,r),o[i]===r?i:-1;if(r!==r)return i=e(u.call(o,s,a),v.isNaN),i>=0?i+s:-1;for(i=t>0?s:a-1;i>=0&&a>i;i+=t)if(o[i]===r)return i;return-1}}function o(t,e){var n=L.length,o=t.constructor,r=v.isFunction(o)&&o.prototype||a,i="constructor";for(v.has(t,i)&&!v.contains(e,i)&&e.push(i);n--;)i=L[n],i in t&&t[i]!==r[i]&&!v.contains(e,i)&&e.push(i)}var r=this,i=r._,s=Array.prototype,a=Object.prototype,l=Function.prototype,c=s.push,u=s.slice,d=a.toString,f=a.hasOwnProperty,h=Array.isArray,p=Object.keys,m=l.bind,g=Object.create,y=function(){},v=function(t){return t instanceof v?t:this instanceof v?void(this._wrapped=t):new v(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=v),exports._=v):r._=v,v.VERSION="1.8.3";var b=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,o){return t.call(e,n,o)};case 3:return function(n,o,r){return t.call(e,n,o,r)};case 4:return function(n,o,r,i){return t.call(e,n,o,r,i)}}return function(){return t.apply(e,arguments)}},w=function(t,e,n){return null==t?v.identity:v.isFunction(t)?b(t,e,n):v.isObject(t)?v.matcher(t):v.property(t)};v.iteratee=function(t,e){return w(t,e,1/0)};var C=function(t,e){return function(n){var o=arguments.length;if(2>o||null==n)return n;for(var r=1;o>r;r++)for(var i=arguments[r],s=t(i),a=s.length,l=0;a>l;l++){var c=s[l];e&&void 0!==n[c]||(n[c]=i[c])}return n}},x=function(t){if(!v.isObject(t))return{};if(g)return g(t);y.prototype=t;var e=new y;return y.prototype=null,e},E=function(t){return function(e){return null==e?void 0:e[t]}},T=Math.pow(2,53)-1,S=E("length"),N=function(t){var e=S(t);return"number"==typeof e&&e>=0&&T>=e};v.each=v.forEach=function(t,e,n){e=b(e,n);var o,r;if(N(t))for(o=0,r=t.length;r>o;o++)e(t[o],o,t);else{var i=v.keys(t);for(o=0,r=i.length;r>o;o++)e(t[i[o]],i[o],t)}return t},v.map=v.collect=function(t,e,n){e=w(e,n);for(var o=!N(t)&&v.keys(t),r=(o||t).length,i=Array(r),s=0;r>s;s++){var a=o?o[s]:s;i[s]=e(t[a],a,t)}return i},v.reduce=v.foldl=v.inject=t(1),v.reduceRight=v.foldr=t(-1),v.find=v.detect=function(t,e,n){var o;return o=N(t)?v.findIndex(t,e,n):v.findKey(t,e,n),void 0!==o&&o!==-1?t[o]:void 0},v.filter=v.select=function(t,e,n){var o=[];return e=w(e,n),v.each(t,function(t,n,r){e(t,n,r)&&o.push(t)}),o},v.reject=function(t,e,n){return v.filter(t,v.negate(w(e)),n)},v.every=v.all=function(t,e,n){e=w(e,n);for(var o=!N(t)&&v.keys(t),r=(o||t).length,i=0;r>i;i++){var s=o?o[i]:i;if(!e(t[s],s,t))return!1}return!0},v.some=v.any=function(t,e,n){e=w(e,n);for(var o=!N(t)&&v.keys(t),r=(o||t).length,i=0;r>i;i++){var s=o?o[i]:i;if(e(t[s],s,t))return!0}return!1},v.contains=v.includes=v.include=function(t,e,n,o){return N(t)||(t=v.values(t)),("number"!=typeof n||o)&&(n=0),v.indexOf(t,e,n)>=0},v.invoke=function(t,e){var n=u.call(arguments,2),o=v.isFunction(e);return v.map(t,function(t){var r=o?e:t[e];return null==r?r:r.apply(t,n)})},v.pluck=function(t,e){return v.map(t,v.property(e))},v.where=function(t,e){return v.filter(t,v.matcher(e))},v.findWhere=function(t,e){return v.find(t,v.matcher(e))},v.max=function(t,e,n){var o,r,i=-1/0,s=-1/0;if(null==e&&null!=t){t=N(t)?t:v.values(t);for(var a=0,l=t.length;l>a;a++)o=t[a],o>i&&(i=o)}else e=w(e,n),v.each(t,function(t,n,o){r=e(t,n,o),(r>s||r===-1/0&&i===-1/0)&&(i=t,s=r)});return i},v.min=function(t,e,n){var o,r,i=1/0,s=1/0;if(null==e&&null!=t){t=N(t)?t:v.values(t);for(var a=0,l=t.length;l>a;a++)o=t[a],i>o&&(i=o)}else e=w(e,n),v.each(t,function(t,n,o){r=e(t,n,o),(s>r||1/0===r&&1/0===i)&&(i=t,s=r)});return i},v.shuffle=function(t){for(var e,n=N(t)?t:v.values(t),o=n.length,r=Array(o),i=0;o>i;i++)e=v.random(0,i),e!==i&&(r[i]=r[e]),r[e]=n[i];return r},v.sample=function(t,e,n){return null==e||n?(N(t)||(t=v.values(t)),t[v.random(t.length-1)]):v.shuffle(t).slice(0,Math.max(0,e))},v.sortBy=function(t,e,n){return e=w(e,n),v.pluck(v.map(t,function(t,n,o){return{value:t,index:n,criteria:e(t,n,o)}}).sort(function(t,e){var n=t.criteria,o=e.criteria;if(n!==o){if(n>o||void 0===n)return 1;if(o>n||void 0===o)return-1}return t.index-e.index}),"value")};var _=function(t){return function(e,n,o){var r={};return n=w(n,o),v.each(e,function(o,i){var s=n(o,i,e);t(r,o,s)}),r}};v.groupBy=_(function(t,e,n){v.has(t,n)?t[n].push(e):t[n]=[e]}),v.indexBy=_(function(t,e,n){t[n]=e}),v.countBy=_(function(t,e,n){v.has(t,n)?t[n]++:t[n]=1}),v.toArray=function(t){return t?v.isArray(t)?u.call(t):N(t)?v.map(t,v.identity):v.values(t):[]},v.size=function(t){return null==t?0:N(t)?t.length:v.keys(t).length},v.partition=function(t,e,n){e=w(e,n);var o=[],r=[];return v.each(t,function(t,n,i){(e(t,n,i)?o:r).push(t)}),[o,r]},v.first=v.head=v.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:v.initial(t,t.length-e)},v.initial=function(t,e,n){return u.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},v.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:v.rest(t,Math.max(0,t.length-e))},v.rest=v.tail=v.drop=function(t,e,n){return u.call(t,null==e||n?1:e)},v.compact=function(t){return v.filter(t,v.identity)};var R=function(t,e,n,o){for(var r=[],i=0,s=o||0,a=S(t);a>s;s++){var l=t[s];if(N(l)&&(v.isArray(l)||v.isArguments(l))){e||(l=R(l,e,n));var c=0,u=l.length;for(r.length+=u;u>c;)r[i++]=l[c++]}else n||(r[i++]=l)}return r};v.flatten=function(t,e){return R(t,e,!1)},v.without=function(t){return v.difference(t,u.call(arguments,1))},v.uniq=v.unique=function(t,e,n,o){v.isBoolean(e)||(o=n,n=e,e=!1),null!=n&&(n=w(n,o));for(var r=[],i=[],s=0,a=S(t);a>s;s++){var l=t[s],c=n?n(l,s,t):l;e?(s&&i===c||r.push(l),i=c):n?v.contains(i,c)||(i.push(c),r.push(l)):v.contains(r,l)||r.push(l)}return r},v.union=function(){return v.uniq(R(arguments,!0,!0))},v.intersection=function(t){for(var e=[],n=arguments.length,o=0,r=S(t);r>o;o++){var i=t[o];if(!v.contains(e,i)){for(var s=1;n>s&&v.contains(arguments[s],i);s++);s===n&&e.push(i)}}return e},v.difference=function(t){var e=R(arguments,!0,!0,1);return v.filter(t,function(t){return!v.contains(e,t)})},v.zip=function(){return v.unzip(arguments)},v.unzip=function(t){for(var e=t&&v.max(t,S).length||0,n=Array(e),o=0;e>o;o++)n[o]=v.pluck(t,o);return n},v.object=function(t,e){for(var n={},o=0,r=S(t);r>o;o++)e?n[t[o]]=e[o]:n[t[o][0]]=t[o][1];return n},v.findIndex=e(1),v.findLastIndex=e(-1),v.sortedIndex=function(t,e,n,o){n=w(n,o,1);for(var r=n(e),i=0,s=S(t);s>i;){var a=Math.floor((i+s)/2);n(t[a])<r?i=a+1:s=a}return i},v.indexOf=n(1,v.findIndex,v.sortedIndex),v.lastIndexOf=n(-1,v.findLastIndex),v.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var o=Math.max(Math.ceil((e-t)/n),0),r=Array(o),i=0;o>i;i++,t+=n)r[i]=t;return r};var k=function(t,e,n,o,r){if(!(o instanceof e))return t.apply(n,r);var i=x(t.prototype),s=t.apply(i,r);return v.isObject(s)?s:i};v.bind=function(t,e){if(m&&t.bind===m)return m.apply(t,u.call(arguments,1));if(!v.isFunction(t))throw new TypeError("Bind must be called on a function");var n=u.call(arguments,2),o=function(){return k(t,o,e,this,n.concat(u.call(arguments)))};return o},v.partial=function(t){var e=u.call(arguments,1),n=function(){for(var o=0,r=e.length,i=Array(r),s=0;r>s;s++)i[s]=e[s]===v?arguments[o++]:e[s];for(;o<arguments.length;)i.push(arguments[o++]);return k(t,n,this,this,i)};return n},v.bindAll=function(t){var e,n,o=arguments.length;if(1>=o)throw new Error("bindAll must be passed function names");for(e=1;o>e;e++)n=arguments[e],t[n]=v.bind(t[n],t);return t},v.memoize=function(t,e){var n=function(o){var r=n.cache,i=""+(e?e.apply(this,arguments):o);return v.has(r,i)||(r[i]=t.apply(this,arguments)),r[i]};return n.cache={},n},v.delay=function(t,e){var n=u.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},v.defer=v.partial(v.delay,v,1),v.throttle=function(t,e,n){var o,r,i,s=null,a=0;n||(n={});var l=function(){a=n.leading===!1?0:v.now(),s=null,i=t.apply(o,r),s||(o=r=null)};return function(){var c=v.now();a||n.leading!==!1||(a=c);var u=e-(c-a);return o=this,r=arguments,0>=u||u>e?(s&&(clearTimeout(s),s=null),a=c,i=t.apply(o,r),s||(o=r=null)):s||n.trailing===!1||(s=setTimeout(l,u)),i}},v.debounce=function(t,e,n){var o,r,i,s,a,l=function(){var c=v.now()-s;e>c&&c>=0?o=setTimeout(l,e-c):(o=null,n||(a=t.apply(i,r),o||(i=r=null)))};return function(){i=this,r=arguments,s=v.now();var c=n&&!o;return o||(o=setTimeout(l,e)),c&&(a=t.apply(i,r),i=r=null),a}},v.wrap=function(t,e){return v.partial(e,t)},v.negate=function(t){return function(){return!t.apply(this,arguments)}},v.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,o=t[e].apply(this,arguments);n--;)o=t[n].call(this,o);return o}},v.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},v.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=null),n}},v.once=v.partial(v.before,2);var A=!{toString:null}.propertyIsEnumerable("toString"),L=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];v.keys=function(t){if(!v.isObject(t))return[];if(p)return p(t);var e=[];for(var n in t)v.has(t,n)&&e.push(n);return A&&o(t,e),e},v.allKeys=function(t){if(!v.isObject(t))return[];var e=[];for(var n in t)e.push(n);return A&&o(t,e),e},v.values=function(t){for(var e=v.keys(t),n=e.length,o=Array(n),r=0;n>r;r++)o[r]=t[e[r]];return o},v.mapObject=function(t,e,n){e=w(e,n);for(var o,r=v.keys(t),i=r.length,s={},a=0;i>a;a++)o=r[a],s[o]=e(t[o],o,t);return s},v.pairs=function(t){for(var e=v.keys(t),n=e.length,o=Array(n),r=0;n>r;r++)o[r]=[e[r],t[e[r]]];return o},v.invert=function(t){for(var e={},n=v.keys(t),o=0,r=n.length;r>o;o++)e[t[n[o]]]=n[o];return e},v.functions=v.methods=function(t){var e=[];for(var n in t)v.isFunction(t[n])&&e.push(n);return e.sort()},v.extend=C(v.allKeys),v.extendOwn=v.assign=C(v.keys),v.findKey=function(t,e,n){e=w(e,n);for(var o,r=v.keys(t),i=0,s=r.length;s>i;i++)if(o=r[i],e(t[o],o,t))return o},v.pick=function(t,e,n){var o,r,i={},s=t;if(null==s)return i;v.isFunction(e)?(r=v.allKeys(s),o=b(e,n)):(r=R(arguments,!1,!1,1),o=function(t,e,n){return e in n},s=Object(s));for(var a=0,l=r.length;l>a;a++){var c=r[a],u=s[c];o(u,c,s)&&(i[c]=u)}return i},v.omit=function(t,e,n){if(v.isFunction(e))e=v.negate(e);else{var o=v.map(R(arguments,!1,!1,1),String);e=function(t,e){return!v.contains(o,e)}}return v.pick(t,e,n)},v.defaults=C(v.allKeys,!0),v.create=function(t,e){var n=x(t);return e&&v.extendOwn(n,e),n},v.clone=function(t){return v.isObject(t)?v.isArray(t)?t.slice():v.extend({},t):t},v.tap=function(t,e){return e(t),t},v.isMatch=function(t,e){var n=v.keys(e),o=n.length;if(null==t)return!o;for(var r=Object(t),i=0;o>i;i++){var s=n[i];if(e[s]!==r[s]||!(s in r))return!1}return!0};var O=function(t,e,n,o){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof v&&(t=t._wrapped),e instanceof v&&(e=e._wrapped);var r=d.call(t);if(r!==d.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var i="[object Array]"===r;if(!i){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(v.isFunction(s)&&s instanceof s&&v.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],o=o||[];for(var l=n.length;l--;)if(n[l]===t)return o[l]===e;if(n.push(t),o.push(e),i){if(l=t.length,l!==e.length)return!1;for(;l--;)if(!O(t[l],e[l],n,o))return!1}else{var c,u=v.keys(t);if(l=u.length,v.keys(e).length!==l)return!1;for(;l--;)if(c=u[l],!v.has(e,c)||!O(t[c],e[c],n,o))return!1}return n.pop(),o.pop(),!0};v.isEqual=function(t,e){return O(t,e)},v.isEmpty=function(t){return null==t||(N(t)&&(v.isArray(t)||v.isString(t)||v.isArguments(t))?0===t.length:0===v.keys(t).length)},v.isElement=function(t){return!(!t||1!==t.nodeType)},v.isArray=h||function(t){return"[object Array]"===d.call(t)},v.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){v["is"+t]=function(e){return d.call(e)==="[object "+t+"]"}}),v.isArguments(arguments)||(v.isArguments=function(t){return v.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(v.isFunction=function(t){return"function"==typeof t||!1}),v.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},v.isNaN=function(t){return v.isNumber(t)&&t!==+t},v.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===d.call(t)},v.isNull=function(t){return null===t},v.isUndefined=function(t){return void 0===t},v.has=function(t,e){return null!=t&&f.call(t,e)},v.noConflict=function(){return r._=i,this},v.identity=function(t){return t},v.constant=function(t){return function(){return t}},v.noop=function(){},v.property=E,v.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},v.matcher=v.matches=function(t){return t=v.extendOwn({},t),function(e){return v.isMatch(e,t)}},v.times=function(t,e,n){var o=Array(Math.max(0,t));e=b(e,n,1);for(var r=0;t>r;r++)o[r]=e(r);return o},v.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},v.now=Date.now||function(){return(new Date).getTime()};var I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},D=v.invert(I),P=function(t){var e=function(e){return t[e]},n="(?:"+v.keys(t).join("|")+")",o=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,o.test(t)?t.replace(r,e):t}};v.escape=P(I),v.unescape=P(D),v.result=function(t,e,n){var o=null==t?void 0:t[e];return void 0===o&&(o=n),v.isFunction(o)?o.call(t):o};var M=0;v.uniqueId=function(t){var e=++M+"";return t?t+e:e},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var B=/(.)^/,j={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,q=function(t){return"\\"+j[t]};v.template=function(t,e,n){!e&&n&&(e=n),e=v.defaults({},e,v.templateSettings);var o=RegExp([(e.escape||B).source,(e.interpolate||B).source,(e.evaluate||B).source].join("|")+"|$","g"),r=0,i="__p+='";t.replace(o,function(e,n,o,s,a){return i+=t.slice(r,a).replace(H,q),r=a+e.length,n?i+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":o?i+="'+\n((__t=("+o+"))==null?'':__t)+\n'":s&&(i+="';\n"+s+"\n__p+='"),e}),i+="';\n",e.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var s=new Function(e.variable||"obj","_",i)}catch(t){throw t.source=i,t}var a=function(t){return s.call(this,t,v)},l=e.variable||"obj";return a.source="function("+l+"){\n"+i+"}",a},v.chain=function(t){var e=v(t);return e._chain=!0,e};var F=function(t,e){return t._chain?v(e).chain():e};v.mixin=function(t){v.each(v.functions(t),function(e){var n=v[e]=t[e];v.prototype[e]=function(){var t=[this._wrapped];return c.apply(t,arguments),F(this,n.apply(v,t))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=s[t];v.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],F(this,n)}}),v.each(["concat","join","slice"],function(t){var e=s[t];v.prototype[t]=function(){return F(this,e.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return v})}.call(this),function(){this.Gmaps={build:function(t,e){var n;return null==e&&(e={}),new(n=_.isFunction(e.handler)?e.handler:Gmaps.Objects.Handler)(t,e)},Builders:{},Objects:{},Google:{Objects:{},Builders:{}}}}.call(this),function(){var t,e=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};t=["extended","included"],this.Gmaps.Base=function(){function n(){}return n.extend=function(n){var o,r,i;for(o in n)i=n[o],e.call(t,o)<0&&(this[o]=i);return null!=(r=n.extended)&&r.apply(this),this},n.include=function(n){var o,r,i;for(o in n)i=n[o],e.call(t,o)<0&&(this.prototype[o]=i);return null!=(r=n.included)&&r.apply(this),this},n}()}.call(this),function(){this.Gmaps.Objects.BaseBuilder=function(){function t(){}return t.prototype.build=function(){return new(this.model_class())(this.serviceObject)},t.prototype.before_init=function(){},t.prototype.after_init=function(){},t.prototype.addListener=function(t,e){return this.primitives().addListener(this.getServiceObject(),t,e)},t.prototype.getServiceObject=function(){return this.serviceObject},t.prototype.primitives=function(){return this.constructor.PRIMITIVES},t.prototype.model_class=function(){return this.constructor.OBJECT},t}()}.call(this),function(){this.Gmaps.Objects.Builders=function(t,e,n){return{build:function(o,r,i){var s;return e.PRIMITIVES=n,t.OBJECT=e,t.PRIMITIVES=n,s=new t(o,r,i),s.build()}}}}.call(this),function(){this.Gmaps.Objects.Handler=function(){function t(t,e){this.type=t,null==e&&(e={}),this.setPrimitives(e),this.setOptions(e),this._cacheAllBuilders(),this.resetBounds()}return t.prototype.buildMap=function(t,e){return null==e&&(e=function(){}),this.map=this._builder("Map").build(t,function(t){return function(){return t._createClusterer(),e()}}(this))},t.prototype.addMarkers=function(t,e){return _.map(t,function(t){return function(n){return t.addMarker(n,e)}}(this))},t.prototype.addMarker=function(t,e){var n;return n=this._builder("Marker").build(t,e,this.marker_options),n.setMap(this.getMap()),this.clusterer.addMarker(n),n},t.prototype.addCircles=function(t,e){return _.map(t,function(t){return function(n){return t.addCircle(n,e)}}(this))},t.prototype.addCircle=function(t,e){return this._addResource("circle",t,e)},t.prototype.addPolylines=function(t,e){return _.map(t,function(t){return function(n){return t.addPolyline(n,e)}}(this))},t.prototype.addPolyline=function(t,e){return this._addResource("polyline",t,e)},t.prototype.addPolygons=function(t,e){return _.map(t,function(t){return function(n){return t.addPolygon(n,e)}}(this))},t.prototype.addPolygon=function(t,e){return this._addResource("polygon",t,e)},t.prototype.addKmls=function(t,e){return _.map(t,function(t){return function(n){return t.addKml(n,e)}}(this))},t.prototype.addKml=function(t,e){return this._addResource("kml",t,e)},t.prototype.removeMarkers=function(t){return _.map(t,function(t){return function(e){return t.removeMarker(e)}}(this))},t.prototype.removeMarker=function(t){return t.clear(),this.clusterer.removeMarker(t)},t.prototype.fitMapToBounds=function(){return this.map.fitToBounds(this.bounds.getServiceObject())},t.prototype.getMap=function(){return this.map.getServiceObject()},t.prototype.setOptions=function(t){return this.marker_options=_.extend(this._default_marker_options(),t.markers),this.builders=_.extend(this._default_builders(),t.builders),this.models=_.extend(this._default_models(),t.models)},t.prototype.resetBounds=function(){return this.bounds=this._builder("Bound").build()},t.prototype.setPrimitives=function(t){return this.primitives=void 0===t.primitives?this._rootModule().Primitives():_.isFunction(t.primitives)?t.primitives():t.primitives},t.prototype.currentInfowindow=function(){return this.builders.Marker.CURRENT_INFOWINDOW},t.prototype._addResource=function(t,e,n){var o;return o=this._builder(t).build(e,n),o.setMap(this.getMap()),o},t.prototype._cacheAllBuilders=function(){var t;return t=this,_.each(["Bound","Circle","Clusterer","Kml","Map","Marker","Polygon","Polyline"],function(e){return t._builder(e)})},t.prototype._clusterize=function(){return _.isObject(this.marker_options.clusterer)},t.prototype._createClusterer=function(){return this.clusterer=this._builder("Clusterer").build({map:this.getMap()},this.marker_options.clusterer)},t.prototype._default_marker_options=function(){return _.clone({singleInfowindow:!0,maxRandomDistance:0,clusterer:{maxZoom:5,gridSize:50}})},t.prototype._builder=function(t){var e;return t=this._capitalize(t),null==this[e="__builder"+t]&&(this[e]=Gmaps.Objects.Builders(this.builders[t],this.models[t],this.primitives)),this["__builder"+t]},t.prototype._default_models=function(){var t;return t=_.clone(this._rootModule().Objects),this._clusterize()?t:(t.Clusterer=Gmaps.Objects.NullClusterer,t)},t.prototype._capitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},t.prototype._default_builders=function(){return _.clone(this._rootModule().Builders)},t.prototype._rootModule=function(){return null==this.__rootModule&&(this.__rootModule=Gmaps[this.type]),this.__rootModule},t}()}.call(this),function(){this.Gmaps.Objects.NullClusterer=function(){function t(){}return t.prototype.addMarkers=function(){},t.prototype.addMarker=function(){},t.prototype.clear=function(){},t.prototype.removeMarker=function(){},t}()}.call(this),function(){this.Gmaps.Google.Objects.Common={getServiceObject:function(){return this.serviceObject},setMap:function(t){return this.getServiceObject().setMap(t)},clear:function(){return this.getServiceObject().setMap(null)},show:function(){return this.getServiceObject().setVisible(!0)},hide:function(){return this.getServiceObject().setVisible(!1)},isVisible:function(){return this.getServiceObject().getVisible()},primitives:function(){return this.constructor.PRIMITIVES}}}.call(this),function(){var t=function(t,n){function o(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t},e={}.hasOwnProperty;this.Gmaps.Google.Builders.Bound=function(e){function n(){this.before_init(),this.serviceObject=new(this.primitives().latLngBounds),this.after_init()}return t(n,e),n}(Gmaps.Objects.BaseBuilder)}.call(this),function(){var t=function(t,n){function o(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t},e={}.hasOwnProperty;this.Gmaps.Google.Builders.Circle=function(e){function n(t,e){this.args=t,this.provider_options=null!=e?e:{},this.before_init(),this.serviceObject=this.create_circle(),this.after_init()}return t(n,e),n.prototype.create_circle=function(){return new(this.primitives().circle)(this.circle_options())},n.prototype.circle_options=function(){var t;return t={center:new(this.primitives().latLng)(this.args.lat,this.args.lng),radius:this.args.radius},_.defaults(t,this.provider_options)},n}(Gmaps.Objects.BaseBuilder)}.call(this),function(){var t=function(t,n){function o(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t},e={}.hasOwnProperty;this.Gmaps.Google.Builders.Clusterer=function(e){function n(t,e){this.args=t,this.options=e,this.before_init(),this.serviceObject=new(this.primitives().clusterer)(this.args.map,[],this.options),
this.after_init()}return t(n,e),n}(Gmaps.Objects.BaseBuilder)}.call(this),function(){var t=function(t,n){function o(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t},e={}.hasOwnProperty;this.Gmaps.Google.Builders.Kml=function(e){function n(t,e){this.args=t,this.provider_options=null!=e?e:{},this.before_init(),this.serviceObject=this.create_kml(),this.after_init()}return t(n,e),n.prototype.create_kml=function(){return new(this.primitives().kml)(this.args.url,this.kml_options())},n.prototype.kml_options=function(){var t;return t={},_.defaults(t,this.provider_options)},n}(Gmaps.Objects.BaseBuilder)}.call(this),function(){var t=function(t,n){function o(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t},e={}.hasOwnProperty;this.Gmaps.Google.Builders.Map=function(e){function n(t,e){var n;this.before_init(),n=_.extend(this.default_options(),t.provider),this.internal_options=t.internal,this.serviceObject=new(this.primitives().map)(document.getElementById(this.internal_options.id),n),this.on_map_load(e),this.after_init()}return t(n,e),n.prototype.build=function(){return new(this.model_class())(this.serviceObject,this.primitives())},n.prototype.on_map_load=function(t){return this.primitives().addListenerOnce(this.serviceObject,"idle",t)},n.prototype.default_options=function(){return{mapTypeId:this.primitives().mapTypes("ROADMAP"),center:new(this.primitives().latLng)(0,0),zoom:8}},n}(Gmaps.Objects.BaseBuilder)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function o(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t},n={}.hasOwnProperty;this.Gmaps.Google.Builders.Marker=function(n){function o(e,n,o){this.args=e,this.provider_options=null!=n?n:{},this.internal_options=null!=o?o:{},this.infowindow_binding=t(this.infowindow_binding,this),this.before_init(),this.create_marker(),this.create_infowindow_on_click(),this.after_init()}return e(o,n),o.CURRENT_INFOWINDOW=void 0,o.CACHE_STORE={},o.prototype.build=function(){return this.marker=new(this.model_class())(this.serviceObject)},o.prototype.create_marker=function(){return this.serviceObject=new(this.primitives().marker)(this.marker_options())},o.prototype.create_infowindow=function(){return _.isString(this.args.infowindow)?new(this.primitives().infowindow)({content:this.args.infowindow}):null},o.prototype.marker_options=function(){var t,e;return e=this._randomized_coordinates(),t={title:this.args.marker_title,position:new(this.primitives().latLng)(e[0],e[1]),icon:this._get_picture("picture"),shadow:this._get_picture("shadow")},_.extend(this.provider_options,t)},o.prototype.create_infowindow_on_click=function(){return this.addListener("click",this.infowindow_binding)},o.prototype.infowindow_binding=function(){var t;if(this._should_close_infowindow()&&this.constructor.CURRENT_INFOWINDOW.close(),this.marker.panTo(),null==this.infowindow&&(this.infowindow=this.create_infowindow()),null!=this.infowindow)return this.infowindow.open(this.getServiceObject().getMap(),this.getServiceObject()),null==(t=this.marker).infowindow&&(t.infowindow=this.infowindow),this.constructor.CURRENT_INFOWINDOW=this.infowindow},o.prototype._get_picture=function(t){return _.isObject(this.args[t])&&_.isString(this.args[t].url)?this._create_or_retrieve_image(this._picture_args(t)):null},o.prototype._create_or_retrieve_image=function(t){return void 0===this.constructor.CACHE_STORE[t.url]&&(this.constructor.CACHE_STORE[t.url]=new(this.primitives().markerImage)(t.url,t.size,t.origin,t.anchor,t.scaledSize)),this.constructor.CACHE_STORE[t.url]},o.prototype._picture_args=function(t){return{url:this.args[t].url,anchor:this._createImageAnchorPosition(this.args[t].anchor),size:new(this.primitives().size)(this.args[t].width,this.args[t].height),scaledSize:null,origin:null}},o.prototype._createImageAnchorPosition=function(t){return _.isArray(t)?new(this.primitives().point)(t[0],t[1]):null},o.prototype._should_close_infowindow=function(){return this.internal_options.singleInfowindow&&null!=this.constructor.CURRENT_INFOWINDOW},o.prototype._randomized_coordinates=function(){var t,e,n,o,r;return _.isNumber(this.internal_options.maxRandomDistance)?(r=function(){return 2*Math.random()-1},n=this.internal_options.maxRandomDistance*r(),o=this.internal_options.maxRandomDistance*r(),t=parseFloat(this.args.lat)+180/Math.PI*(o/6378137),e=parseFloat(this.args.lng)+90/Math.PI*(n/6378137)/Math.cos(this.args.lat),[t,e]):[this.args.lat,this.args.lng]},o}(Gmaps.Objects.BaseBuilder)}.call(this),function(){var t=function(t,n){function o(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t},e={}.hasOwnProperty;this.Gmaps.Google.Builders.Polygon=function(e){function n(t,e){this.args=t,this.provider_options=null!=e?e:{},this.before_init(),this.serviceObject=this.create_polygon(),this.after_init()}return t(n,e),n.prototype.create_polygon=function(){return new(this.primitives().polygon)(this.polygon_options())},n.prototype.polygon_options=function(){var t;return t={path:this._build_path()},_.defaults(t,this.provider_options)},n.prototype._build_path=function(){return _.map(this.args,function(t){return function(e){return new(t.primitives().latLng)(e.lat,e.lng)}}(this))},n}(Gmaps.Objects.BaseBuilder)}.call(this),function(){var t=function(t,n){function o(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t},e={}.hasOwnProperty;this.Gmaps.Google.Builders.Polyline=function(e){function n(t,e){this.args=t,this.provider_options=null!=e?e:{},this.before_init(),this.serviceObject=this.create_polyline(),this.after_init()}return t(n,e),n.prototype.create_polyline=function(){return new(this.primitives().polyline)(this.polyline_options())},n.prototype.polyline_options=function(){var t;return t={path:this._build_path()},_.defaults(t,this.provider_options)},n.prototype._build_path=function(){return _.map(this.args,function(t){return function(e){return new(t.primitives().latLng)(e.lat,e.lng)}}(this))},n}(Gmaps.Objects.BaseBuilder)}.call(this),function(){var t=function(t,n){function o(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t},e={}.hasOwnProperty;this.Gmaps.Google.Objects.Bound=function(e){function n(t){this.serviceObject=t}return t(n,e),n.include(Gmaps.Google.Objects.Common),n.prototype.extendWith=function(t){var e;return e=_.isArray(t)?t:[t],_.each(e,function(t){return function(e){return e.updateBounds(t)}}(this))},n.prototype.extend=function(t){return this.getServiceObject().extend(this.primitives().latLngFromPosition(t))},n}(Gmaps.Base)}.call(this),function(){var t=function(t,n){function o(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t},e={}.hasOwnProperty;this.Gmaps.Google.Objects.Circle=function(e){function n(t){this.serviceObject=t}return t(n,e),n.include(Gmaps.Google.Objects.Common),n.prototype.updateBounds=function(t){return t.extend(this.getServiceObject().getBounds().getNorthEast()),t.extend(this.getServiceObject().getBounds().getSouthWest())},n}(Gmaps.Base)}.call(this),function(){this.Gmaps.Google.Objects.Clusterer=function(){function t(t){this.serviceObject=t}return t.prototype.addMarkers=function(t){return _.each(t,function(t){return function(e){return t.addMarker(e)}}(this))},t.prototype.addMarker=function(t){return this.getServiceObject().addMarker(t.getServiceObject())},t.prototype.clear=function(){return this.getServiceObject().clearMarkers()},t.prototype.removeMarker=function(t){return this.getServiceObject().removeMarker(t.getServiceObject())},t.prototype.getServiceObject=function(){return this.serviceObject},t}()}.call(this),function(){var t=function(t,n){function o(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t},e={}.hasOwnProperty;this.Gmaps.Google.Objects.Kml=function(e){function n(t){this.serviceObject=t}return t(n,e),n.prototype.updateBounds=function(){},n.prototype.setMap=function(t){return this.getServiceObject().setMap(t)},n.prototype.getServiceObject=function(){return this.serviceObject},n.prototype.primitives=function(){return this.constructor.PRIMITIVES},n}(Gmaps.Base)}.call(this),function(){var t=function(t,n){function o(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t},e={}.hasOwnProperty;this.Gmaps.Google.Objects.Map=function(e){function n(t){this.serviceObject=t}return t(n,e),n.prototype.getServiceObject=function(){return this.serviceObject},n.prototype.centerOn=function(t){return this.getServiceObject().setCenter(this.primitives().latLngFromPosition(t))},n.prototype.fitToBounds=function(t){if(!t.isEmpty())return this.getServiceObject().fitBounds(t)},n.prototype.primitives=function(){return this.constructor.PRIMITIVES},n}(Gmaps.Base)}.call(this),function(){var t=function(t,n){function o(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t},e={}.hasOwnProperty;this.Gmaps.Google.Objects.Marker=function(e){function n(t){this.serviceObject=t}return t(n,e),n.include(Gmaps.Google.Objects.Common),n.prototype.updateBounds=function(t){return t.extend(this.getServiceObject().position)},n.prototype.panTo=function(){return this.getServiceObject().getMap().panTo(this.getServiceObject().getPosition())},n}(Gmaps.Base)}.call(this),function(){var t=function(t,n){function o(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t},e={}.hasOwnProperty;this.Gmaps.Google.Objects.Polygon=function(e){function n(t){this.serviceObject=t}return t(n,e),n.include(Gmaps.Google.Objects.Common),n.prototype.updateBounds=function(t){var e,n,o,r,i;for(r=this.serviceObject.getPath().getArray(),i=[],e=0,n=r.length;e<n;e++)o=r[e],i.push(t.extend(o));return i},n}(Gmaps.Base)}.call(this),function(){var t=function(t,n){function o(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t},e={}.hasOwnProperty;this.Gmaps.Google.Objects.Polyline=function(e){function n(t){this.serviceObject=t}return t(n,e),n.include(Gmaps.Google.Objects.Common),n.prototype.updateBounds=function(t){var e,n,o,r,i;for(r=this.serviceObject.getPath().getArray(),i=[],e=0,n=r.length;e<n;e++)o=r[e],i.push(t.extend(o));return i},n}(Gmaps.Base)}.call(this),function(){this.Gmaps.Google.Primitives=function(){var t;return t={point:google.maps.Point,size:google.maps.Size,circle:google.maps.Circle,latLng:google.maps.LatLng,latLngBounds:google.maps.LatLngBounds,map:google.maps.Map,mapTypez:google.maps.MapTypeId,markerImage:google.maps.MarkerImage,marker:google.maps.Marker,infowindow:google.maps.InfoWindow,listener:google.maps.event.addListener,clusterer:MarkerClusterer,listenerOnce:google.maps.event.addListenerOnce,polyline:google.maps.Polyline,polygon:google.maps.Polygon,kml:google.maps.KmlLayer,addListener:function(e,n,o){return t.listener(e,n,o)},addListenerOnce:function(e,n,o){return t.listenerOnce(e,n,o)},mapTypes:function(e){return t.mapTypez[e]},latLngFromPosition:function(e){return _.isArray(e)?new t.latLng(e[0],e[1]):_.isNumber(e.lat)&&_.isNumber(e.lng)?new t.latLng(e.lat,e.lng):_.isFunction(e.getServiceObject)?e.getServiceObject().getPosition():e}}}}.call(this),function(){}.call(this),Object.defineProperty&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(Element.prototype,"textContent")&&!Object.getOwnPropertyDescriptor(Element.prototype,"textContent").get&&!function(){var t=Object.getOwnPropertyDescriptor(Element.prototype,"innerText");Object.defineProperty(Element.prototype,"textContent",{get:function(){return t.get.call(this)},set:function(e){return t.set.call(this,e)}})}(),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var wysihtml5={version:"0.4.13",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"\ufeff",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,DELETE_KEY:46};!function(t,e){"function"==typeof define&&define.amd?define(t):e.rangy=t()}(function(){function t(t,e){var n=typeof t[e];return n==v||!(n!=y||!t[e])||"unknown"==n}function e(t,e){return!(typeof t[e]!=y||!t[e])}function n(t,e){return typeof t[e]!=b}function o(t){return function(e,n){for(var o=n.length;o--;)if(!t(e,n[o]))return!1;return!0}}function r(t){return t&&T(t,E)&&N(t,x)}function i(t){return e(t,"body")?t.body:t.getElementsByTagName("body")[0]}function s(n){e(window,"console")&&t(window.console,"log")&&window.console.log(n)}function a(t,e){e?window.alert(t):s(t)}function l(t){R.initialized=!0,R.supported=!1,a("Rangy is not supported on this page in your browser. Reason: "+t,R.config.alertOnFail)}function c(t){a("Rangy warning: "+t,R.config.alertOnWarn)}function u(t){return t.message||t.description||String(t)}function d(){if(!R.initialized){var e,n=!1,o=!1;t(document,"createRange")&&(e=document.createRange(),T(e,C)&&N(e,w)&&(n=!0));var a=i(document);if(!a||"body"!=a.nodeName.toLowerCase())return void l("No body element found");if(a&&t(a,"createTextRange")&&(e=a.createTextRange(),r(e)&&(o=!0)),!n&&!o)return void l("Neither Range nor TextRange are available");R.initialized=!0,R.features={implementsDomRange:n,implementsTextRange:o};var c,d;for(var f in _)(c=_[f])instanceof h&&c.init(c,R);for(var p=0,m=A.length;p<m;++p)try{A[p](R)}catch(t){d="Rangy init listener threw an exception. Continuing. Detail: "+u(t),s(d)}}}function f(t){t=t||window,d();for(var e=0,n=L.length;e<n;++e)L[e](t)}function h(t,e,n){this.name=t,this.dependencies=e,this.initialized=!1,this.supported=!1,this.initializer=n}function p(t,e,n,o){var r=new h(e,n,function(t){if(!t.initialized){t.initialized=!0;try{o(R,t),t.supported=!0}catch(t){var n="Module '"+e+"' failed to load: "+u(t);s(n)}}});_[e]=r}function m(){}function g(){}var y="object",v="function",b="undefined",w=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],C=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],x=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],E=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"],T=o(t),S=o(e),N=o(n),_={},R={version:"1.3alpha.20140804",initialized:!1,supported:!0,util:{isHostMethod:t,isHostObject:e,isHostProperty:n,areHostMethods:T,areHostObjects:S,areHostProperties:N,isTextRange:r,getBody:i},features:{},modules:_,config:{alertOnFail:!0,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==b||rangyAutoInitialize}};R.fail=l,R.warn=c,{}.hasOwnProperty?R.util.extend=function(t,e,n){var o,r;for(var i in e)e.hasOwnProperty(i)&&(o=t[i],r=e[i],n&&null!==o&&"object"==typeof o&&null!==r&&"object"==typeof r&&R.util.extend(o,r,!0),t[i]=r);return e.hasOwnProperty("toString")&&(t.toString=e.toString),t}:l("hasOwnProperty not supported"),function(){var t=document.createElement("div");t.appendChild(document.createElement("span"));var e,n=[].slice;try{1==n.call(t.childNodes,0)[0].nodeType&&(e=function(t){return n.call(t,0)})}catch(t){}e||(e=function(t){for(var e=[],n=0,o=t.length;n<o;++n)e[n]=t[n];return e}),R.util.toArray=e}();var k;t(document,"addEventListener")?k=function(t,e,n){t.addEventListener(e,n,!1)}:t(document,"attachEvent")?k=function(t,e,n){t.attachEvent("on"+e,n)}:l("Document does not have required addEventListener or attachEvent method"),R.util.addListener=k;var A=[];R.init=d,R.addInitListener=function(t){R.initialized?t(R):A.push(t)};var L=[];R.addShimListener=function(t){L.push(t)},R.shim=R.createMissingNativeApi=f,h.prototype={init:function(){for(var t,e,n=this.dependencies||[],o=0,r=n.length;o<r;++o){if(e=n[o],t=_[e],!(t&&t instanceof h))throw new Error("required module '"+e+"' not found");if(t.init(),!t.supported)throw new Error("required module '"+e+"' not supported")}this.initializer(this)},fail:function(t){throw this.initialized=!0,this.supported=!1,new Error("Module '"+this.name+"' failed to load: "+t)},warn:function(t){R.warn("Module "+this.name+": "+t)},deprecationNotice:function(t,e){R.warn("DEPRECATED: "+t+" in module "+this.name+"is deprecated. Please use "+e+" instead")},createError:function(t){return new Error("Error in Rangy "+this.name+" module: "+t)}},R.createModule=function(t){var e,n;2==arguments.length?(e=arguments[1],n=[]):(e=arguments[2],n=arguments[1]);var o=p(!1,t,n,e);R.initialized&&o.init()},R.createCoreModule=function(t,e,n){p(!0,t,e,n)},R.RangePrototype=m,R.rangePrototype=new m,R.selectionPrototype=new g;var O=!1,I=function(){O||(O=!0,!R.initialized&&R.config.autoInitialize&&d())};return typeof window==b?void l("No window found"):typeof document==b?void l("No document found"):(t(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",I,!1),k(window,"load",I),R.createCoreModule("DomUtil",[],function(t,e){function n(t){var e;return typeof t.namespaceURI==k||null===(e=t.namespaceURI)||"http://www.w3.org/1999/xhtml"==e}function o(t){var e=t.parentNode;return 1==e.nodeType?e:null}function r(t){for(var e=0;t=t.previousSibling;)++e;return e}function i(t){switch(t.nodeType){case 7:case 10:return 0;case 3:case 8:return t.length;default:return t.childNodes.length}}function s(t,e){var n,o=[];for(n=t;n;n=n.parentNode)o.push(n);for(n=e;n;n=n.parentNode)if(I(o,n))return n;return null}function a(t,e,n){for(var o=n?e:e.parentNode;o;){if(o===t)return!0;o=o.parentNode}return!1}function l(t,e){return a(t,e,!0)}function c(t,e,n){for(var o,r=n?t:t.parentNode;r;){if(o=r.parentNode,o===e)return r;r=o}return null}function u(t){var e=t.nodeType;return 3==e||4==e||8==e}function d(t){if(!t)return!1;var e=t.nodeType;return 3==e||8==e}function f(t,e){var n=e.nextSibling,o=e.parentNode;return n?o.insertBefore(t,n):o.appendChild(t),t}function h(t,e,n){var o=t.cloneNode(!1);if(o.deleteData(0,e),t.deleteData(e,t.length-e),f(o,t),n)for(var i,s=0;i=n[s++];)i.node==t&&i.offset>e?(i.node=o,i.offset-=e):i.node==t.parentNode&&i.offset>r(t)&&++i.offset;return o}function p(t){if(9==t.nodeType)return t;if(typeof t.ownerDocument!=k)return t.ownerDocument;if(typeof t.document!=k)return t.document;if(t.parentNode)return p(t.parentNode);throw e.createError("getDocument: no document found for node")}function m(t){var n=p(t);if(typeof n.defaultView!=k)return n.defaultView;if(typeof n.parentWindow!=k)return n.parentWindow;throw e.createError("Cannot get a window object for node")}function g(t){if(typeof t.contentDocument!=k)return t.contentDocument;if(typeof t.contentWindow!=k)return t.contentWindow.document;throw e.createError("getIframeDocument: No Document object found for iframe element")}function y(t){if(typeof t.contentWindow!=k)return t.contentWindow;if(typeof t.contentDocument!=k)return t.contentDocument.defaultView;throw e.createError("getIframeWindow: No Window object found for iframe element")}function v(t){return t&&A.isHostMethod(t,"setTimeout")&&A.isHostObject(t,"document")}function b(t,e,n){var o;if(t?A.isHostProperty(t,"nodeType")?o=1==t.nodeType&&"iframe"==t.tagName.toLowerCase()?g(t):p(t):v(t)&&(o=t.document):o=document,!o)throw e.createError(n+"(): Parameter must be a Window object or DOM node");return o}function w(t){for(var e;e=t.parentNode;)t=e;return t}function C(t,n,o,i){var a,l,u,d,f;if(t==o)return n===i?0:n<i?-1:1;if(a=c(o,t,!0))return n<=r(a)?-1:1;if(a=c(t,o,!0))return r(a)<i?-1:1;if(l=s(t,o),!l)throw new Error("comparePoints error: nodes have no common ancestor");if(u=t===l?l:c(t,l,!0),d=o===l?l:c(o,l,!0),u===d)throw e.createError("comparePoints got to case 4 and childA and childB are the same!");for(f=l.firstChild;f;){if(f===u)return-1;if(f===d)return 1;f=f.nextSibling}}function x(t){var e;try{return e=t.parentNode,!1}catch(t){return!0}}function E(t){if(!t)return"[No node]";if(D&&x(t))return"[Broken node]";if(u(t))return'"'+t.data+'"';if(1==t.nodeType){var e=t.id?' id="'+t.id+'"':"";return"<"+t.nodeName+e+">[index:"+r(t)+",length:"+t.childNodes.length+"]["+(t.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return t.nodeName}function T(t){for(var e,n=p(t).createDocumentFragment();e=t.firstChild;)n.appendChild(e);return n}function S(t){this.root=t,this._next=t}function N(t){return new S(t)}function _(t,e){this.node=t,this.offset=e}function R(t){this.code=this[t],this.codeName=t,this.message="DOMException: "+this.codeName}var k="undefined",A=t.util;A.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||e.fail("document missing a Node creation method"),A.isHostMethod(document,"getElementsByTagName")||e.fail("document missing getElementsByTagName method");var L=document.createElement("div");A.areHostMethods(L,["insertBefore","appendChild","cloneNode"]||!A.areHostObjects(L,["previousSibling","nextSibling","childNodes","parentNode"]))||e.fail("Incomplete Element implementation"),A.isHostProperty(L,"innerHTML")||e.fail("Element is missing innerHTML property");var O=document.createTextNode("test");A.areHostMethods(O,["splitText","deleteData","insertData","appendData","cloneNode"]||!A.areHostObjects(L,["previousSibling","nextSibling","childNodes","parentNode"])||!A.areHostProperties(O,["data"]))||e.fail("Incomplete Text Node implementation");var I=function(t,e){for(var n=t.length;n--;)if(t[n]===e)return!0;return!1},D=!1;!function(){var e=document.createElement("b");e.innerHTML="1";var n=e.firstChild;e.innerHTML="<br>",D=x(n),t.features.crashyTextNodes=D}();var P;typeof window.getComputedStyle!=k?P=function(t,e){return m(t).getComputedStyle(t,null)[e]}:typeof document.documentElement.currentStyle!=k?P=function(t,e){return t.currentStyle[e]}:e.fail("No means of obtaining computed style properties found"),S.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var t,e,n=this._current=this._next;if(this._current)if(t=n.firstChild)this._next=t;else{for(e=null;n!==this.root&&!(e=n.nextSibling);)n=n.parentNode;this._next=e}return this._current},detach:function(){this._current=this._next=this.root=null}},_.prototype={equals:function(t){return!!t&&this.node===t.node&&this.offset==t.offset},inspect:function(){return"[DomPosition("+E(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},R.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},R.prototype.toString=function(){return this.message},t.dom={arrayContains:I,isHtmlNamespace:n,parentElement:o,getNodeIndex:r,getNodeLength:i,getCommonAncestor:s,isAncestorOf:a,isOrIsAncestorOf:l,getClosestAncestorIn:c,isCharacterDataNode:u,isTextOrCommentNode:d,insertAfter:f,splitDataNode:h,getDocument:p,getWindow:m,getIframeWindow:y,getIframeDocument:g,getBody:A.getBody,isWindow:v,getContentDocument:b,getRootContainer:w,comparePoints:C,isBrokenNode:x,inspectNode:E,getComputedStyleProperty:P,fragmentFromNodeChildren:T,createIterator:N,DomPosition:_},t.DOMException=R}),R.createCoreModule("DomRange",["DomUtil"],function(t){function e(t,e){return 3!=t.nodeType&&(q(t,e.startContainer)||q(t,e.endContainer))}function n(t){return t.document||F(t.startContainer)}function o(t){return new M(t.parentNode,H(t))}function r(t){return new M(t.parentNode,H(t)+1)}function i(t,e,n){var o=11==t.nodeType?t.firstChild:t;return j(e)?n==e.length?D.insertAfter(t,e):e.parentNode.insertBefore(t,0==n?e:W(e,n)):n>=e.childNodes.length?e.appendChild(t):e.insertBefore(t,e.childNodes[n]),o}function s(t,e,o){if(T(t),T(e),n(e)!=n(t))throw new B("WRONG_DOCUMENT_ERR");var r=$(t.startContainer,t.startOffset,e.endContainer,e.endOffset),i=$(t.endContainer,t.endOffset,e.startContainer,e.startOffset);return o?r<=0&&i>=0:r<0&&i>0}function a(t){for(var e,o,r,i=n(t.range).createDocumentFragment();o=t.next();){if(e=t.isPartiallySelectedSubtree(),o=o.cloneNode(!e),e&&(r=t.getSubtreeIterator(),o.appendChild(a(r)),r.detach()),10==o.nodeType)throw new B("HIERARCHY_REQUEST_ERR");i.appendChild(o)}return i}function l(t,e,n){var o,r;n=n||{stop:!1};for(var i,s;i=t.next();)if(t.isPartiallySelectedSubtree()){if(e(i)===!1)return void(n.stop=!0);if(s=t.getSubtreeIterator(),l(s,e,n),s.detach(),n.stop)return}else for(o=D.createIterator(i);r=o.next();)if(e(r)===!1)return void(n.stop=!0)}function c(t){for(var e;t.next();)t.isPartiallySelectedSubtree()?(e=t.getSubtreeIterator(),c(e),e.detach()):t.remove()}function u(t){for(var e,o,r=n(t.range).createDocumentFragment();e=t.next();){if(t.isPartiallySelectedSubtree()?(e=e.cloneNode(!1),o=t.getSubtreeIterator(),e.appendChild(u(o)),o.detach()):t.remove(),10==e.nodeType)throw new B("HIERARCHY_REQUEST_ERR");r.appendChild(e)}return r}function d(t,e,n){var o,r=!(!e||!e.length),i=!!n;r&&(o=new RegExp("^("+e.join("|")+")$"));var s=[];return l(new h(t,!1),function(e){if((!r||o.test(e.nodeType))&&(!i||n(e))){var a=t.startContainer;if(e!=a||!j(a)||t.startOffset!=a.length){var l=t.endContainer;e==l&&j(l)&&0==t.endOffset||s.push(e)}}}),s}function f(t){var e="undefined"==typeof t.getName?"Range":t.getName();return"["+e+"("+D.inspectNode(t.startContainer)+":"+t.startOffset+", "+D.inspectNode(t.endContainer)+":"+t.endOffset+")]"}function h(t,e){if(this.range=t,this.clonePartiallySelectedTextNodes=e,!t.collapsed){this.sc=t.startContainer,this.so=t.startOffset,this.ec=t.endContainer,this.eo=t.endOffset;var n=t.commonAncestorContainer;this.sc===this.ec&&j(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||j(this.sc)?z(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||j(this.ec)?z(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}function p(t){return function(e,n){for(var o,r=n?e:e.parentNode;r;){if(o=r.nodeType,U(t,o))return r;r=r.parentNode}return null}}function m(t,e){if(nt(t,e))throw new B("INVALID_NODE_TYPE_ERR")}function g(t,e){if(!U(e,t.nodeType))throw new B("INVALID_NODE_TYPE_ERR")}function y(t,e){if(e<0||e>(j(t)?t.length:t.childNodes.length))throw new B("INDEX_SIZE_ERR")}function v(t,e){if(tt(t,!0)!==tt(e,!0))throw new B("WRONG_DOCUMENT_ERR")}function b(t){if(et(t,!0))throw new B("NO_MODIFICATION_ALLOWED_ERR")}function w(t,e){if(!t)throw new B(e)}function C(t){return K&&D.isBrokenNode(t)||!U(Y,t.nodeType)&&!tt(t,!0)}function x(t,e){return e<=(j(t)?t.length:t.childNodes.length)}function E(t){return!!t.startContainer&&!!t.endContainer&&!C(t.startContainer)&&!C(t.endContainer)&&x(t.startContainer,t.startOffset)&&x(t.endContainer,t.endOffset)}function T(t){if(!E(t))throw new Error("Range error: Range is no longer valid after DOM mutation ("+t.inspect()+")")}function S(t,e){T(t);var n=t.startContainer,o=t.startOffset,r=t.endContainer,i=t.endOffset,s=n===r;j(r)&&i>0&&i<r.length&&W(r,i,e),j(n)&&o>0&&o<n.length&&(n=W(n,o,e),s?(i-=o,r=n):r==n.parentNode&&i>=H(n)&&i++,o=0),t.setStartAndEnd(n,o,r,i)}function N(t){T(t);var e=t.commonAncestorContainer.parentNode.cloneNode(!1);return e.appendChild(t.cloneContents()),e.innerHTML}function _(t){t.START_TO_START=at,t.START_TO_END=lt,t.END_TO_END=ct,t.END_TO_START=ut,t.NODE_BEFORE=dt,t.NODE_AFTER=ft,t.NODE_BEFORE_AND_AFTER=ht,t.NODE_INSIDE=pt}function R(t){_(t),_(t.prototype)}function k(t,e){return function(){T(this);var n,o,i=this.startContainer,s=this.startOffset,a=this.commonAncestorContainer,c=new h(this,!0);i!==a&&(n=z(i,a,!0),o=r(n),i=o.node,s=o.offset),l(c,b),c.reset();var u=t(c);return c.detach(),e(this,i,s,i,s),u}}function A(n,i){function s(t,e){return function(n){g(n,X),g(G(n),Y);var i=(t?o:r)(n);(e?a:l)(this,i.node,i.offset)}}function a(t,e,n){var o=t.endContainer,r=t.endOffset;e===t.startContainer&&n===t.startOffset||(G(e)==G(o)&&1!=$(e,n,o,r)||(o=e,r=n),i(t,e,n,o,r))}function l(t,e,n){var o=t.startContainer,r=t.startOffset;e===t.endContainer&&n===t.endOffset||(G(e)==G(o)&&$(e,n,o,r)!=-1||(o=e,r=n),i(t,o,r,e,n))}var d=function(){};d.prototype=t.rangePrototype,n.prototype=new d,P.extend(n.prototype,{setStart:function(t,e){m(t,!0),y(t,e),a(this,t,e)},setEnd:function(t,e){m(t,!0),y(t,e),l(this,t,e)},setStartAndEnd:function(){var t=arguments,e=t[0],n=t[1],o=e,r=n;switch(t.length){case 3:r=t[2];break;case 4:o=t[2],r=t[3]}i(this,e,n,o,r)},setBoundary:function(t,e,n){this["set"+(n?"Start":"End")](t,e)},setStartBefore:s(!0,!0),setStartAfter:s(!1,!0),setEndBefore:s(!0,!1),setEndAfter:s(!1,!1),collapse:function(t){T(this),t?i(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):i(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(t){m(t,!0),i(this,t,0,t,V(t))},selectNode:function(t){m(t,!1),g(t,X);var e=o(t),n=r(t);i(this,e.node,e.offset,n.node,n.offset)},extractContents:k(u,i),deleteContents:k(c,i),canSurroundContents:function(){T(this),b(this.startContainer),b(this.endContainer);var t=new h(this,!0),n=t._first&&e(t._first,this)||t._last&&e(t._last,this);return t.detach(),!n},splitBoundaries:function(){S(this)},splitBoundariesPreservingPositions:function(t){S(this,t)},normalizeBoundaries:function(){T(this);var t=this.startContainer,e=this.startOffset,n=this.endContainer,o=this.endOffset,r=function(t){var e=t.nextSibling;e&&e.nodeType==t.nodeType&&(n=t,o=t.length,t.appendData(e.data),e.parentNode.removeChild(e))},s=function(r){var i=r.previousSibling;if(i&&i.nodeType==r.nodeType){t=r;var s=r.length;if(e=i.length,r.insertData(0,i.data),i.parentNode.removeChild(i),t==n)o+=e,n=t;else if(n==r.parentNode){var a=H(r);o==a?(n=r,o=s):o>a&&o--}}},a=!0;if(j(n))n.length==o&&r(n);else{if(o>0){var l=n.childNodes[o-1];l&&j(l)&&r(l)}a=!this.collapsed}if(a){if(j(t))0==e&&s(t);else if(e<t.childNodes.length){var c=t.childNodes[e];c&&j(c)&&s(c)}}else t=n,e=o;i(this,t,e,n,o)},collapseToPoint:function(t,e){m(t,!0),y(t,e),this.setStartAndEnd(t,e)}}),R(n)}function L(t){t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset,t.commonAncestorContainer=t.collapsed?t.startContainer:D.getCommonAncestor(t.startContainer,t.endContainer)}function O(t,e,n,o,r){t.startContainer=e,t.startOffset=n,t.endContainer=o,t.endOffset=r,t.document=D.getDocument(e),L(t)}function I(t){this.startContainer=t,this.startOffset=0,this.endContainer=t,this.endOffset=0,this.document=t,L(this)}var D=t.dom,P=t.util,M=D.DomPosition,B=t.DOMException,j=D.isCharacterDataNode,H=D.getNodeIndex,q=D.isOrIsAncestorOf,F=D.getDocument,$=D.comparePoints,W=D.splitDataNode,z=D.getClosestAncestorIn,V=D.getNodeLength,U=D.arrayContains,G=D.getRootContainer,K=t.features.crashyTextNodes;h.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var t=this._current=this._next;return t&&(this._next=t!==this._last?t.nextSibling:null,j(t)&&this.clonePartiallySelectedTextNodes&&(t===this.ec&&(t=t.cloneNode(!0)).deleteData(this.eo,t.length-this.eo),this._current===this.sc&&(t=t.cloneNode(!0)).deleteData(0,this.so))),t},remove:function(){var t,e,n=this._current;!j(n)||n!==this.sc&&n!==this.ec?n.parentNode&&n.parentNode.removeChild(n):(t=n===this.sc?this.so:0,e=n===this.ec?this.eo:n.length,t!=e&&n.deleteData(t,e-t))},isPartiallySelectedSubtree:function(){var t=this._current;return e(t,this.range)},getSubtreeIterator:function(){var t;if(this.isSingleCharacterDataNode)t=this.range.cloneRange(),t.collapse(!1);else{t=new I(n(this.range));var e=this._current,o=e,r=0,i=e,s=V(e);q(e,this.sc)&&(o=this.sc,r=this.so),q(e,this.ec)&&(i=this.ec,s=this.eo),O(t,o,r,i,s)}return new h(t,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var X=[1,3,4,5,7,8,10],Y=[2,9,11],Q=[5,6,10,12],Z=[1,3,4,5,7,8,10,11],J=[1,3,4,5,7,8],tt=p([9,11]),et=p(Q),nt=p([6,10,12]),ot=document.createElement("style"),rt=!1;try{ot.innerHTML="<b>x</b>",rt=3==ot.firstChild.nodeType}catch(t){}t.features.htmlParsingConforms=rt;
var it=rt?function(t){var e=this.startContainer,n=F(e);if(!e)throw new B("INVALID_STATE_ERR");var o=null;return 1==e.nodeType?o=e:j(e)&&(o=D.parentElement(e)),o=null===o||"HTML"==o.nodeName&&D.isHtmlNamespace(F(o).documentElement)&&D.isHtmlNamespace(o)?n.createElement("body"):o.cloneNode(!1),o.innerHTML=t,D.fragmentFromNodeChildren(o)}:function(t){var e=n(this),o=e.createElement("body");return o.innerHTML=t,D.fragmentFromNodeChildren(o)},st=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],at=0,lt=1,ct=2,ut=3,dt=0,ft=1,ht=2,pt=3;P.extend(t.rangePrototype,{compareBoundaryPoints:function(t,e){T(this),v(this.startContainer,e.startContainer);var n,o,r,i,s=t==ut||t==at?"start":"end",a=t==lt||t==at?"start":"end";return n=this[s+"Container"],o=this[s+"Offset"],r=e[a+"Container"],i=e[a+"Offset"],$(n,o,r,i)},insertNode:function(t){if(T(this),g(t,Z),b(this.startContainer),q(t,this.startContainer))throw new B("HIERARCHY_REQUEST_ERR");var e=i(t,this.startContainer,this.startOffset);this.setStartBefore(e)},cloneContents:function(){T(this);var t,e;if(this.collapsed)return n(this).createDocumentFragment();if(this.startContainer===this.endContainer&&j(this.startContainer))return t=this.startContainer.cloneNode(!0),t.data=t.data.slice(this.startOffset,this.endOffset),e=n(this).createDocumentFragment(),e.appendChild(t),e;var o=new h(this,!0);return t=a(o),o.detach(),t},canSurroundContents:function(){T(this),b(this.startContainer),b(this.endContainer);var t=new h(this,!0),n=t._first&&e(t._first,this)||t._last&&e(t._last,this);return t.detach(),!n},surroundContents:function(t){if(g(t,J),!this.canSurroundContents())throw new B("INVALID_STATE_ERR");var e=this.extractContents();if(t.hasChildNodes())for(;t.lastChild;)t.removeChild(t.lastChild);i(t,this.startContainer,this.startOffset),t.appendChild(e),this.selectNode(t)},cloneRange:function(){T(this);for(var t,e=new I(n(this)),o=st.length;o--;)t=st[o],e[t]=this[t];return e},toString:function(){T(this);var t=this.startContainer;if(t===this.endContainer&&j(t))return 3==t.nodeType||4==t.nodeType?t.data.slice(this.startOffset,this.endOffset):"";var e=[],n=new h(this,!0);return l(n,function(t){3!=t.nodeType&&4!=t.nodeType||e.push(t.data)}),n.detach(),e.join("")},compareNode:function(t){T(this);var e=t.parentNode,n=H(t);if(!e)throw new B("NOT_FOUND_ERR");var o=this.comparePoint(e,n),r=this.comparePoint(e,n+1);return o<0?r>0?ht:dt:r>0?ft:pt},comparePoint:function(t,e){return T(this),w(t,"HIERARCHY_REQUEST_ERR"),v(t,this.startContainer),$(t,e,this.startContainer,this.startOffset)<0?-1:$(t,e,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:it,toHtml:function(){return N(this)},intersectsNode:function(t,e){if(T(this),w(t,"NOT_FOUND_ERR"),F(t)!==n(this))return!1;var o=t.parentNode,r=H(t);w(o,"NOT_FOUND_ERR");var i=$(o,r,this.endContainer,this.endOffset),s=$(o,r+1,this.startContainer,this.startOffset);return e?i<=0&&s>=0:i<0&&s>0},isPointInRange:function(t,e){return T(this),w(t,"HIERARCHY_REQUEST_ERR"),v(t,this.startContainer),$(t,e,this.startContainer,this.startOffset)>=0&&$(t,e,this.endContainer,this.endOffset)<=0},intersectsRange:function(t){return s(this,t,!1)},intersectsOrTouchesRange:function(t){return s(this,t,!0)},intersection:function(t){if(this.intersectsRange(t)){var e=$(this.startContainer,this.startOffset,t.startContainer,t.startOffset),n=$(this.endContainer,this.endOffset,t.endContainer,t.endOffset),o=this.cloneRange();return e==-1&&o.setStart(t.startContainer,t.startOffset),1==n&&o.setEnd(t.endContainer,t.endOffset),o}return null},union:function(t){if(this.intersectsOrTouchesRange(t)){var e=this.cloneRange();return $(t.startContainer,t.startOffset,this.startContainer,this.startOffset)==-1&&e.setStart(t.startContainer,t.startOffset),1==$(t.endContainer,t.endOffset,this.endContainer,this.endOffset)&&e.setEnd(t.endContainer,t.endOffset),e}throw new B("Ranges do not intersect")},containsNode:function(t,e){return e?this.intersectsNode(t,!1):this.compareNode(t)==pt},containsNodeContents:function(t){return this.comparePoint(t,0)>=0&&this.comparePoint(t,V(t))<=0},containsRange:function(t){var e=this.intersection(t);return null!==e&&t.equals(e)},containsNodeText:function(t){var e=this.cloneRange();e.selectNode(t);var n=e.getNodes([3]);if(n.length>0){e.setStart(n[0],0);var o=n.pop();return e.setEnd(o,o.length),this.containsRange(e)}return this.containsNodeContents(t)},getNodes:function(t,e){return T(this),d(this,t,e)},getDocument:function(){return n(this)},collapseBefore:function(t){this.setEndBefore(t),this.collapse(!1)},collapseAfter:function(t){this.setStartAfter(t),this.collapse(!0)},getBookmark:function(e){var o=n(this),r=t.createRange(o);e=e||D.getBody(o),r.selectNodeContents(e);var i=this.intersection(r),s=0,a=0;return i&&(r.setEnd(i.startContainer,i.startOffset),s=r.toString().length,a=s+i.toString().length),{start:s,end:a,containerNode:e}},moveToBookmark:function(t){var e=t.containerNode,n=0;this.setStart(e,0),this.collapse(!0);for(var o,r,i,s,a=[e],l=!1,c=!1;!c&&(o=a.pop());)if(3==o.nodeType)r=n+o.length,!l&&t.start>=n&&t.start<=r&&(this.setStart(o,t.start-n),l=!0),l&&t.end>=n&&t.end<=r&&(this.setEnd(o,t.end-n),c=!0),n=r;else for(s=o.childNodes,i=s.length;i--;)a.push(s[i])},getName:function(){return"DomRange"},equals:function(t){return I.rangesEqual(this,t)},isValid:function(){return E(this)},inspect:function(){return f(this)},detach:function(){}}),A(I,O),P.extend(I,{rangeProperties:st,RangeIterator:h,copyComparisonConstants:R,createPrototypeRange:A,inspect:f,toHtml:N,getRangeDocument:n,rangesEqual:function(t,e){return t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset}}),t.DomRange=I}),R.createCoreModule("WrappedRange",["DomRange"],function(t,e){var n,o,r=t.dom,i=t.util,s=r.DomPosition,a=t.DomRange,l=r.getBody,c=r.getContentDocument,u=r.isCharacterDataNode;if(t.features.implementsDomRange&&!function(){function o(t){for(var e,n=f.length;n--;)e=f[n],t[e]=t.nativeRange[e];t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset}function s(t,e,n,o,r){var i=t.startContainer!==e||t.startOffset!=n,s=t.endContainer!==o||t.endOffset!=r,a=!t.equals(t.nativeRange);(i||s||a)&&(t.setEnd(o,r),t.setStart(e,n))}var u,d,f=a.rangeProperties;n=function(t){if(!t)throw e.createError("WrappedRange: Range must be specified");this.nativeRange=t,o(this)},a.createPrototypeRange(n,s),u=n.prototype,u.selectNode=function(t){this.nativeRange.selectNode(t),o(this)},u.cloneContents=function(){return this.nativeRange.cloneContents()},u.surroundContents=function(t){this.nativeRange.surroundContents(t),o(this)},u.collapse=function(t){this.nativeRange.collapse(t),o(this)},u.cloneRange=function(){return new n(this.nativeRange.cloneRange())},u.refresh=function(){o(this)},u.toString=function(){return this.nativeRange.toString()};var h=document.createTextNode("test");l(document).appendChild(h);var p=document.createRange();p.setStart(h,0),p.setEnd(h,0);try{p.setStart(h,1),u.setStart=function(t,e){this.nativeRange.setStart(t,e),o(this)},u.setEnd=function(t,e){this.nativeRange.setEnd(t,e),o(this)},d=function(t){return function(e){this.nativeRange[t](e),o(this)}}}catch(t){u.setStart=function(t,e){try{this.nativeRange.setStart(t,e)}catch(n){this.nativeRange.setEnd(t,e),this.nativeRange.setStart(t,e)}o(this)},u.setEnd=function(t,e){try{this.nativeRange.setEnd(t,e)}catch(n){this.nativeRange.setStart(t,e),this.nativeRange.setEnd(t,e)}o(this)},d=function(t,e){return function(n){try{this.nativeRange[t](n)}catch(o){this.nativeRange[e](n),this.nativeRange[t](n)}o(this)}}}u.setStartBefore=d("setStartBefore","setEndBefore"),u.setStartAfter=d("setStartAfter","setEndAfter"),u.setEndBefore=d("setEndBefore","setStartBefore"),u.setEndAfter=d("setEndAfter","setStartAfter"),u.selectNodeContents=function(t){this.setStartAndEnd(t,0,r.getNodeLength(t))},p.selectNodeContents(h),p.setEnd(h,3);var m=document.createRange();m.selectNodeContents(h),m.setEnd(h,4),m.setStart(h,2),p.compareBoundaryPoints(p.START_TO_END,m)==-1&&1==p.compareBoundaryPoints(p.END_TO_START,m)?u.compareBoundaryPoints=function(t,e){return e=e.nativeRange||e,t==e.START_TO_END?t=e.END_TO_START:t==e.END_TO_START&&(t=e.START_TO_END),this.nativeRange.compareBoundaryPoints(t,e)}:u.compareBoundaryPoints=function(t,e){return this.nativeRange.compareBoundaryPoints(t,e.nativeRange||e)};var g=document.createElement("div");g.innerHTML="123";var y=g.firstChild,v=l(document);v.appendChild(g),p.setStart(y,1),p.setEnd(y,2),p.deleteContents(),"13"==y.data&&(u.deleteContents=function(){this.nativeRange.deleteContents(),o(this)},u.extractContents=function(){var t=this.nativeRange.extractContents();return o(this),t}),v.removeChild(g),v=null,i.isHostMethod(p,"createContextualFragment")&&(u.createContextualFragment=function(t){return this.nativeRange.createContextualFragment(t)}),l(document).removeChild(h),u.getName=function(){return"WrappedRange"},t.WrappedRange=n,t.createNativeRange=function(t){return t=c(t,e,"createNativeRange"),t.createRange()}}(),t.features.implementsTextRange){var d=function(t){var e=t.parentElement(),n=t.duplicate();n.collapse(!0);var o=n.parentElement();n=t.duplicate(),n.collapse(!1);var i=n.parentElement(),s=o==i?o:r.getCommonAncestor(o,i);return s==e?s:r.getCommonAncestor(e,s)},f=function(t){return 0==t.compareEndPoints("StartToEnd",t)},h=function(t,e,n,o,i){var a=t.duplicate();a.collapse(n);var l=a.parentElement();if(r.isOrIsAncestorOf(e,l)||(l=e),!l.canHaveHTML){var c=new s(l.parentNode,r.getNodeIndex(l));return{boundaryPosition:c,nodeInfo:{nodeIndex:c.offset,containerElement:c.node}}}var d=r.getDocument(l).createElement("span");d.parentNode&&d.parentNode.removeChild(d);for(var f,h,p,m,g,y=n?"StartToStart":"StartToEnd",v=i&&i.containerElement==l?i.nodeIndex:0,b=l.childNodes.length,w=b,C=w;;){if(C==b?l.appendChild(d):l.insertBefore(d,l.childNodes[C]),a.moveToElementText(d),f=a.compareEndPoints(y,t),0==f||v==w)break;if(f==-1){if(w==v+1)break;v=C}else w=w==v+1?v:C;C=Math.floor((v+w)/2),l.removeChild(d)}if(g=d.nextSibling,f==-1&&g&&u(g)){a.setEndPoint(n?"EndToStart":"EndToEnd",t);var x;if(/[\r\n]/.test(g.data)){var E=a.duplicate(),T=E.text.replace(/\r\n/g,"\r").length;for(x=E.moveStart("character",T);(f=E.compareEndPoints("StartToEnd",E))==-1;)x++,E.moveStart("character",1)}else x=a.text.length;m=new s(g,x)}else h=(o||!n)&&d.previousSibling,p=(o||n)&&d.nextSibling,m=p&&u(p)?new s(p,0):h&&u(h)?new s(h,h.data.length):new s(l,r.getNodeIndex(d));return d.parentNode.removeChild(d),{boundaryPosition:m,nodeInfo:{nodeIndex:C,containerElement:l}}},p=function(t,e){var n,o,i,s,a=t.offset,c=r.getDocument(t.node),d=l(c).createTextRange(),f=u(t.node);return f?(n=t.node,o=n.parentNode):(s=t.node.childNodes,n=a<s.length?s[a]:null,o=t.node),i=c.createElement("span"),i.innerHTML="&#feff;",n?o.insertBefore(i,n):o.appendChild(i),d.moveToElementText(i),d.collapse(!e),o.removeChild(i),f&&d[e?"moveStart":"moveEnd"]("character",a),d};o=function(t){this.textRange=t,this.refresh()},o.prototype=new a(document),o.prototype.refresh=function(){var t,e,n,o=d(this.textRange);f(this.textRange)?e=t=h(this.textRange,o,!0,!0).boundaryPosition:(n=h(this.textRange,o,!0,!1),t=n.boundaryPosition,e=h(this.textRange,o,!1,!1,n.nodeInfo).boundaryPosition),this.setStart(t.node,t.offset),this.setEnd(e.node,e.offset)},o.prototype.getName=function(){return"WrappedTextRange"},a.copyComparisonConstants(o);var m=function(t){if(t.collapsed)return p(new s(t.startContainer,t.startOffset),!0);var e=p(new s(t.startContainer,t.startOffset),!0),n=p(new s(t.endContainer,t.endOffset),!1),o=l(a.getRangeDocument(t)).createTextRange();return o.setEndPoint("StartToStart",e),o.setEndPoint("EndToEnd",n),o};if(o.rangeToTextRange=m,o.prototype.toTextRange=function(){return m(this)},t.WrappedTextRange=o,!t.features.implementsDomRange||t.config.preferTextRange){var g=function(){return this}();"undefined"==typeof g.Range&&(g.Range=o),t.createNativeRange=function(t){return t=c(t,e,"createNativeRange"),l(t).createTextRange()},t.WrappedRange=o}}t.createRange=function(n){return n=c(n,e,"createRange"),new t.WrappedRange(t.createNativeRange(n))},t.createRangyRange=function(t){return t=c(t,e,"createRangyRange"),new a(t)},t.createIframeRange=function(n){return e.deprecationNotice("createIframeRange()","createRange(iframeEl)"),t.createRange(n)},t.createIframeRangyRange=function(n){return e.deprecationNotice("createIframeRangyRange()","createRangyRange(iframeEl)"),t.createRangyRange(n)},t.addShimListener(function(e){var n=e.document;"undefined"==typeof n.createRange&&(n.createRange=function(){return t.createRange(n)}),n=e=null})}),R.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(t,e){function n(t){return"string"==typeof t?/^backward(s)?$/i.test(t):!!t}function o(t,n){if(t){if(R.isWindow(t))return t;if(t instanceof y)return t.win;var o=R.getContentDocument(t,e,n);return R.getWindow(o)}return window}function r(t){return o(t,"getWinSelection").getSelection()}function i(t){return o(t,"getDocSelection").document.selection}function s(t){var e=!1;return t.anchorNode&&(e=1==R.comparePoints(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)),e}function a(t,e,n){var o=n?"end":"start",r=n?"start":"end";t.anchorNode=e[o+"Container"],t.anchorOffset=e[o+"Offset"],t.focusNode=e[r+"Container"],t.focusOffset=e[r+"Offset"]}function l(t){var e=t.nativeSelection;t.anchorNode=e.anchorNode,t.anchorOffset=e.anchorOffset,t.focusNode=e.focusNode,t.focusOffset=e.focusOffset}function c(t){t.anchorNode=t.focusNode=null,t.anchorOffset=t.focusOffset=0,t.rangeCount=0,t.isCollapsed=!0,t._ranges.length=0}function u(e){var n;return e instanceof L?(n=t.createNativeRange(e.getDocument()),n.setEnd(e.endContainer,e.endOffset),n.setStart(e.startContainer,e.startOffset)):e instanceof O?n=e.nativeRange:P.implementsDomRange&&e instanceof R.getWindow(e.startContainer).Range&&(n=e),n}function d(t){if(!t.length||1!=t[0].nodeType)return!1;for(var e=1,n=t.length;e<n;++e)if(!R.isAncestorOf(t[0],t[e]))return!1;return!0}function f(t){var n=t.getNodes();if(!d(n))throw e.createError("getSingleElementFromRange: range "+t.inspect()+" did not consist of a single element");return n[0]}function h(t){return!!t&&"undefined"!=typeof t.text}function p(t,e){var n=new O(e);t._ranges=[n],a(t,n,!1),t.rangeCount=1,t.isCollapsed=n.collapsed}function m(e){if(e._ranges.length=0,"None"==e.docSelection.type)c(e);else{var n=e.docSelection.createRange();if(h(n))p(e,n);else{e.rangeCount=n.length;for(var o,r=B(n.item(0)),i=0;i<e.rangeCount;++i)o=t.createRange(r),o.selectNode(n.item(i)),e._ranges.push(o);e.isCollapsed=1==e.rangeCount&&e._ranges[0].collapsed,a(e,e._ranges[e.rangeCount-1],!1)}}}function g(t,n){for(var o=t.docSelection.createRange(),r=f(n),i=B(o.item(0)),s=j(i).createControlRange(),a=0,l=o.length;a<l;++a)s.add(o.item(a));try{s.add(r)}catch(t){throw e.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}s.select(),m(t)}function y(t,e,n){this.nativeSelection=t,this.docSelection=e,this._ranges=[],this.win=n,this.refresh()}function v(t){t.win=t.anchorNode=t.focusNode=t._ranges=null,t.rangeCount=t.anchorOffset=t.focusOffset=0,t.detached=!0}function b(t,e){for(var n,o,r=et.length;r--;)if(n=et[r],o=n.selection,"deleteAll"==e)v(o);else if(n.win==t)return"delete"==e?(et.splice(r,1),!0):o;return"deleteAll"==e&&(et.length=0),null}function w(t,n){for(var o,r=B(n[0].startContainer),i=j(r).createControlRange(),s=0,a=n.length;s<a;++s){o=f(n[s]);try{i.add(o)}catch(t){throw e.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}i.select(),m(t)}function C(t,e){if(t.win.document!=B(e))throw new I("WRONG_DOCUMENT_ERR")}function x(e){return function(n,o){var r;this.rangeCount?(r=this.getRangeAt(0),r["set"+(e?"Start":"End")](n,o)):(r=t.createRange(this.win.document),r.setStartAndEnd(n,o)),this.setSingleRange(r,this.isBackward())}}function E(t){var e=[],n=new D(t.anchorNode,t.anchorOffset),o=new D(t.focusNode,t.focusOffset),r="function"==typeof t.getName?t.getName():"Selection";if("undefined"!=typeof t.rangeCount)for(var i=0,s=t.rangeCount;i<s;++i)e[i]=L.inspect(t.getRangeAt(i));return"["+r+"(Ranges: "+e.join(", ")+")(anchor: "+n.inspect()+", focus: "+o.inspect()+"]"}t.config.checkSelectionRanges=!0;var T,S,N="boolean",_="number",R=t.dom,k=t.util,A=k.isHostMethod,L=t.DomRange,O=t.WrappedRange,I=t.DOMException,D=R.DomPosition,P=t.features,M="Control",B=R.getDocument,j=R.getBody,H=L.rangesEqual,q=A(window,"getSelection"),F=k.isHostObject(document,"selection");P.implementsWinGetSelection=q,P.implementsDocSelection=F;var $=F&&(!q||t.config.preferTextRange);$?(T=i,t.isSelectionValid=function(t){var e=o(t,"isSelectionValid").document,n=e.selection;return"None"!=n.type||B(n.createRange().parentElement())==e}):q?(T=r,t.isSelectionValid=function(){return!0}):e.fail("Neither document.selection or window.getSelection() detected."),t.getNativeSelection=T;var W=T(),z=t.createNativeRange(document),V=j(document),U=k.areHostProperties(W,["anchorNode","focusNode","anchorOffset","focusOffset"]);P.selectionHasAnchorAndFocus=U;var G=A(W,"extend");P.selectionHasExtend=G;var K=typeof W.rangeCount==_;P.selectionHasRangeCount=K;var X=!1,Y=!0,Q=G?function(e,n){var o=L.getRangeDocument(n),r=t.createRange(o);r.collapseToPoint(n.endContainer,n.endOffset),e.addRange(u(r)),e.extend(n.startContainer,n.startOffset)}:null;k.areHostMethods(W,["addRange","getRangeAt","removeAllRanges"])&&typeof W.rangeCount==_&&P.implementsDomRange&&!function(){var e=window.getSelection();if(e){for(var n=e.rangeCount,o=n>1,r=[],i=s(e),a=0;a<n;++a)r[a]=e.getRangeAt(a);var l=j(document),c=l.appendChild(document.createElement("div"));c.contentEditable="false";var u=c.appendChild(document.createTextNode("\xa0\xa0\xa0")),d=document.createRange();if(d.setStart(u,1),d.collapse(!0),e.addRange(d),Y=1==e.rangeCount,e.removeAllRanges(),!o){var f=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(f&&parseInt(f[1])>=36)X=!1;else{var h=d.cloneRange();d.setStart(u,0),h.setEnd(u,3),h.setStart(u,2),e.addRange(d),e.addRange(h),X=2==e.rangeCount}}for(l.removeChild(c),e.removeAllRanges(),a=0;a<n;++a)0==a&&i?Q?Q(e,r[a]):(t.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),e.addRange(r[a])):e.addRange(r[a])}}(),P.selectionSupportsMultipleRanges=X,P.collapsedNonEditableSelectionsSupported=Y;var Z,J=!1;V&&A(V,"createControlRange")&&(Z=V.createControlRange(),k.areHostProperties(Z,["item","add"])&&(J=!0)),P.implementsControlRange=J,S=U?function(t){return t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset}:function(t){return!!t.rangeCount&&t.getRangeAt(t.rangeCount-1).collapsed};var tt;A(W,"getRangeAt")?tt=function(t,e){try{return t.getRangeAt(e)}catch(t){return null}}:U&&(tt=function(e){var n=B(e.anchorNode),o=t.createRange(n);return o.setStartAndEnd(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),o.collapsed!==this.isCollapsed&&o.setStartAndEnd(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset),o}),y.prototype=t.selectionPrototype;var et=[],nt=function(t){if(t&&t instanceof y)return t.refresh(),t;t=o(t,"getNativeSelection");var e=b(t),n=T(t),r=F?i(t):null;return e?(e.nativeSelection=n,e.docSelection=r,e.refresh()):(e=new y(n,r,t),et.push({win:t,selection:e})),e};t.getSelection=nt,t.getIframeSelection=function(n){return e.deprecationNotice("getIframeSelection()","getSelection(iframeEl)"),t.getSelection(R.getIframeWindow(n))};var ot=y.prototype;if(!$&&U&&k.areHostMethods(W,["removeAllRanges","addRange"])){ot.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),c(this)};var rt=function(t,e){Q(t.nativeSelection,e),t.refresh()};K?ot.addRange=function(e,o){if(J&&F&&this.docSelection.type==M)g(this,e);else if(n(o)&&G)rt(this,e);else{var r;if(X?r=this.rangeCount:(this.removeAllRanges(),r=0),this.nativeSelection.addRange(u(e).cloneRange()),this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==r+1){if(t.config.checkSelectionRanges){var i=tt(this.nativeSelection,this.rangeCount-1);i&&!H(i,e)&&(e=new O(i))}this._ranges[this.rangeCount-1]=e,a(this,e,at(this.nativeSelection)),this.isCollapsed=S(this)}else this.refresh()}}:ot.addRange=function(t,e){n(e)&&G?rt(this,t):(this.nativeSelection.addRange(u(t)),this.refresh())},ot.setRanges=function(t){if(J&&F&&t.length>1)w(this,t);else{this.removeAllRanges();for(var e=0,n=t.length;e<n;++e)this.addRange(t[e])}}}else{if(!(A(W,"empty")&&A(z,"select")&&J&&$))return e.fail("No means of selecting a Range or TextRange was found"),!1;ot.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var t;if(this.anchorNode)t=B(this.anchorNode);else if(this.docSelection.type==M){var e=this.docSelection.createRange();e.length&&(t=B(e.item(0)))}if(t){var n=j(t).createTextRange();n.select(),this.docSelection.empty()}}}catch(t){}c(this)},ot.addRange=function(e){this.docSelection.type==M?g(this,e):(t.WrappedTextRange.rangeToTextRange(e).select(),this._ranges[0]=e,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,a(this,e,!1))},ot.setRanges=function(t){this.removeAllRanges();var e=t.length;e>1?w(this,t):e&&this.addRange(t[0])}}ot.getRangeAt=function(t){if(t<0||t>=this.rangeCount)throw new I("INDEX_SIZE_ERR");return this._ranges[t].cloneRange()};var it;if($)it=function(e){var n;t.isSelectionValid(e.win)?n=e.docSelection.createRange():(n=j(e.win.document).createTextRange(),n.collapse(!0)),e.docSelection.type==M?m(e):h(n)?p(e,n):c(e)};else if(A(W,"getRangeAt")&&typeof W.rangeCount==_)it=function(e){if(J&&F&&e.docSelection.type==M)m(e);else if(e._ranges.length=e.rangeCount=e.nativeSelection.rangeCount,e.rangeCount){for(var n=0,o=e.rangeCount;n<o;++n)e._ranges[n]=new t.WrappedRange(e.nativeSelection.getRangeAt(n));a(e,e._ranges[e.rangeCount-1],at(e.nativeSelection)),e.isCollapsed=S(e)}else c(e)};else{if(!U||typeof W.isCollapsed!=N||typeof z.collapsed!=N||!P.implementsDomRange)return e.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;it=function(t){var e,n=t.nativeSelection;n.anchorNode?(e=tt(n,0),t._ranges=[e],t.rangeCount=1,l(t),t.isCollapsed=S(t)):c(t)}}ot.refresh=function(t){var e=t?this._ranges.slice(0):null,n=this.anchorNode,o=this.anchorOffset;if(it(this),t){var r=e.length;if(r!=this._ranges.length)return!0;if(this.anchorNode!=n||this.anchorOffset!=o)return!0;for(;r--;)if(!H(e[r],this._ranges[r]))return!0;return!1}};var st=function(t,e){var n=t.getAllRanges();t.removeAllRanges();for(var o=0,r=n.length;o<r;++o)H(e,n[o])||t.addRange(n[o]);t.rangeCount||c(t)};J&&F?ot.removeRange=function(t){if(this.docSelection.type==M){for(var e,n=this.docSelection.createRange(),o=f(t),r=B(n.item(0)),i=j(r).createControlRange(),s=!1,a=0,l=n.length;a<l;++a)e=n.item(a),e!==o||s?i.add(n.item(a)):s=!0;i.select(),m(this)}else st(this,t)}:ot.removeRange=function(t){st(this,t)};var at;!$&&U&&P.implementsDomRange?(at=s,ot.isBackward=function(){return at(this)}):at=ot.isBackward=function(){return!1},ot.isBackwards=ot.isBackward,ot.toString=function(){for(var t=[],e=0,n=this.rangeCount;e<n;++e)t[e]=""+this._ranges[e];return t.join("")},ot.collapse=function(e,n){C(this,e);var o=t.createRange(e);o.collapseToPoint(e,n),this.setSingleRange(o),this.isCollapsed=!0},ot.collapseToStart=function(){if(!this.rangeCount)throw new I("INVALID_STATE_ERR");var t=this._ranges[0];this.collapse(t.startContainer,t.startOffset)},ot.collapseToEnd=function(){if(!this.rangeCount)throw new I("INVALID_STATE_ERR");var t=this._ranges[this.rangeCount-1];this.collapse(t.endContainer,t.endOffset)},ot.selectAllChildren=function(e){C(this,e);var n=t.createRange(e);n.selectNodeContents(e),this.setSingleRange(n)},ot.deleteFromDocument=function(){if(J&&F&&this.docSelection.type==M){for(var t,e=this.docSelection.createRange();e.length;)t=e.item(0),e.remove(t),t.parentNode.removeChild(t);this.refresh()}else if(this.rangeCount){var n=this.getAllRanges();if(n.length){this.removeAllRanges();for(var o=0,r=n.length;o<r;++o)n[o].deleteContents();this.addRange(n[r-1])}}},ot.eachRange=function(t,e){for(var n=0,o=this._ranges.length;n<o;++n)if(t(this.getRangeAt(n)))return e},ot.getAllRanges=function(){var t=[];return this.eachRange(function(e){t.push(e)}),t},ot.setSingleRange=function(t,e){this.removeAllRanges(),this.addRange(t,e)},ot.callMethodOnEachRange=function(t,e){var n=[];return this.eachRange(function(o){n.push(o[t].apply(o,e))}),n},ot.setStart=x(!0),ot.setEnd=x(!1),t.rangePrototype.select=function(t){nt(this.getDocument()).setSingleRange(this,t)},ot.changeEachRange=function(t){var e=[],n=this.isBackward();this.eachRange(function(n){t(n),e.push(n)}),this.removeAllRanges(),n&&1==e.length?this.addRange(e[0],"backward"):this.setRanges(e)},ot.containsNode=function(t,e){return this.eachRange(function(n){return n.containsNode(t,e)},!0)||!1},ot.getBookmark=function(t){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[t])}},ot.moveToBookmark=function(e){for(var n,o,r=[],i=0;n=e.rangeBookmarks[i++];)o=t.createRange(this.win),o.moveToBookmark(n),r.push(o);e.backward?this.setSingleRange(r[0],"backward"):this.setRanges(r)},ot.toHtml=function(){var t=[];return this.eachRange(function(e){t.push(L.toHtml(e))}),t.join("")},P.implementsTextRange&&(ot.getNativeTextRange=function(){var n;if(n=this.docSelection){var o=n.createRange();if(h(o))return o;throw e.createError("getNativeTextRange: selection is a control selection")}if(this.rangeCount>0)return t.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw e.createError("getNativeTextRange: selection contains no range")}),ot.getName=function(){return"WrappedSelection"},ot.inspect=function(){return E(this)},ot.detach=function(){b(this.win,"delete"),v(this)},y.detachAll=function(){b(null,"deleteAll")},y.inspect=E,y.isDirectionBackward=n,t.Selection=y,t.selectionPrototype=ot,t.addShimListener(function(t){"undefined"==typeof t.getSelection&&(t.getSelection=function(){return nt(t)}),t=null})}),R)},this),function(t,e){"function"==typeof define&&define.amd?define(["rangy"],t):t(e.rangy)}(function(t){t.createModule("SaveRestore",["WrappedRange"],function(t,e){function n(t,e){return(e||document).getElementById(t)}function o(t,e){var n,o="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),r=p.getDocument(t.startContainer),i=t.cloneRange();return i.collapse(e),n=r.createElement("span"),n.id=o,n.style.lineHeight="0",n.style.display="none",n.className="rangySelectionBoundary",n.appendChild(r.createTextNode(m)),i.insertNode(n),n}function r(t,o,r,i){var s=n(r,t);s?(o[i?"setStartBefore":"setEndBefore"](s),s.parentNode.removeChild(s)):e.warn("Marker element has been removed. Cannot restore selection.")}function i(t,e){return e.compareBoundaryPoints(t.START_TO_START,t)}function s(e,n){var r,i,s=t.DomRange.getRangeDocument(e),a=e.toString();return e.collapsed?(i=o(e,!1),{document:s,markerId:i.id,collapsed:!0}):(i=o(e,!1),r=o(e,!0),{document:s,startMarkerId:r.id,endMarkerId:i.id,collapsed:!1,backward:n,toString:function(){return"original text: '"+a+"', new text: '"+e.toString()+"'"}})}function a(o,i){var s=o.document;"undefined"==typeof i&&(i=!0);var a=t.createRange(s);if(o.collapsed){var l=n(o.markerId,s);if(l){l.style.display="inline";var c=l.previousSibling;c&&3==c.nodeType?(l.parentNode.removeChild(l),a.collapseToPoint(c,c.length)):(a.collapseBefore(l),l.parentNode.removeChild(l))}else e.warn("Marker element has been removed. Cannot restore selection.")}else r(s,a,o.startMarkerId,!0),r(s,a,o.endMarkerId,!1);return i&&a.normalizeBoundaries(),a}function l(e,o){var r,a,l=[];e=e.slice(0),e.sort(i);for(var c=0,u=e.length;c<u;++c)l[c]=s(e[c],o);for(c=u-1;c>=0;--c)r=e[c],a=t.DomRange.getRangeDocument(r),r.collapsed?r.collapseAfter(n(l[c].markerId,a)):(r.setEndBefore(n(l[c].endMarkerId,a)),r.setStartAfter(n(l[c].startMarkerId,a)));return l}function c(n){if(!t.isSelectionValid(n))return e.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var o=t.getSelection(n),r=o.getAllRanges(),i=1==r.length&&o.isBackward(),s=l(r,i);return i?o.setSingleRange(r[0],"backward"):o.setRanges(r),{win:n,rangeInfos:s,restored:!1}}function u(t){for(var e=[],n=t.length,o=n-1;o>=0;o--)e[o]=a(t[o],!0);return e}function d(e,n){if(!e.restored){var o=e.rangeInfos,r=t.getSelection(e.win),i=u(o),s=o.length;1==s&&n&&t.features.selectionHasExtend&&o[0].backward?(r.removeAllRanges(),r.addRange(i[0],!0)):r.setRanges(i),e.restored=!0}}function f(t,e){var o=n(e,t);o&&o.parentNode.removeChild(o)}function h(t){for(var e,n=t.rangeInfos,o=0,r=n.length;o<r;++o)e=n[o],e.collapsed?f(t.doc,e.markerId):(f(t.doc,e.startMarkerId),f(t.doc,e.endMarkerId))}var p=t.dom,m="\ufeff";t.util.extend(t,{saveRange:s,restoreRange:a,saveRanges:l,restoreRanges:u,saveSelection:c,restoreSelection:d,removeMarkerElement:f,removeMarkers:h})})},this);var Base=function(){};Base.extend=function(t,e){var n=Base.prototype.extend;Base._prototyping=!0;var o=new this;n.call(o,t),o.base=function(){},delete Base._prototyping;var r=o.constructor,i=o.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==i)this._constructing=!0,r.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||n).call(arguments[0],o)};return i.ancestor=this,i.extend=this.extend,i.forEach=this.forEach,i.implement=this.implement,i.prototype=o,i.toString=this.toString,i.valueOf=function(t){return"object"==t?i:r.valueOf()},n.call(i,e),"function"==typeof i.init&&i.init(),i},Base.prototype={extend:function(t,e){if(arguments.length>1){var n=this[t];if(n&&"function"==typeof e&&(!n.valueOf||n.valueOf()!=e.valueOf())&&/\bbase\b/.test(e)){var o=e.valueOf();e=function(){var t=this.base||Base.prototype.base;this.base=n;var e=o.apply(this,arguments);return this.base=t,e},e.valueOf=function(t){return"object"==t?e:o},e.toString=Base.toString}this[t]=e}else if(t){var r=Base.prototype.extend;Base._prototyping||"function"==typeof this||(r=this.extend||r);for(var i={toSource:null},s=["constructor","toString","valueOf"],a=Base._prototyping?0:1;l=s[a++];)t[l]!=i[l]&&r.call(this,l,t[l]);for(var l in t)i[l]||r.call(this,l,t[l])}return this}},Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(t,e,n){for(var o in t)void 0===this.prototype[o]&&e.call(n,t[o],o,t)},implement:function(){for(var t=0;t<arguments.length;t++)"function"==typeof arguments[t]?arguments[t](this.prototype):this.prototype.extend(arguments[t]);return this},toString:function(){return String(this.valueOf())}}),wysihtml5.browser=function(){function t(t){return+(/ipad|iphone|ipod/.test(t)&&t.match(/ os (\d+).+? like mac os x/)||[void 0,0])[1]}function e(t){return+(t.match(/android (\d+)/)||[void 0,0])[1]}function n(t,e){var n,o=-1;return"Microsoft Internet Explorer"==navigator.appName?n=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"):"Netscape"==navigator.appName&&(n=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})")),n&&null!=n.exec(navigator.userAgent)&&(o=parseFloat(RegExp.$1)),o!==-1&&(!t||(e?"<"===e?t<o:">"===e?t>o:"<="===e?t<=o:">="===e?t>=o:void 0:t===o))}var o=navigator.userAgent,r=document.createElement("div"),i=o.indexOf("Gecko")!==-1&&o.indexOf("KHTML")===-1,s=o.indexOf("AppleWebKit/")!==-1,a=o.indexOf("Chrome/")!==-1,l=o.indexOf("Opera/")!==-1;return{USER_AGENT:o,supported:function(){var n=this.USER_AGENT.toLowerCase(),o="contentEditable"in r,i=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,s=document.querySelector&&document.querySelectorAll,a=this.isIos()&&t(n)<5||this.isAndroid()&&e(n)<4||n.indexOf("opera mobi")!==-1||n.indexOf("hpwos/")!==-1;return o&&i&&s&&!a},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){return/ipad|iphone|ipod/i.test(this.USER_AGENT)},isAndroid:function(){return this.USER_AGENT.indexOf("Android")!==-1},supportsSandboxedIframes:function(){return n()},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return n()},hasCurrentStyleProperty:function(){return"currentStyle"in r},hasHistoryIssue:function(){return i&&"Mac"===navigator.platform.substr(0,3)},insertsLineBreaksOnReturn:function(){return i},supportsPlaceholderAttributeOn:function(t){return"placeholder"in t},supportsEvent:function(t){return"on"+t in r||function(){return r.setAttribute("on"+t,"return;"),"function"==typeof r["on"+t]}()},supportsEventsInIframeCorrectly:function(){
return!l},supportsHTML5Tags:function(t){var e=t.createElement("div"),n="<article>foo</article>";return e.innerHTML=n,e.innerHTML.toLowerCase()===n},supportsCommand:function(){var t={formatBlock:n(10,"<="),insertUnorderedList:n(),insertOrderedList:n()},e={insertHTML:i};return function(n,o){var r=t[o];if(!r){try{return n.queryCommandSupported(o)}catch(t){}try{return n.queryCommandEnabled(o)}catch(t){return!!e[o]}}return!1}}(),doesAutoLinkingInContentEditable:function(){return n()},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},clearsContentEditableCorrectly:function(){return i||l||s},supportsGetAttributeCorrectly:function(){var t=document.createElement("td");return"1"!=t.getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return i||n()||l},autoScrollsToCaret:function(){return!s},autoClosesUnclosedTags:function(){var t,e,n=r.cloneNode(!1);return n.innerHTML="<p><div></div>",e=n.innerHTML.toLowerCase(),t="<p></p><div></div>"===e||"<p><div></div></p>"===e,this.autoClosesUnclosedTags=function(){return t},t},supportsNativeGetElementsByClassName:function(){return String(document.getElementsByClassName).indexOf("[native code]")!==-1},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},needsSpaceAfterLineBreak:function(){return l},supportsSpeechApiOn:function(t){var e=o.match(/Chrome\/(\d+)/)||[void 0,0];return e[1]>=11&&("onwebkitspeechchange"in t||"speech"in t)},crashesWhenDefineProperty:function(t){return n(9)&&("XMLHttpRequest"===t||"XDomainRequest"===t)},doesAsyncFocus:function(){return n()},hasProblemsSettingCaretAfterImg:function(){return n()},hasUndoInContextMenu:function(){return i||a||l},hasInsertNodeIssue:function(){return l},hasIframeFocusIssue:function(){return n()},createsNestedInvalidMarkupAfterPaste:function(){return s},supportsMutationEvents:function(){return"MutationEvent"in window}}}(),wysihtml5.lang.array=function(t){return{contains:function(e){if(Array.isArray(e)){for(var n=e.length;n--;)if(wysihtml5.lang.array(t).indexOf(e[n])!==-1)return!0;return!1}return wysihtml5.lang.array(t).indexOf(e)!==-1},indexOf:function(e){if(t.indexOf)return t.indexOf(e);for(var n=0,o=t.length;n<o;n++)if(t[n]===e)return n;return-1},without:function(e){e=wysihtml5.lang.array(e);for(var n=[],o=0,r=t.length;o<r;o++)e.contains(t[o])||n.push(t[o]);return n},get:function(){for(var e=0,n=t.length,o=[];e<n;e++)o.push(t[e]);return o},map:function(e,n){if(Array.prototype.map)return t.map(e,n);for(var o=t.length>>>0,r=new Array(o),i=0;i<o;i++)r[i]=e.call(n,t[i],i,t);return r},unique:function(){for(var e=[],n=t.length,o=0;o<n;)wysihtml5.lang.array(e).contains(t[o])||e.push(t[o]),o++;return e}}},wysihtml5.lang.Dispatcher=Base.extend({on:function(t,e){return this.events=this.events||{},this.events[t]=this.events[t]||[],this.events[t].push(e),this},off:function(t,e){this.events=this.events||{};var n,o,r=0;if(t){for(n=this.events[t]||[],o=[];r<n.length;r++)n[r]!==e&&e&&o.push(n[r]);this.events[t]=o}else this.events={};return this},fire:function(t,e){this.events=this.events||{};for(var n=this.events[t]||[],o=0;o<n.length;o++)n[o].call(this,e);return this},observe:function(){return this.on.apply(this,arguments)},stopObserving:function(){return this.off.apply(this,arguments)}}),wysihtml5.lang.object=function(t){return{merge:function(e){for(var n in e)t[n]=e[n];return this},get:function(){return t},clone:function(){var e,n={};for(e in t)n[e]=t[e];return n},isArray:function(){return"[object Array]"===Object.prototype.toString.call(t)}}},function(){var t=/^\s+/,e=/\s+$/,n=/[&<>"]/g,o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};wysihtml5.lang.string=function(r){return r=String(r),{trim:function(){return r.replace(t,"").replace(e,"")},interpolate:function(t){for(var e in t)r=this.replace("#{"+e+"}").by(t[e]);return r},replace:function(t){return{by:function(e){return r.split(t).join(e)}}},escapeHTML:function(){return r.replace(n,function(t){return o[t]})}}}}(),function(t){function e(t,e){return i(t,e)?t:(t===t.ownerDocument.documentElement&&(t=t.ownerDocument.body),s(t,e))}function n(t){return t.replace(l,function(t,e){var n=(e.match(c)||[])[1]||"",o=d[n];e=e.replace(c,""),e.split(o).length>e.split(n).length&&(e+=n,n="");var r=e,i=e;return e.length>u&&(i=i.substr(0,u)+"..."),"www."===r.substr(0,4)&&(r="http://"+r),'<a href="'+r+'">'+i+"</a>"+n})}function o(t){var e=t._wysihtml5_tempElement;return e||(e=t._wysihtml5_tempElement=t.createElement("div")),e}function r(e){var r=e.parentNode,i=t.lang.string(e.data).escapeHTML(),s=o(r.ownerDocument);for(s.innerHTML="<span></span>"+n(i),s.removeChild(s.firstChild);s.firstChild;)r.insertBefore(s.firstChild,e);r.removeChild(e)}function i(e,n){for(var o;e.parentNode;){if(e=e.parentNode,o=e.nodeName,e.className&&t.lang.array(e.className.split(" ")).contains(n))return!0;if(a.contains(o))return!0;if("body"===o)return!1}return!1}function s(e,n){if(!(a.contains(e.nodeName)||e.className&&t.lang.array(e.className.split(" ")).contains(n))){if(e.nodeType===t.TEXT_NODE&&e.data.match(l))return void r(e);for(var o=t.lang.array(e.childNodes).get(),i=o.length,c=0;c<i;c++)s(o[c],n);return e}}var a=t.lang.array(["CODE","PRE","A","SCRIPT","HEAD","TITLE","STYLE"]),l=/((https?:\/\/|www\.)[^\s<]{3,})/gi,c=/([^\w\/\-](,?))$/i,u=100,d={")":"(","]":"[","}":"{"};t.dom.autoLink=e,t.dom.autoLink.URL_REG_EXP=l}(wysihtml5),function(t){var e=t.dom;e.addClass=function(t,n){var o=t.classList;return o?o.add(n):void(e.hasClass(t,n)||(t.className+=" "+n))},e.removeClass=function(t,e){var n=t.classList;return n?n.remove(e):void(t.className=t.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," "))},e.hasClass=function(t,e){var n=t.classList;if(n)return n.contains(e);var o=t.className;return o.length>0&&(o==e||new RegExp("(^|\\s)"+e+"(\\s|$)").test(o))}}(wysihtml5),wysihtml5.dom.contains=function(){var t=document.documentElement;return t.contains?function(t,e){return e.nodeType!==wysihtml5.ELEMENT_NODE&&(e=e.parentNode),t!==e&&t.contains(e)}:t.compareDocumentPosition?function(t,e){return!!(16&t.compareDocumentPosition(e))}:void 0}(),wysihtml5.dom.convertToList=function(){function t(t,e){var n=t.createElement("li");return e.appendChild(n),n}function e(t,e){return t.createElement(e)}function n(n,o,r){if("UL"===n.nodeName||"OL"===n.nodeName||"MENU"===n.nodeName)return n;var i,s,a,l,c,u,d,f,h,p=n.ownerDocument,m=e(p,o),g=n.querySelectorAll("br"),y=g.length;for(h=0;h<y;h++)for(l=g[h];(c=l.parentNode)&&c!==n&&c.lastChild===l;){if("block"===wysihtml5.dom.getStyle("display").from(c)){c.removeChild(l);break}wysihtml5.dom.insert(l).after(l.parentNode)}for(i=wysihtml5.lang.array(n.childNodes).get(),s=i.length,h=0;h<s;h++)f=f||t(p,m),a=i[h],u="block"===wysihtml5.dom.getStyle("display").from(a),d="BR"===a.nodeName,!u||r&&wysihtml5.dom.hasClass(a,r)?d?f=f.firstChild?null:f:f.appendChild(a):(f=f.firstChild?t(p,m):f,f.appendChild(a),f=null);return 0===i.length&&t(p,m),n.parentNode.replaceChild(m,n),m}return n}(),wysihtml5.dom.copyAttributes=function(t){return{from:function(e){return{to:function(n){for(var o,r=0,i=t.length;r<i;r++)o=t[r],"undefined"!=typeof e[o]&&""!==e[o]&&(n[o]=e[o]);return{andTo:arguments.callee}}}}}},function(t){var e=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"],n=function(e){return!!o(e)&&parseInt(t.getStyle("width").from(e),10)<e.offsetWidth},o=function(n){for(var o=0,r=e.length;o<r;o++)if("border-box"===t.getStyle(e[o]).from(n))return e[o]};t.copyStyles=function(o){return{from:function(r){n(r)&&(o=wysihtml5.lang.array(o).without(e));for(var i,s="",a=o.length,l=0;l<a;l++)i=o[l],s+=i+":"+t.getStyle(i).from(r)+";";return{to:function(e){return t.setStyles(s).on(e),{andTo:arguments.callee}}}}}}}(wysihtml5.dom),function(t){t.dom.delegate=function(e,n,o,r){return t.dom.observe(e,o,function(o){for(var i=o.target,s=t.lang.array(e.querySelectorAll(n));i&&i!==e;){if(s.contains(i)){r.call(i,o);break}i=i.parentNode}})}}(wysihtml5),function(t){t.dom.domNode=function(e){var n=[t.ELEMENT_NODE,t.TEXT_NODE],o=function(e){return e.nodeType===t.TEXT_NODE&&/^\s*$/g.test(e.data)};return{prev:function(r){var i=e.previousSibling,s=r&&r.nodeTypes?r.nodeTypes:n;return i?!t.lang.array(s).contains(i.nodeType)||r&&r.ignoreBlankTexts&&o(i)?t.dom.domNode(i).prev(r):i:null},next:function(r){var i=e.nextSibling,s=r&&r.nodeTypes?r.nodeTypes:n;return i?!t.lang.array(s).contains(i.nodeType)||r&&r.ignoreBlankTexts&&o(i)?t.dom.domNode(i).next(r):i:null}}}}(wysihtml5),wysihtml5.dom.getAsDom=function(){var t=function(t,e){var n=e.createElement("div");n.style.display="none",e.body.appendChild(n);try{n.innerHTML=t}catch(t){}return e.body.removeChild(n),n},e=function(t){if(!t._wysihtml5_supportsHTML5Tags){for(var e=0,o=n.length;e<o;e++)t.createElement(n[e]);t._wysihtml5_supportsHTML5Tags=!0}},n=["abbr","article","aside","audio","bdi","canvas","command","datalist","details","figcaption","figure","footer","header","hgroup","keygen","mark","meter","nav","output","progress","rp","rt","ruby","svg","section","source","summary","time","track","video","wbr"];return function(n,o){o=o||document;var r;return"object"==typeof n&&n.nodeType?(r=o.createElement("div"),r.appendChild(n)):wysihtml5.browser.supportsHTML5Tags(o)?(r=o.createElement("div"),r.innerHTML=n):(e(o),r=t(n,o)),r}}(),wysihtml5.dom.getParentElement=function(){function t(t,e){return!e||!e.length||("string"==typeof e?t===e:wysihtml5.lang.array(e).contains(t))}function e(t){return t.nodeType===wysihtml5.ELEMENT_NODE}function n(t,e,n){var o=(t.className||"").match(n)||[];return e?o[o.length-1]===e:!!o.length}function o(t,e,n){var o=(t.getAttribute("style")||"").match(n)||[];return e?o[o.length-1]===e:!!o.length}return function(r,i,s,a){var l=i.cssStyle||i.styleRegExp,c=i.className||i.classRegExp;for(s=s||50;s--&&r&&"BODY"!==r.nodeName&&(!a||r!==a);){if(e(r)&&t(r.nodeName,i.nodeName)&&(!l||o(r,i.cssStyle,i.styleRegExp))&&(!c||n(r,i.className,i.classRegExp)))return r;r=r.parentNode}return null}}(),wysihtml5.dom.getStyle=function(){function t(t){return t.replace(n,function(t){return t.charAt(1).toUpperCase()})}var e={"float":"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},n=/\-[a-z]/g;return function(n){return{from:function(o){if(o.nodeType===wysihtml5.ELEMENT_NODE){var r=o.ownerDocument,i=e[n]||t(n),s=o.style,a=o.currentStyle,l=s[i];if(l)return l;if(a)try{return a[i]}catch(t){}var c,u,d=r.defaultView||r.parentWindow,f=("height"===n||"width"===n)&&"TEXTAREA"===o.nodeName;return d.getComputedStyle?(f&&(c=s.overflow,s.overflow="hidden"),u=d.getComputedStyle(o,null).getPropertyValue(n),f&&(s.overflow=c||""),u):void 0}}}}}(),wysihtml5.dom.getTextNodes=function(t,e){var n=[];for(t=t.firstChild;t;t=t.nextSibling)3==t.nodeType?e&&/^\s*$/.test(t.innerText||t.textContent)||n.push(t):n=n.concat(wysihtml5.dom.getTextNodes(t,e));return n},wysihtml5.dom.hasElementWithTagName=function(){function t(t){return t._wysihtml5_identifier||(t._wysihtml5_identifier=n++)}var e={},n=1;return function(n,o){var r=t(n)+":"+o,i=e[r];return i||(i=e[r]=n.getElementsByTagName(o)),i.length>0}}(),function(t){function e(t){return t._wysihtml5_identifier||(t._wysihtml5_identifier=o++)}var n={},o=1;t.dom.hasElementWithClassName=function(o,r){if(!t.browser.supportsNativeGetElementsByClassName())return!!o.querySelector("."+r);var i=e(o)+":"+r,s=n[i];return s||(s=n[i]=o.getElementsByClassName(r)),s.length>0}}(wysihtml5),wysihtml5.dom.insert=function(t){return{after:function(e){e.parentNode.insertBefore(t,e.nextSibling)},before:function(e){e.parentNode.insertBefore(t,e)},into:function(e){e.appendChild(t)}}},wysihtml5.dom.insertCSS=function(t){return t=t.join("\n"),{into:function(e){var n=e.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(e.createTextNode(t));var o=e.querySelector("head link");if(o)return void o.parentNode.insertBefore(n,o);var r=e.querySelector("head");r&&r.appendChild(n)}}},function(t){t.dom.lineBreaks=function(e){function n(t){return"BR"===t.nodeName}function o(e){return!!n(e)||"block"===t.dom.getStyle("display").from(e)}return{add:function(){var n=e.ownerDocument,r=t.dom.domNode(e).next({ignoreBlankTexts:!0}),i=t.dom.domNode(e).prev({ignoreBlankTexts:!0});r&&!o(r)&&t.dom.insert(n.createElement("br")).after(e),i&&!o(i)&&t.dom.insert(n.createElement("br")).before(e)},remove:function(){var o=t.dom.domNode(e).next({ignoreBlankTexts:!0}),r=t.dom.domNode(e).prev({ignoreBlankTexts:!0});o&&n(o)&&o.parentNode.removeChild(o),r&&n(r)&&r.parentNode.removeChild(r)}}}}(wysihtml5),wysihtml5.dom.observe=function(t,e,n){e="string"==typeof e?[e]:e;for(var o,r,i=0,s=e.length;i<s;i++)r=e[i],t.addEventListener?t.addEventListener(r,n,!1):(o=function(e){"target"in e||(e.target=e.srcElement),e.preventDefault=e.preventDefault||function(){this.returnValue=!1},e.stopPropagation=e.stopPropagation||function(){this.cancelBubble=!0},n.call(t,e)},t.attachEvent("on"+r,o));return{stop:function(){for(var r,i=0,s=e.length;i<s;i++)r=e[i],t.removeEventListener?t.removeEventListener(r,n,!1):t.detachEvent("on"+r,o)}}},wysihtml5.dom.parse=function(){function t(t,n){wysihtml5.lang.object(m).merge(p).merge(n.rules).get();var o,r,i,s=n.context||t.ownerDocument||document,a=s.createDocumentFragment(),l="string"==typeof t,c=!1;for(n.clearInternals===!0&&(c=!0),n.uneditableClass&&(g=n.uneditableClass),o=l?wysihtml5.dom.getAsDom(t,s):t;o.firstChild;)i=o.firstChild,r=e(i,n.cleanUp,c),r&&a.appendChild(r),i!==r&&o.removeChild(i);return o.innerHTML="",o.appendChild(a),l?wysihtml5.quirks.getCorrectInnerHTML(o):o}function e(t,n,o){var r,i,s,a=t.nodeType,l=t.childNodes,c=l.length,u=d[a],h=0;if(g&&1===a&&wysihtml5.dom.hasClass(t,g))return t;if(i=u&&u(t,o),!i){if(i===!1){for(r=t.ownerDocument.createDocumentFragment(),h=c;h--;)l[h]&&(s=e(l[h],n,o),s&&(l[h]===s&&h--,r.insertBefore(s,r.firstChild)));return wysihtml5.lang.array(["div","pre","p","table","td","th","ul","ol","li","dd","dl","footer","header","section","h1","h2","h3","h4","h5","h6"]).contains(t.nodeName.toLowerCase())&&t.parentNode.lastChild!==t&&(t.nextSibling&&3===t.nextSibling.nodeType&&/^\s/.test(t.nextSibling.nodeValue)||r.appendChild(t.ownerDocument.createTextNode(" "))),r.normalize&&r.normalize(),r}return null}for(h=0;h<c;h++)l[h]&&(s=e(l[h],n,o),s&&(l[h]===s&&h--,i.appendChild(s)));if(n&&i.nodeName.toLowerCase()===f&&(!i.childNodes.length||/^\s*$/gi.test(i.innerHTML)&&(o||"_wysihtml5-temp-placeholder"!==t.className&&"rangySelectionBoundary"!==t.className)||!i.attributes.length)){for(r=i.ownerDocument.createDocumentFragment();i.firstChild;)r.appendChild(i.firstChild);return r.normalize&&r.normalize(),r}return i.normalize&&i.normalize(),i}function n(t,e){var n,r,a=m.tags,l=t.nodeName.toLowerCase(),c=t.scopeName;if(t._wysihtml5)return null;if(t._wysihtml5=1,"wysihtml5-temp"===t.className)return null;if(c&&"HTML"!=c&&(l=c+":"+l),"outerHTML"in t&&(wysihtml5.browser.autoClosesUnclosedTags()||"P"!==t.nodeName||"</p>"===t.outerHTML.slice(-4).toLowerCase()||(l="div")),l in a){if(n=a[l],!n||n.remove)return null;if(n.unwrap)return!1;n="string"==typeof n?{rename_tag:n}:n}else{if(!t.firstChild)return null;n={rename_tag:f}}return r=t.ownerDocument.createElement(n.rename_tag||l),s(t,r,n,e),i(t,r,n),n.one_of_type&&!o(t,m,n.one_of_type,e)?(!n.remove_action||"unwrap"!=n.remove_action)&&null:(t=null,r.normalize&&r.normalize(),r)}function o(t,e,n,o){var i,s;if("SPAN"===t.nodeName&&!o&&("_wysihtml5-temp-placeholder"===t.className||"rangySelectionBoundary"===t.className))return!0;for(s in n)if(n.hasOwnProperty(s)&&e.type_definitions&&e.type_definitions[s]&&(i=e.type_definitions[s],r(t,i)))return!0;return!1}function r(t,e){var n,o,r,i,s,l=t.getAttribute("class"),c=t.getAttribute("style");if(e.methods)for(var u in e.methods)if(e.methods.hasOwnProperty(u)&&x[u]&&x[u](t))return!0;if(l&&e.classes){l=l.replace(/^\s+/g,"").replace(/\s+$/g,"").split(h),n=l.length;for(var d=0;d<n;d++)if(e.classes[l[d]])return!0}if(c&&e.styles){c=c.split(";");for(o in e.styles)if(e.styles.hasOwnProperty(o))for(var f=c.length;f--;)if(s=c[f].split(":"),s[0].replace(/\s/g,"").toLowerCase()===o&&(e.styles[o]===!0||1===e.styles[o]||wysihtml5.lang.array(e.styles[o]).contains(s[1].replace(/\s/g,"").toLowerCase())))return!0}if(e.attrs)for(r in e.attrs)if(e.attrs.hasOwnProperty(r)&&(i=a(t,r),"string"==typeof i&&i.search(e.attrs[r])>-1))return!0;return!1}function i(t,e,n){var o;if(n&&n.keep_styles)for(o in n.keep_styles)n.keep_styles.hasOwnProperty(o)&&("float"==o?(t.style.styleFloat&&(e.style.styleFloat=t.style.styleFloat),t.style.cssFloat&&(e.style.cssFloat=t.style.cssFloat)):t.style[o]&&(e.style[o]=t.style[o]))}function s(t,e,n,o){var r,i,s,l,c,u,d,f={},p=n.set_class,g=n.add_class,y=n.add_style,v=n.set_attributes,x=n.check_attributes,E=m.classes,T=0,S=[],N=[],_=[],R=[];if(v&&(f=wysihtml5.lang.object(v).clone()),x)for(l in x)u=b[x[l]],u&&(d=a(t,l),(d||"alt"===l&&"IMG"==t.nodeName)&&(c=u(d),"string"==typeof c&&(f[l]=c)));if(p&&S.push(p),g)for(l in g)u=C[g[l]],u&&(s=u(a(t,l)),"string"==typeof s&&S.push(s));if(y)for(l in y)u=w[y[l]],u&&(newStyle=u(a(t,l)),"string"==typeof newStyle&&N.push(newStyle));if("string"==typeof E&&"any"===E&&t.getAttribute("class"))f["class"]=t.getAttribute("class");else{for(o||(E["_wysihtml5-temp-placeholder"]=1,E._rangySelectionBoundary=1,E["wysiwyg-tmp-selected-cell"]=1),R=t.getAttribute("class"),R&&(S=S.concat(R.split(h))),r=S.length;T<r;T++)i=S[T],E[i]&&_.push(i);_.length&&(f["class"]=wysihtml5.lang.array(_).unique().join(" "))}f["class"]&&o&&(f["class"]=f["class"].replace("wysiwyg-tmp-selected-cell",""),/^\s*$/g.test(f["class"])&&delete f["class"]),N.length&&(f.style=wysihtml5.lang.array(N).unique().join(" "));for(l in f)try{e.setAttribute(l,f[l])}catch(t){}f.src&&("undefined"!=typeof f.width&&e.setAttribute("width",f.width),"undefined"!=typeof f.height&&e.setAttribute("height",f.height))}function a(t,e){e=e.toLowerCase();var n=t.nodeName;if("IMG"==n&&"src"==e&&l(t)===!0)return t.src;if(y&&"outerHTML"in t){var o=t.outerHTML.toLowerCase(),r=o.indexOf(" "+e+"=")!=-1;return r?t.getAttribute(e):null}return t.getAttribute(e)}function l(t){try{return t.complete&&!t.mozMatchesSelector(":-moz-broken")}catch(e){if(t.complete&&"complete"===t.readyState)return!0}}function c(t){var e=t.nextSibling;if(!e||e.nodeType!==wysihtml5.TEXT_NODE){var n=t.data.replace(v,"");return t.ownerDocument.createTextNode(n)}e.data=t.data.replace(v,"")+e.data.replace(v,"")}function u(t){if(m.comments)return t.ownerDocument.createComment(t.nodeValue)}var d={1:n,3:c,8:u},f="span",h=/\s+/,p={tags:{},classes:{}},m={},g=!1,y=!wysihtml5.browser.supportsGetAttributeCorrectly(),v=/\uFEFF/g,b={url:function(){var t=/^https?:\/\//i;return function(e){return e&&e.match(t)?e.replace(t,function(t){return t.toLowerCase()}):null}}(),src:function(){var t=/^(\/|https?:\/\/)/i;return function(e){return e&&e.match(t)?e.replace(t,function(t){return t.toLowerCase()}):null}}(),href:function(){var t=/^(#|\/|https?:\/\/|mailto:)/i;return function(e){return e&&e.match(t)?e.replace(t,function(t){return t.toLowerCase()}):null}}(),alt:function(){var t=/[^ a-z0-9_\-]/gi;return function(e){return e?e.replace(t,""):""}}(),numbers:function(){var t=/\D/g;return function(e){return e=(e||"").replace(t,""),e||null}}(),any:function(){return function(t){return t}}()},w={align_text:function(){var t={left:"text-align: left;",right:"text-align: right;",center:"text-align: center;"};return function(e){return t[String(e).toLowerCase()]}}()},C={align_img:function(){var t={left:"wysiwyg-float-left",right:"wysiwyg-float-right"};return function(e){return t[String(e).toLowerCase()]}}(),align_text:function(){var t={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"};return function(e){return t[String(e).toLowerCase()]}}(),clear_br:function(){var t={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"};return function(e){return t[String(e).toLowerCase()]}}(),size_font:function(){var t={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"};return function(e){return t[String(e).charAt(0)]}}()},x={has_visible_contet:function(){var t,e=["img","video","picture","br","script","noscript","style","table","iframe","object","embed","audio","svg","input","button","select","textarea","canvas"];return function(n){if(t=(n.innerText||n.textContent).replace(/\s/g,""),t&&t.length>0)return!0;for(var o=e.length;o--;)if(n.querySelector(e[o]))return!0;return!!(n.offsetWidth&&n.offsetWidth>0&&n.offsetHeight&&n.offsetHeight>0)}}()};return t}(),wysihtml5.dom.removeEmptyTextNodes=function(t){for(var e,n=wysihtml5.lang.array(t.childNodes).get(),o=n.length,r=0;r<o;r++)e=n[r],e.nodeType===wysihtml5.TEXT_NODE&&""===e.data&&e.parentNode.removeChild(e)},wysihtml5.dom.renameElement=function(t,e){for(var n,o=t.ownerDocument.createElement(e);n=t.firstChild;)o.appendChild(n);return wysihtml5.dom.copyAttributes(["align","className"]).from(t).to(o),t.parentNode.replaceChild(o,t),o},wysihtml5.dom.replaceWithChildNodes=function(t){if(t.parentNode){if(!t.firstChild)return void t.parentNode.removeChild(t);for(var e=t.ownerDocument.createDocumentFragment();t.firstChild;)e.appendChild(t.firstChild);t.parentNode.replaceChild(e,t),t=e=null}},function(t){function e(e){return"block"===t.getStyle("display").from(e)}function n(t){return"BR"===t.nodeName}function o(t){var e=t.ownerDocument.createElement("br");t.appendChild(e)}function r(t,r){if(t.nodeName.match(/^(MENU|UL|OL)$/)){var i,s,a,l,c,u,d=t.ownerDocument,f=d.createDocumentFragment(),h=wysihtml5.dom.domNode(t).prev({ignoreBlankTexts:!0});if(r)for(!h||e(h)||n(h)||o(f);u=t.firstElementChild||t.firstChild;){for(s=u.lastChild;i=u.firstChild;)a=i===s,l=a&&!e(i)&&!n(i),f.appendChild(i),l&&o(f);u.parentNode.removeChild(u)}else for(;u=t.firstElementChild||t.firstChild;){if(u.querySelector&&u.querySelector("div, p, ul, ol, menu, blockquote, h1, h2, h3, h4, h5, h6"))for(;i=u.firstChild;)f.appendChild(i);else{for(c=d.createElement("p");i=u.firstChild;)c.appendChild(i);f.appendChild(c)}u.parentNode.removeChild(u)}t.parentNode.replaceChild(f,t)}}t.resolveList=r}(wysihtml5.dom),function(t){var e=document,n=["parent","top","opener","frameElement","frames","localStorage","globalStorage","sessionStorage","indexedDB"],o=["open","close","openDialog","showModalDialog","alert","confirm","prompt","openDatabase","postMessage","XMLHttpRequest","XDomainRequest"],r=["referrer","write","open","close"];t.dom.Sandbox=Base.extend({constructor:function(e,n){this.callback=e||t.EMPTY_FUNCTION,this.config=t.lang.object({}).merge(n).get(),this.editableArea=this._createIframe()},insertInto:function(t){"string"==typeof t&&(t=e.getElementById(t)),t.appendChild(this.editableArea)},getIframe:function(){return this.editableArea},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var t=this.getIframe();t.parentNode.removeChild(t)},_readyError:function(){throw new Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet")},_createIframe:function(){var n=this,o=e.createElement("iframe");return o.className="wysihtml5-sandbox",t.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(o),t.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(o.src="javascript:'<html></html>'"),o.onload=function(){o.onreadystatechange=o.onload=null,n._onLoadIframe(o)},o.onreadystatechange=function(){/loaded|complete/.test(o.readyState)&&(o.onreadystatechange=o.onload=null,n._onLoadIframe(o))},o},_onLoadIframe:function(i){if(t.dom.contains(e.documentElement,i)){var s=this,a=i.contentWindow,l=i.contentWindow.document,c=e.characterSet||e.charset||"utf-8",u=this._getHtml({charset:c,stylesheets:this.config.stylesheets});if(l.open("text/html","replace"),l.write(u),l.close(),this.getWindow=function(){return i.contentWindow},this.getDocument=function(){return i.contentWindow.document},a.onerror=function(t,e,n){throw new Error("wysihtml5.Sandbox: "+t,e,n)},!t.browser.supportsSandboxedIframes()){var d,f;for(d=0,f=n.length;d<f;d++)this._unset(a,n[d]);for(d=0,f=o.length;d<f;d++)this._unset(a,o[d],t.EMPTY_FUNCTION);for(d=0,f=r.length;d<f;d++)this._unset(l,r[d]);this._unset(l,"cookie","",!0)}this.loaded=!0,setTimeout(function(){s.callback(s)},0)}},_getHtml:function(e){var n,o=e.stylesheets,r="",i=0;if(o="string"==typeof o?[o]:o)for(n=o.length;i<n;i++)r+='<link rel="stylesheet" href="'+o[i]+'">';return e.stylesheets=r,t.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(e)},_unset:function(e,n,o,r){try{e[n]=o}catch(t){}try{e.__defineGetter__(n,function(){return o})}catch(t){}if(r)try{e.__defineSetter__(n,function(){})}catch(t){}if(!t.browser.crashesWhenDefineProperty(n))try{var i={get:function(){return o}};r&&(i.set=function(){}),Object.defineProperty(e,n,i)}catch(t){}}})}(wysihtml5),function(t){var e=document;t.dom.ContentEditableArea=Base.extend({getContentEditable:function(){return this.element},getWindow:function(){return this.element.ownerDocument.defaultView},getDocument:function(){return this.element.ownerDocument},constructor:function(e,n,o){this.callback=e||t.EMPTY_FUNCTION,this.config=t.lang.object({}).merge(n).get(),o?this.element=this._bindElement(o):this.element=this._createElement()},_createElement:function(){var t=e.createElement("div");return t.className="wysihtml5-sandbox",this._loadElement(t),t},_bindElement:function(t){return t.className=t.className&&""!=t.className?t.className+" wysihtml5-sandbox":"wysihtml5-sandbox",this._loadElement(t,!0),t},_loadElement:function(t,e){var n=this;if(!e){var o=this._getHtml();t.innerHTML=o}this.getWindow=function(){return t.ownerDocument.defaultView},this.getDocument=function(){return t.ownerDocument},this.loaded=!0,setTimeout(function(){n.callback(n)},0)},_getHtml:function(){return""}})}(wysihtml5),function(){var t={className:"class"};wysihtml5.dom.setAttributes=function(e){return{on:function(n){for(var o in e)n.setAttribute(t[o]||o,e[o])}}}}(),wysihtml5.dom.setStyles=function(t){return{on:function(e){var n=e.style;if("string"==typeof t)return void(n.cssText+=";"+t);for(var o in t)"float"===o?(n.cssFloat=t[o],n.styleFloat=t[o]):n[o]=t[o]}}},function(t){t.simulatePlaceholder=function(e,n,o){var r="placeholder",i=function(){var e=n.element.offsetWidth>0&&n.element.offsetHeight>0;n.hasPlaceholderSet()&&(n.clear(),n.element.focus(),e&&setTimeout(function(){var t=n.selection.getSelection();t.focusNode&&t.anchorNode||n.selection.selectNode(n.element.firstChild||n.element)},0)),n.placeholderSet=!1,t.removeClass(n.element,r)},s=function(){n.isEmpty()&&(n.placeholderSet=!0,n.setValue(o),t.addClass(n.element,r))};e.on("set_placeholder",s).on("unset_placeholder",i).on("focus:composer",i).on("paste:composer",i).on("blur:composer",s),s()}}(wysihtml5.dom),function(t){var e=document.documentElement;"textContent"in e?(t.setTextContent=function(t,e){t.textContent=e},t.getTextContent=function(t){return t.textContent}):"innerText"in e?(t.setTextContent=function(t,e){t.innerText=e},t.getTextContent=function(t){return t.innerText}):(t.setTextContent=function(t,e){t.nodeValue=e},t.getTextContent=function(t){return t.nodeValue})}(wysihtml5.dom),wysihtml5.dom.getAttribute=function(t,e){var n=!wysihtml5.browser.supportsGetAttributeCorrectly();e=e.toLowerCase();var o=t.nodeName;if("IMG"==o&&"src"==e&&_isLoadedImage(t)===!0)return t.src;if(n&&"outerHTML"in t){var r=t.outerHTML.toLowerCase(),i=r.indexOf(" "+e+"=")!=-1;return i?t.getAttribute(e):null}return t.getAttribute(e)},function(t){function e(t,e){for(var n,o=[],r=0,i=t.length;r<i;r++)if(n=t[r].querySelectorAll(e))for(var s=n.length;s--;o.unshift(n[s]));return o}function n(t){t.parentNode.removeChild(t)}function o(t,e){t.parentNode.insertBefore(e,t.nextSibling)}function r(t,e){for(var n=t.nextSibling;1!=n.nodeType;)if(n=n.nextSibling,!e||e==n.tagName.toLowerCase())return n;return null}var i=t.dom,s=function(t){this.el=t,this.isColspan=!1,this.isRowspan=!1,this.firstCol=!0,this.lastCol=!0,this.firstRow=!0,this.lastRow=!0,this.isReal=!0,this.spanCollection=[],this.modified=!1},a=function(t,e){t?(this.cell=t,this.table=i.getParentElement(t,{nodeName:["TABLE"]})):e&&(this.table=e,this.cell=this.table.querySelectorAll("th, td")[0])};a.prototype={addSpannedCellToMap:function(t,e,n,o,r,i){for(var a=[],l=n+(i?parseInt(i,10)-1:0),c=o+(r?parseInt(r,10)-1:0),u=n;u<=l;u++){"undefined"==typeof e[u]&&(e[u]=[]);for(var d=o;d<=c;d++)e[u][d]=new s(t),e[u][d].isColspan=r&&parseInt(r,10)>1,e[u][d].isRowspan=i&&parseInt(i,10)>1,e[u][d].firstCol=d==o,e[u][d].lastCol=d==c,e[u][d].firstRow=u==n,e[u][d].lastRow=u==l,e[u][d].isReal=d==o&&u==n,e[u][d].spanCollection=a,a.push(e[u][d])}},setCellAsModified:function(t){if(t.modified=!0,t.spanCollection.length>0)for(var e=0,n=t.spanCollection.length;e<n;e++)t.spanCollection[e].modified=!0},setTableMap:function(){var t,e,n,o,r,a,l,c,u=[],d=this.getTableRows();for(t=0;t<d.length;t++)for(e=d[t],n=this.getRowCells(e),a=0,"undefined"==typeof u[t]&&(u[t]=[]),o=0;o<n.length;o++){for(r=n[o];"undefined"!=typeof u[t][a];)a++;l=i.getAttribute(r,"colspan"),c=i.getAttribute(r,"rowspan"),l||c?(this.addSpannedCellToMap(r,u,t,a,l,c),a+=l?parseInt(l,10):1):(u[t][a]=new s(r),a++)}return this.map=u,u},getRowCells:function(n){var o=this.table.querySelectorAll("table"),r=o?e(o,"th, td"):[],i=n.querySelectorAll("th, td"),s=r.length>0?t.lang.array(i).without(r):i;return s},getTableRows:function(){var n=this.table.querySelectorAll("table"),o=n?e(n,"tr"):[],r=this.table.querySelectorAll("tr"),i=o.length>0?t.lang.array(r).without(o):r;return i},getMapIndex:function(t){for(var e=this.map.length,n=this.map&&this.map[0]?this.map[0].length:0,o=0;o<e;o++)for(var r=0;r<n;r++)if(this.map[o][r].el===t)return{row:o,col:r};return!1},getElementAtIndex:function(t){return this.setTableMap(),this.map[t.row]&&this.map[t.row][t.col]&&this.map[t.row][t.col].el?this.map[t.row][t.col].el:null},getMapElsTo:function(t){var e=[];if(this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(t),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var n=this.idx_start;this.idx_start=this.idx_end,this.idx_end=n}if(this.idx_start.col>this.idx_end.col){var o=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=o}if(null!=this.idx_start&&null!=this.idx_end)for(var r=this.idx_start.row,i=this.idx_end.row;r<=i;r++)for(var s=this.idx_start.col,a=this.idx_end.col;s<=a;s++)e.push(this.map[r][s].el);return e},orderSelectionEnds:function(t){if(this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(t),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var e=this.idx_start;this.idx_start=this.idx_end,this.idx_end=e}if(this.idx_start.col>this.idx_end.col){var n=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=n}return{start:this.map[this.idx_start.row][this.idx_start.col].el,end:this.map[this.idx_end.row][this.idx_end.col].el}},createCells:function(t,e,n){for(var o,r=this.table.ownerDocument,i=r.createDocumentFragment(),s=0;s<e;s++){if(o=r.createElement(t),n)for(var a in n)n.hasOwnProperty(a)&&o.setAttribute(a,n[a]);o.appendChild(document.createTextNode("\xa0")),i.appendChild(o)}return i},correctColIndexForUnreals:function(t,e){for(var n=this.map[e],o=-1,r=0;r<t;r++)n[r].isReal&&o++;return o},getLastNewCellOnRow:function(t,e){for(var n,o,r=this.getRowCells(t),i=0,s=r.length;i<s;i++)if(n=r[i],o=this.getMapIndex(n),o===!1||"undefined"!=typeof e&&o.row!=e)return n;return null},removeEmptyTable:function(){var t=this.table.querySelectorAll("td, th");return(!t||0==t.length)&&(n(this.table),!0)},splitRowToCells:function(t){if(t.isColspan){var e=parseInt(i.getAttribute(t.el,"colspan")||1,10),n=t.el.tagName.toLowerCase();if(e>1){var r=this.createCells(n,e-1);o(t.el,r)}t.el.removeAttribute("colspan")}},getRealRowEl:function(t,e){var n=null,o=null;e=e||this.idx;for(var r=0,s=this.map[e.row].length;r<s;r++)if(o=this.map[e.row][r],o.isReal&&(n=i.getParentElement(o.el,{nodeName:["TR"]})))return n;return null===n&&t&&(n=i.getParentElement(this.map[e.row][e.col].el,{nodeName:["TR"]})||null),n},injectRowAt:function(t,e,n,r,s){var a=this.getRealRowEl(!1,{row:t,col:e}),l=this.createCells(r,n);if(a){var c=this.correctColIndexForUnreals(e,t);c>=0?o(this.getRowCells(a)[c],l):a.insertBefore(l,a.firstChild);
}else{var u=this.table.ownerDocument.createElement("tr");u.appendChild(l),o(i.getParentElement(s.el,{nodeName:["TR"]}),u)}},canMerge:function(t){if(this.to=t,this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(this.to),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var e=this.idx_start;this.idx_start=this.idx_end,this.idx_end=e}if(this.idx_start.col>this.idx_end.col){var n=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=n}for(var o=this.idx_start.row,r=this.idx_end.row;o<=r;o++)for(var i=this.idx_start.col,s=this.idx_end.col;i<=s;i++)if(this.map[o][i].isColspan||this.map[o][i].isRowspan)return!1;return!0},decreaseCellSpan:function(t,e){var n=parseInt(i.getAttribute(t.el,e),10)-1;n>=1?t.el.setAttribute(e,n):(t.el.removeAttribute(e),"colspan"==e&&(t.isColspan=!1),"rowspan"==e&&(t.isRowspan=!1),t.firstCol=!0,t.lastCol=!0,t.firstRow=!0,t.lastRow=!0,t.isReal=!0)},removeSurplusLines:function(){var t,e,o,r,s,a,l;if(this.setTableMap(),this.map){for(o=0,r=this.map.length;o<r;o++){for(t=this.map[o],l=!0,s=0,a=t.length;s<a;s++)if(e=t[s],!(i.getAttribute(e.el,"rowspan")&&parseInt(i.getAttribute(e.el,"rowspan"),10)>1&&e.firstRow!==!0)){l=!1;break}if(l)for(s=0;s<a;s++)this.decreaseCellSpan(t[s],"rowspan")}var c=this.getTableRows();for(o=0,r=c.length;o<r;o++)t=c[o],0==t.childNodes.length&&/^\s*$/.test(t.textContent||t.innerText)&&n(t)}},fillMissingCells:function(){var t=0,e=0,n=null;if(this.setTableMap(),this.map){t=this.map.length;for(var r=0;r<t;r++)this.map[r].length>e&&(e=this.map[r].length);for(var i=0;i<t;i++)for(var a=0;a<e;a++)this.map[i]&&!this.map[i][a]&&a>0&&(this.map[i][a]=new s(this.createCells("td",1)),n=this.map[i][a-1],n&&n.el&&n.el.parent&&o(this.map[i][a-1].el,this.map[i][a].el))}},rectify:function(){return!this.removeEmptyTable()&&(this.removeSurplusLines(),this.fillMissingCells(),!0)},unmerge:function(){if(this.rectify()&&(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx)){var t=this.map[this.idx.row][this.idx.col],e=i.getAttribute(t.el,"colspan")?parseInt(i.getAttribute(t.el,"colspan"),10):1,n=t.el.tagName.toLowerCase();if(t.isRowspan){var o=parseInt(i.getAttribute(t.el,"rowspan"),10);if(o>1)for(var r=1,s=o-1;r<=s;r++)this.injectRowAt(this.idx.row+r,this.idx.col,e,n,t);t.el.removeAttribute("rowspan")}this.splitRowToCells(t)}},merge:function(t){if(this.rectify())if(this.canMerge(t)){for(var e=this.idx_end.row-this.idx_start.row+1,o=this.idx_end.col-this.idx_start.col+1,r=this.idx_start.row,i=this.idx_end.row;r<=i;r++)for(var s=this.idx_start.col,a=this.idx_end.col;s<=a;s++)r==this.idx_start.row&&s==this.idx_start.col?(e>1&&this.map[r][s].el.setAttribute("rowspan",e),o>1&&this.map[r][s].el.setAttribute("colspan",o)):(/^\s*<br\/?>\s*$/.test(this.map[r][s].el.innerHTML.toLowerCase())||(this.map[this.idx_start.row][this.idx_start.col].el.innerHTML+=" "+this.map[r][s].el.innerHTML),n(this.map[r][s].el));this.rectify()}else window.console&&console.log("Do not know how to merge allready merged cells.")},collapseCellToNextRow:function(t){var e=this.getMapIndex(t.el),n=e.row+1,r={row:n,col:e.col};if(n<this.map.length){var s=this.getRealRowEl(!1,r);if(null!==s){var a=this.correctColIndexForUnreals(r.col,r.row);if(a>=0)o(this.getRowCells(s)[a],t.el);else{var l=this.getLastNewCellOnRow(s,n);null!==l?o(l,t.el):s.insertBefore(t.el,s.firstChild)}parseInt(i.getAttribute(t.el,"rowspan"),10)>2?t.el.setAttribute("rowspan",parseInt(i.getAttribute(t.el,"rowspan"),10)-1):t.el.removeAttribute("rowspan")}}},removeRowCell:function(t){t.isReal?t.isRowspan?this.collapseCellToNextRow(t):n(t.el):parseInt(i.getAttribute(t.el,"rowspan"),10)>2?t.el.setAttribute("rowspan",parseInt(i.getAttribute(t.el,"rowspan"),10)-1):t.el.removeAttribute("rowspan")},getRowElementsByCell:function(){var t=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx!==!1)for(var e=this.map[this.idx.row],n=0,o=e.length;n<o;n++)e[n].isReal&&t.push(e[n].el);return t},getColumnElementsByCell:function(){var t=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx!==!1)for(var e=0,n=this.map.length;e<n;e++)this.map[e][this.idx.col]&&this.map[e][this.idx.col].isReal&&t.push(this.map[e][this.idx.col].el);return t},removeRow:function(){var t=i.getParentElement(this.cell,{nodeName:["TR"]});if(t){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx!==!1)for(var e=this.map[this.idx.row],o=0,r=e.length;o<r;o++)e[o].modified||(this.setCellAsModified(e[o]),this.removeRowCell(e[o]));n(t)}},removeColCell:function(t){t.isColspan?parseInt(i.getAttribute(t.el,"colspan"),10)>2?t.el.setAttribute("colspan",parseInt(i.getAttribute(t.el,"colspan"),10)-1):t.el.removeAttribute("colspan"):t.isReal&&n(t.el)},removeColumn:function(){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx!==!1)for(var t=0,e=this.map.length;t<e;t++)this.map[t][this.idx.col].modified||(this.setCellAsModified(this.map[t][this.idx.col]),this.removeColCell(this.map[t][this.idx.col]))},remove:function(t){if(this.rectify()){switch(t){case"row":this.removeRow();break;case"column":this.removeColumn()}this.rectify()}},addRow:function(t){var e=this.table.ownerDocument;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),"below"==t&&i.getAttribute(this.cell,"rowspan")&&(this.idx.row=this.idx.row+parseInt(i.getAttribute(this.cell,"rowspan"),10)-1),this.idx!==!1){for(var n=this.map[this.idx.row],r=e.createElement("tr"),s=0,a=n.length;s<a;s++)n[s].modified||(this.setCellAsModified(n[s]),this.addRowCell(n[s],r,t));switch(t){case"below":o(this.getRealRowEl(!0),r);break;case"above":var l=i.getParentElement(this.map[this.idx.row][this.idx.col].el,{nodeName:["TR"]});l&&l.parentNode.insertBefore(r,l)}}},addRowCell:function(t,e,n){var o=t.isColspan?{colspan:i.getAttribute(t.el,"colspan")}:null;t.isReal?"above"!=n&&t.isRowspan?t.el.setAttribute("rowspan",parseInt(i.getAttribute(t.el,"rowspan"),10)+1):e.appendChild(this.createCells("td",1,o)):"above"!=n&&t.isRowspan&&t.lastRow?e.appendChild(this.createCells("td",1,o)):c.isRowspan&&t.el.attr("rowspan",parseInt(i.getAttribute(t.el,"rowspan"),10)+1)},add:function(t){this.rectify()&&("below"!=t&&"above"!=t||this.addRow(t),"before"!=t&&"after"!=t||this.addColumn(t))},addColCell:function(t,e,n){var r,s=t.el.tagName.toLowerCase();switch(n){case"before":r=!t.isColspan||t.firstCol;break;case"after":r=!t.isColspan||t.lastCol||t.isColspan&&c.el==this.cell}if(r){switch(n){case"before":t.el.parentNode.insertBefore(this.createCells(s,1),t.el);break;case"after":o(t.el,this.createCells(s,1))}t.isRowspan&&this.handleCellAddWithRowspan(t,e+1,n)}else t.el.setAttribute("colspan",parseInt(i.getAttribute(t.el,"colspan"),10)+1)},addColumn:function(t){var e,n;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),"after"==t&&i.getAttribute(this.cell,"colspan")&&(this.idx.col=this.idx.col+parseInt(i.getAttribute(this.cell,"colspan"),10)-1),this.idx!==!1)for(var o=0,r=this.map.length;o<r;o++)e=this.map[o],e[this.idx.col]&&(n=e[this.idx.col],n.modified||(this.setCellAsModified(n),this.addColCell(n,o,t)))},handleCellAddWithRowspan:function(t,e,n){for(var s,a,l,c=parseInt(i.getAttribute(this.cell,"rowspan"),10)-1,u=i.getParentElement(t.el,{nodeName:["TR"]}),d=t.el.tagName.toLowerCase(),f=this.table.ownerDocument,h=0;h<c;h++)if(s=this.correctColIndexForUnreals(this.idx.col,e+h),u=r(u,"tr"))if(s>0)switch(n){case"before":a=this.getRowCells(u),s>0&&this.map[e+h][this.idx.col].el!=a[s]&&s==a.length-1?o(a[s],this.createCells(d,1)):a[s].parentNode.insertBefore(this.createCells(d,1),a[s]);break;case"after":o(this.getRowCells(u)[s],this.createCells(d,1))}else u.insertBefore(this.createCells(d,1),u.firstChild);else l=f.createElement("tr"),l.appendChild(this.createCells(d,1)),this.table.appendChild(l)}},i.table={getCellsBetween:function(t,e){var n=new a(t);return n.getMapElsTo(e)},addCells:function(t,e){var n=new a(t);n.add(e)},removeCells:function(t,e){var n=new a(t);n.remove(e)},mergeCellsBetween:function(t,e){var n=new a(t);n.merge(e)},unmergeCell:function(t){var e=new a(t);e.unmerge()},orderSelectionEnds:function(t,e){var n=new a(t);return n.orderSelectionEnds(e)},indexOf:function(t){var e=new a(t);return e.setTableMap(),e.getMapIndex(t)},findCell:function(t,e){var n=new a(null,t);return n.getElementAtIndex(e)},findRowByCell:function(t){var e=new a(t);return e.getRowElementsByCell()},findColumnByCell:function(t){var e=new a(t);return e.getColumnElementsByCell()},canMerge:function(t,e){var n=new a(t);return n.canMerge(e)}}}(wysihtml5),wysihtml5.dom.query=function(t,e){var n,o=[];t.nodeType&&(t=[t]);for(var r=0,i=t.length;r<i;r++)if(n=t[r].querySelectorAll(e))for(var s=n.length;s--;o.unshift(n[s]));return o},wysihtml5.dom.compareDocumentPosition=function(){var t=document.documentElement;return t.compareDocumentPosition?function(t,e){return t.compareDocumentPosition(e)}:function(t,e){var n,o;if(n=9===t.nodeType?t:t.ownerDocument,o=9===e.nodeType?e:e.ownerDocument,t===e)return 0;if(t===e.ownerDocument)return 20;if(t.ownerDocument===e)return 10;if(n!==o)return 1;if(2===t.nodeType&&t.childNodes&&wysihtml5.lang.array(t.childNodes).indexOf(e)!==-1)return 20;if(2===e.nodeType&&e.childNodes&&wysihtml5.lang.array(e.childNodes).indexOf(t)!==-1)return 10;for(var r=t,i=[],s=null;r;){if(r==e)return 10;i.push(r),r=r.parentNode}for(r=e,s=null;r;){if(r==t)return 20;var a=wysihtml5.lang.array(i).indexOf(r);if(a!==-1){var l=i[a],c=wysihtml5.lang.array(l.childNodes).indexOf(i[a-1]),u=wysihtml5.lang.array(l.childNodes).indexOf(s);return c>u?2:4}s=r,r=r.parentNode}return 1}}(),wysihtml5.dom.unwrap=function(t){if(t.parentNode){for(;t.lastChild;)wysihtml5.dom.insert(t.lastChild).after(t);t.parentNode.removeChild(t)}},wysihtml5.quirks.cleanPastedHTML=function(){function t(t,n,o){n=n||e,o=o||t.ownerDocument||document;var r,i,s,a,l,c,u="string"==typeof t,d=0;r=u?wysihtml5.dom.getAsDom(t,o):t;for(l in n)for(s=r.querySelectorAll(l),i=n[l],a=s.length;d<a;d++)i(s[d]);var f=wysihtml5.dom.getTextNodes(r);for(c=f.length;c--;)f[c].nodeValue=f[c].nodeValue.replace(/([\S\u00A0])\u00A0/gi,"$1 ");return s=t=n=null,u?r.innerHTML:r}var e={"a u":wysihtml5.dom.replaceWithChildNodes};return t}(),wysihtml5.quirks.ensureProperClearing=function(){var t=function(){var t=this;setTimeout(function(){var e=t.innerHTML.toLowerCase();"<p>&nbsp;</p>"!=e&&"<p>&nbsp;</p><p>&nbsp;</p>"!=e||(t.innerHTML="")},0)};return function(e){wysihtml5.dom.observe(e.element,["cut","keydown"],t)}}(),function(t){var e="%7E";t.quirks.getCorrectInnerHTML=function(n){var o=n.innerHTML;if(o.indexOf(e)===-1)return o;var r,i,s,a,l=n.querySelectorAll("[href*='~'], [src*='~']");for(a=0,s=l.length;a<s;a++)r=l[a].href||l[a].src,i=t.lang.string(r).replace("~").by(e),o=t.lang.string(o).replace(i).by(r);return o}}(wysihtml5),function(t){var e="wysihtml5-quirks-redraw";t.quirks.redraw=function(n){t.dom.addClass(n,e),t.dom.removeClass(n,e);try{var o=n.ownerDocument;o.execCommand("italic",!1,null),o.execCommand("italic",!1,null)}catch(t){}}}(wysihtml5),wysihtml5.quirks.tableCellsSelection=function(t,e){function n(){return u.observe(t,"mousedown",function(t){var e=wysihtml5.dom.getParentElement(t.target,{nodeName:["TD","TH"]});e&&o(e)}),d}function o(n){d.start=n,d.end=n,d.cells=[n],d.table=u.getParentElement(d.start,{nodeName:["TABLE"]}),d.table&&(r(),u.addClass(n,f),h=u.observe(t,"mousemove",s),p=u.observe(t,"mouseup",a),e.fire("tableselectstart").fire("tableselectstart:composer"))}function r(){if(t){var e=t.querySelectorAll("."+f);if(e.length>0)for(var n=0;n<e.length;n++)u.removeClass(e[n],f)}}function i(t){for(var e=0;e<t.length;e++)u.addClass(t[e],f)}function s(t){var n,o=null,s=u.getParentElement(t.target,{nodeName:["TD","TH"]});s&&d.table&&d.start&&(o=u.getParentElement(s,{nodeName:["TABLE"]}),o&&o===d.table&&(r(),n=d.end,d.end=s,d.cells=u.table.getCellsBetween(d.start,s),d.cells.length>1&&e.composer.selection.deselect(),i(d.cells),d.end!==n&&e.fire("tableselectchange").fire("tableselectchange:composer")))}function a(){h.stop(),p.stop(),e.fire("tableselect").fire("tableselect:composer"),setTimeout(function(){l()},0)}function l(){var n=u.observe(t.ownerDocument,"click",function(t){n.stop(),u.getParentElement(t.target,{nodeName:["TABLE"]})!=d.table&&(r(),d.table=null,d.start=null,d.end=null,e.fire("tableunselect").fire("tableunselect:composer"))})}function c(t,n){d.start=t,d.end=n,d.table=u.getParentElement(d.start,{nodeName:["TABLE"]}),selectedCells=u.table.getCellsBetween(d.start,d.end),i(selectedCells),l(),e.fire("tableselect").fire("tableselect:composer")}var u=wysihtml5.dom,d={table:null,start:null,end:null,cells:null,select:c},f="wysiwyg-tmp-selected-cell",h=null,p=null;return n()},function(t){var e=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([\d\.]+)\s*\)/i,n=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/i,o=/^#([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])/i,r=/^#([0-9a-f])([0-9a-f])([0-9a-f])/i,i=function(t){return new RegExp("(^|\\s|;)"+t+"\\s*:\\s*[^;$]+","gi")};t.quirks.styleParser={parseColor:function(s,a){var l,c,u=i(a),d=s.match(u),f=10;if(d){for(var h=d.length;h--;)d[h]=t.lang.string(d[h].split(":")[1]).trim();if(l=d[d.length-1],e.test(l))c=l.match(e);else if(n.test(l))c=l.match(n);else if(o.test(l))c=l.match(o),f=16;else if(r.test(l))return c=l.match(r),c.shift(),c.push(1),t.lang.array(c).map(function(t,e){return e<3?16*parseInt(t,16)+parseInt(t,16):parseFloat(t)});if(c)return c.shift(),c[3]||c.push(1),t.lang.array(c).map(function(t,e){return e<3?parseInt(t,f):parseFloat(t)})}return!1},unparseColor:function(t,e){if(e){if("hex"==e)return t[0].toString(16).toUpperCase()+t[1].toString(16).toUpperCase()+t[2].toString(16).toUpperCase();if("hash"==e)return"#"+t[0].toString(16).toUpperCase()+t[1].toString(16).toUpperCase()+t[2].toString(16).toUpperCase();if("rgb"==e)return"rgb("+t[0]+","+t[1]+","+t[2]+")";if("rgba"==e)return"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")";if("csv"==e)return t[0]+","+t[1]+","+t[2]+","+t[3]}return t[3]&&1!==t[3]?"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")":"rgb("+t[0]+","+t[1]+","+t[2]+")"},parseFontSize:function(e){var n=e.match(i("font-size"));return!!n&&t.lang.string(n[n.length-1].split(":")[1]).trim()}}}(wysihtml5),function(t){function e(t){var e=0;if(t.parentNode)do e+=t.offsetTop||0,t=t.offsetParent;while(t);return e}function n(t,e){for(var n=0;e!==t;)if(n++,e=e.parentNode,!e)throw new Error("not a descendant of ancestor!");return n}function o(t){if(!t.canSurroundContents())for(var e=t.commonAncestorContainer,o=n(e,t.startContainer),r=n(e,t.endContainer);!t.canSurroundContents();)o>r?(t.setStartBefore(t.startContainer),o=n(e,t.startContainer)):(t.setEndAfter(t.endContainer),r=n(e,t.endContainer))}var r=t.dom;t.Selection=Base.extend({constructor:function(t,e,n){window.rangy.init(),this.editor=t,this.composer=t.composer,this.doc=this.composer.doc,this.contain=e,this.unselectableClass=n||!1},getBookmark:function(){var t=this.getRange();return t&&o(t),t&&t.cloneRange()},setBookmark:function(t){t&&this.setSelection(t)},setBefore:function(t){var e=rangy.createRange(this.doc);return e.setStartBefore(t),e.setEndBefore(t),this.setSelection(e)},setAfter:function(t){var e=rangy.createRange(this.doc);return e.setStartAfter(t),e.setEndAfter(t),this.setSelection(e)},selectNode:function(e,n){var o=rangy.createRange(this.doc),i=e.nodeType===t.ELEMENT_NODE,s="canHaveHTML"in e?e.canHaveHTML:"IMG"!==e.nodeName,a=i?e.innerHTML:e.data,l=""===a||a===t.INVISIBLE_SPACE,c=r.getStyle("display").from(e),u="block"===c||"list-item"===c;if(l&&i&&s&&!n)try{e.innerHTML=t.INVISIBLE_SPACE}catch(t){}s?o.selectNodeContents(e):o.selectNode(e),s&&l&&i?o.collapse(u):s&&l&&(o.setStartAfter(e),o.setEndAfter(e)),this.setSelection(o)},getSelectedNode:function(t){var e,n;return t&&this.doc.selection&&"Control"===this.doc.selection.type&&(n=this.doc.selection.createRange(),n&&n.length)?n.item(0):(e=this.getSelection(this.doc),e.focusNode===e.anchorNode?e.focusNode:(n=this.getRange(this.doc),n?n.commonAncestorContainer:this.doc.body))},fixSelBorders:function(){var t=this.getRange();o(t),this.setSelection(t)},getSelectedOwnNodes:function(){for(var t=this.getOwnRanges(),e=[],n=0,o=t.length;n<o;n++)e.push(t[n].commonAncestorContainer||this.doc.body);return e},findNodesInSelection:function(e){for(var n,o=this.getOwnRanges(),r=[],i=0,s=o.length;i<s;i++)n=o[i].getNodes([1],function(n){return t.lang.array(e).contains(n.nodeName)}),r=r.concat(n);return r},containsUneditable:function(){for(var t=this.getOwnUneditables(),e=this.getSelection(),n=0,o=t.length;n<o;n++)if(e.containsNode(t[n]))return!0;return!1},deleteContents:function(){for(var t=this.getOwnRanges(),e=t.length;e--;)t[e].deleteContents();this.setSelection(t[0])},getPreviousNode:function(e,n){if(!e){var o=this.getSelection();e=o.anchorNode}if(e===this.contain)return!1;var r,i=e.previousSibling;return i!==this.contain&&(i&&3!==i.nodeType&&1!==i.nodeType?i=this.getPreviousNode(i,n):i&&3===i.nodeType&&/^\s*$/.test(i.textContent)?i=this.getPreviousNode(i,n):n&&i&&1===i.nodeType&&!t.lang.array(["BR","HR","IMG"]).contains(i.nodeName)&&/^[\s]*$/.test(i.innerHTML)?i=this.getPreviousNode(i,n):i||e===this.contain||(r=e.parentNode,r!==this.contain&&(i=this.getPreviousNode(r,n))),i!==this.contain&&i)},getSelectionParentsByTag:function(){for(var e,n=this.getSelectedOwnNodes(),o=[],r=0,i=n.length;r<i;r++)e=n[r].nodeName&&"LI"===n[r].nodeName?n[r]:t.dom.getParentElement(n[r],{nodeName:["LI"]},!1,this.contain),e&&o.push(e);return o.length?o:null},getRangeToNodeEnd:function(){if(this.isCollapsed()){var t=this.getRange(),e=t.startContainer,n=t.startOffset,o=rangy.createRange(this.doc);return o.selectNodeContents(e),o.setStart(e,n),o}},caretIsLastInSelection:function(){var t=(rangy.createRange(this.doc),this.getSelection(),this.getRangeToNodeEnd().cloneContents()),e=t.textContent;return/^\s*$/.test(e)},caretIsFirstInSelection:function(){var e=rangy.createRange(this.doc),n=this.getSelection(),o=this.getRange(),r=o.startContainer;return r.nodeType===t.TEXT_NODE?this.isCollapsed()&&r.nodeType===t.TEXT_NODE&&/^\s*$/.test(r.data.substr(0,o.startOffset)):(e.selectNodeContents(this.getRange().commonAncestorContainer),e.collapse(!0),this.isCollapsed()&&(e.startContainer===n.anchorNode||e.endContainer===n.anchorNode)&&e.startOffset===n.anchorOffset)},caretIsInTheBeginnig:function(e){var n=this.getSelection(),o=n.anchorNode,r=n.anchorOffset;return e?0===r&&(o.nodeName&&o.nodeName===e.toUpperCase()||t.dom.getParentElement(o.parentNode,{nodeName:e},1)):0===r&&!this.getPreviousNode(o,!0)},caretIsBeforeUneditable:function(){var t=this.getSelection(),e=t.anchorNode,n=t.anchorOffset;if(0===n){var o=this.getPreviousNode(e,!0);if(o)for(var r=this.getOwnUneditables(),i=0,s=r.length;i<s;i++)if(o===r[i])return r[i]}return!1},executeAndRestoreRangy:function(t){var e=this.doc.defaultView||this.doc.parentWindow,n=rangy.saveSelection(e);if(n)try{t()}catch(t){setTimeout(function(){throw t},0)}else t();rangy.restoreSelection(n)},executeAndRestore:function(e,n){var o,i,s,a,l,c,u,d,f=this.doc.body,h=n&&f.scrollTop,p=n&&f.scrollLeft,m="_wysihtml5-temp-placeholder",g='<span class="'+m+'">'+t.INVISIBLE_SPACE+"</span>",y=this.getRange(!0);if(!y)return void e(f,f);y.collapsed||(u=y.cloneRange(),c=u.createContextualFragment(g),u.collapse(!1),u.insertNode(c),u.detach()),l=y.createContextualFragment(g),y.insertNode(l),c&&(o=this.contain.querySelectorAll("."+m),y.setStartBefore(o[0]),y.setEndAfter(o[o.length-1])),this.setSelection(y);try{e(y.startContainer,y.endContainer)}catch(t){setTimeout(function(){throw t},0)}if(o=this.contain.querySelectorAll("."+m),o&&o.length){d=rangy.createRange(this.doc),s=o[0].nextSibling,o.length>1&&(a=o[o.length-1].previousSibling),a&&s?(d.setStartBefore(s),d.setEndAfter(a)):(i=this.doc.createTextNode(t.INVISIBLE_SPACE),r.insert(i).after(o[0]),d.setStartBefore(i),d.setEndAfter(i)),this.setSelection(d);for(var v=o.length;v--;)o[v].parentNode.removeChild(o[v])}else this.contain.focus();n&&(f.scrollTop=h,f.scrollLeft=p);try{o.parentNode.removeChild(o)}catch(t){}},set:function(t,e){var n=rangy.createRange(this.doc);n.setStart(t,e||0),this.setSelection(n)},insertHTML:function(t){var e=rangy.createRange(this.doc),n=e.createContextualFragment(t),o=n.lastChild;this.insertNode(n),o&&this.setAfter(o)},insertNode:function(t){var e=this.getRange();e&&e.insertNode(t)},surround:function(t){var e,n=this.getOwnRanges(),o=[];if(0==n.length)return o;for(var r=n.length;r--;){e=this.doc.createElement(t.nodeName),o.push(e),t.className&&(e.className=t.className),t.cssStyle&&e.setAttribute("style",t.cssStyle);try{n[r].surroundContents(e),this.selectNode(e)}catch(t){e.appendChild(n[r].extractContents()),n[r].insertNode(e)}}return o},deblockAndSurround:function(e){var n,o,r,i=this.doc.createElement("div"),s=rangy.createRange(this.doc);if(i.className=e.className,this.composer.commands.exec("formatBlock",e.nodeName,e.className),n=this.contain.querySelectorAll("."+e.className),n[0])for(n[0].parentNode.insertBefore(i,n[0]),s.setStartBefore(n[0]),s.setEndAfter(n[n.length-1]),o=s.extractContents();o.firstChild;)if(r=o.firstChild,1==r.nodeType&&t.dom.hasClass(r,e.className)){for(;r.firstChild;)i.appendChild(r.firstChild);"BR"!==r.nodeName&&i.appendChild(this.doc.createElement("br")),o.removeChild(r)}else i.appendChild(r);else i=null;return i},scrollIntoView:function(){var n,o=this.doc,r=5,i=o.documentElement.scrollHeight>o.documentElement.offsetHeight,s=o._wysihtml5ScrollIntoViewElement=o._wysihtml5ScrollIntoViewElement||function(){var e=o.createElement("span");return e.innerHTML=t.INVISIBLE_SPACE,e}();i&&(this.insertNode(s),n=e(s),s.parentNode.removeChild(s),n>=o.body.scrollTop+o.documentElement.offsetHeight-r&&(o.body.scrollTop=n))},selectLine:function(){t.browser.supportsSelectionModify()?this._selectLine_W3C():this.doc.selection&&this._selectLine_MSIE()},_selectLine_W3C:function(){var t=this.doc.defaultView,e=t.getSelection();e.modify("move","left","lineboundary"),e.modify("extend","right","lineboundary")},_selectLine_MSIE:function(){var t,e,n,o,r,i=this.doc.selection.createRange(),s=i.boundingTop,a=this.doc.body.scrollWidth;if(i.moveToPoint){for(0===s&&(n=this.doc.createElement("span"),this.insertNode(n),s=n.offsetTop,n.parentNode.removeChild(n)),s+=1,o=-10;o<a;o+=2)try{i.moveToPoint(o,s);break}catch(t){}for(t=s,e=this.doc.selection.createRange(),r=a;r>=0;r--)try{e.moveToPoint(r,t);break}catch(t){}i.setEndPoint("EndToEnd",e),i.select()}},getText:function(){var t=this.getSelection();return t?t.toString():""},getNodes:function(t,e){var n=this.getRange();return n?n.getNodes([t],e):[]},fixRangeOverflow:function(t){if(this.contain&&this.contain.firstChild&&t){var e=t.compareNode(this.contain);if(2!==e)1===e&&t.setStartBefore(this.contain.firstChild),0===e&&t.setEndAfter(this.contain.lastChild),3===e&&(t.setStartBefore(this.contain.firstChild),t.setEndAfter(this.contain.lastChild));else if(this._detectInlineRangeProblems(t)){var n=t.endContainer.previousElementSibling;n&&t.setEnd(n,this._endOffsetForNode(n))}}},_endOffsetForNode:function(t){var e=document.createRange();return e.selectNodeContents(t),e.endOffset},_detectInlineRangeProblems:function(t){var e=r.compareDocumentPosition(t.startContainer,t.endContainer);return 0==t.endOffset&&4&e},getRange:function(t){var e=this.getSelection(),n=e&&e.rangeCount&&e.getRangeAt(0);return t!==!0&&this.fixRangeOverflow(n),n},getOwnUneditables:function(){var e=r.query(this.contain,"."+this.unselectableClass),n=r.query(e,"."+this.unselectableClass);return t.lang.array(e).without(n)},getOwnRanges:function(){var t,e=[],n=this.getRange();if(n&&e.push(n),this.unselectableClass&&this.contain&&n){var o,r=this.getOwnUneditables();if(r.length>0)for(var i=0,s=r.length;i<s;i++){t=[];for(var a=0,l=e.length;a<l;a++){if(e[a])switch(e[a].compareNode(r[i])){case 2:break;case 3:o=e[a].cloneRange(),o.setEndBefore(r[i]),t.push(o),o=e[a].cloneRange(),o.setStartAfter(r[i]),t.push(o);break;default:t.push(e[a])}e=t}}}return e},getSelection:function(){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow)},setSelection:function(t){var e=this.doc.defaultView||this.doc.parentWindow,n=rangy.getSelection(e);return n.setSingleRange(t)},createRange:function(){return rangy.createRange(this.doc)},isCollapsed:function(){return this.getSelection().isCollapsed},isEndToEndInNode:function(e){var n=this.getRange(),o=n.commonAncestorContainer,r=n.startContainer,i=n.endContainer;if(o.nodeType===t.TEXT_NODE&&(o=o.parentNode),r.nodeType===t.TEXT_NODE&&!/^\s*$/.test(r.data.substr(n.startOffset)))return!1;if(i.nodeType===t.TEXT_NODE&&!/^\s*$/.test(i.data.substr(n.endOffset)))return!1;for(;r&&r!==o;){if(r.nodeType!==t.TEXT_NODE&&!t.dom.contains(o,r))return!1;if(t.dom.domNode(r).prev({ignoreBlankTexts:!0}))return!1;r=r.parentNode}for(;i&&i!==o;){if(i.nodeType!==t.TEXT_NODE&&!t.dom.contains(o,i))return!1;if(t.dom.domNode(i).next({ignoreBlankTexts:!0}))return!1;i=i.parentNode}return!!t.lang.array(e).contains(o.nodeName)&&o},deselect:function(){var t=this.getSelection();t&&t.removeAllRanges()}})}(wysihtml5),function(t,e){function n(t,e,n){if(!t.className)return!1;var o=t.className.match(n)||[];return o[o.length-1]===e}function o(t,e){if(!t.getAttribute||!t.getAttribute("style"))return!1;t.getAttribute("style").match(e);return!!t.getAttribute("style").match(e)}function r(t,e,n){t.getAttribute("style")?(a(t,n),t.getAttribute("style")&&!/^\s*$/.test(t.getAttribute("style"))?t.setAttribute("style",e+";"+t.getAttribute("style")):t.setAttribute("style",e)):t.setAttribute("style",e)}function i(t,e,n){t.className?(s(t,n),t.className+=" "+e):t.className=e}function s(t,e){t.className&&(t.className=t.className.replace(e,""))}function a(t,e){var n,o=[];if(t.getAttribute("style")){n=t.getAttribute("style").split(";");for(var r=n.length;r--;)n[r].match(e)||/^\s*$/.test(n[r])||o.push(n[r]);o.length?t.setAttribute("style",o.join(";")):t.removeAttribute("style")}}function l(t,e){var n=[],o=e.split(";"),r=t.getAttribute("style");if(r){r=r.replace(/\s/gi,"").toLowerCase(),n.push(new RegExp("(^|\\s|;)"+e.replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));for(var i=o.length;i-- >0;)/^\s*$/.test(o[i])||n.push(new RegExp("(^|\\s|;)"+o[i].replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));for(var s=0,a=n.length;s<a;s++)if(r.match(n[s]))return n[s]}return!1}function c(n,o,r,i){return r?l(n,r):i?t.dom.hasClass(n,i):e.dom.arrayContains(o,n.tagName.toLowerCase())}function u(t,e,n,o){for(var r=t.length;r--;)if(!c(t[r],e,n,o))return!1;return!!t.length}function d(t,e,n){var o=l(t,e);return o?(a(t,o),"remove"):(r(t,e,n),"change")}function f(t,e){return t.className.replace(w," ")==e.className.replace(w," ")}function h(t){for(var e=t.parentNode;t.firstChild;)e.insertBefore(t.firstChild,t);e.removeChild(t)}function p(t,e){if(t.attributes.length!=e.attributes.length)return!1;for(var n,o,r,i=0,s=t.attributes.length;i<s;++i)if(n=t.attributes[i],r=n.name,"class"!=r){if(o=e.attributes.getNamedItem(r),n.specified!=o.specified)return!1;if(n.specified&&n.nodeValue!==o.nodeValue)return!1}return!0}function m(t,n){return e.dom.isCharacterDataNode(t)?0==n?!!t.previousSibling:n!=t.length||!!t.nextSibling:n>0&&n<t.childNodes.length}function g(t,n,o,r){var i;if(e.dom.isCharacterDataNode(n)&&(0==o?(o=e.dom.getNodeIndex(n),n=n.parentNode):o==n.length?(o=e.dom.getNodeIndex(n)+1,n=n.parentNode):i=e.dom.splitDataNode(n,o)),!(i||r&&n===r)){i=n.cloneNode(!1),i.id&&i.removeAttribute("id");for(var s;s=n.childNodes[o];)i.appendChild(s);e.dom.insertAfter(i,n)}return n==t?i:g(t,i.parentNode,e.dom.getNodeIndex(i),r)}function y(e){this.isElementMerge=e.nodeType==t.ELEMENT_NODE,this.firstTextNode=this.isElementMerge?e.lastChild:e,this.textNodes=[this.firstTextNode]}function v(t,e,n,o,r,i,s){this.tagNames=t||[b],this.cssClass=e||e!==!1&&"",this.similarClassRegExp=n,this.cssStyle=r||"",this.similarStyleRegExp=i,this.normalize=o,this.applyToAnyTagName=!1,this.container=s}var b="span",w=/\s+/g;y.prototype={doMerge:function(){for(var t,e,n,o=[],r=0,i=this.textNodes.length;r<i;++r)t=this.textNodes[r],e=t.parentNode,o[r]=t.data,r&&(e.removeChild(t),e.hasChildNodes()||e.parentNode.removeChild(e));return this.firstTextNode.data=n=o.join(""),n},getLength:function(){for(var t=this.textNodes.length,e=0;t--;)e+=this.textNodes[t].length;return e},toString:function(){for(var t=[],e=0,n=this.textNodes.length;e<n;++e)t[e]="'"+this.textNodes[e].data+"'";return"[Merge("+t.join(",")+")]"}},v.prototype={getAncestorWithClass:function(o){for(var r;o;){if(r=this.cssClass?n(o,this.cssClass,this.similarClassRegExp):""===this.cssStyle,o.nodeType==t.ELEMENT_NODE&&"false"!=o.getAttribute("contenteditable")&&e.dom.arrayContains(this.tagNames,o.tagName.toLowerCase())&&r)return o;o=o.parentNode}return!1},getAncestorWithStyle:function(n){for(var r;n;){if(r=!!this.cssStyle&&o(n,this.similarStyleRegExp),n.nodeType==t.ELEMENT_NODE&&"false"!=n.getAttribute("contenteditable")&&e.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())&&r)return n;n=n.parentNode}return!1},getMatchingAncestor:function(t){var e=this.getAncestorWithClass(t),n=!1;return e?this.cssStyle&&(n="class"):(e=this.getAncestorWithStyle(t),e&&(n="style")),{element:e,type:n}},postApply:function(t,e){for(var n,o,r,i=t[0],s=t[t.length-1],a=[],l=i,c=s,u=0,d=s.length,f=0,h=t.length;f<h;++f)o=t[f],r=null,o&&o.parentNode&&(r=this.getAdjacentMergeableTextNode(o.parentNode,!1)),r?(n||(n=new y(r),a.push(n)),n.textNodes.push(o),o===i&&(l=n.firstTextNode,u=l.length),o===s&&(c=n.firstTextNode,d=n.getLength())):n=null;if(s&&s.parentNode){var p=this.getAdjacentMergeableTextNode(s.parentNode,!0);p&&(n||(n=new y(s),a.push(n)),n.textNodes.push(p))}if(a.length){for(f=0,h=a.length;f<h;++f)a[f].doMerge();e.setStart(l,u),e.setEnd(c,d)}},getAdjacentMergeableTextNode:function(e,n){var o,r=e.nodeType==t.TEXT_NODE,i=r?e.parentNode:e,s=n?"nextSibling":"previousSibling";if(r){if(o=e[s],o&&o.nodeType==t.TEXT_NODE)return o}else if(o=i[s],o&&this.areElementsMergeable(e,o))return o[n?"firstChild":"lastChild"];return null},areElementsMergeable:function(t,n){return e.dom.arrayContains(this.tagNames,(t.tagName||"").toLowerCase())&&e.dom.arrayContains(this.tagNames,(n.tagName||"").toLowerCase())&&f(t,n)&&p(t,n)},createContainer:function(t){var e=t.createElement(this.tagNames[0]);return this.cssClass&&(e.className=this.cssClass),this.cssStyle&&e.setAttribute("style",this.cssStyle),e},applyToTextNode:function(t){var n=t.parentNode;if(1==n.childNodes.length&&e.dom.arrayContains(this.tagNames,n.tagName.toLowerCase()))this.cssClass&&i(n,this.cssClass,this.similarClassRegExp),this.cssStyle&&r(n,this.cssStyle,this.similarStyleRegExp);else{var o=this.createContainer(e.dom.getDocument(t));t.parentNode.insertBefore(o,t),o.appendChild(t)}},isRemovable:function(n){return e.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())&&""===t.lang.string(n.className).trim()&&(!n.getAttribute("style")||""===t.lang.string(n.getAttribute("style")).trim())},undoToTextNode:function(t,e,n,o){var r=!n,i=n||o,a=!1;if(!e.containsNode(i)){var l=e.cloneRange();l.selectNode(i),l.isPointInRange(e.endContainer,e.endOffset)&&m(e.endContainer,e.endOffset)&&(g(i,e.endContainer,e.endOffset,this.container),e.setEndAfter(i)),l.isPointInRange(e.startContainer,e.startOffset)&&m(e.startContainer,e.startOffset)&&(i=g(i,e.startContainer,e.startOffset,this.container))}!r&&this.similarClassRegExp&&s(i,this.similarClassRegExp),r&&this.similarStyleRegExp&&(a="change"===d(i,this.cssStyle,this.similarStyleRegExp)),this.isRemovable(i)&&!a&&h(i)},applyToRange:function(e){for(var n,o=e.length;o--;){if(n=e[o].getNodes([t.TEXT_NODE]),!n.length)try{var r=this.createContainer(e[o].endContainer.ownerDocument);return e[o].surroundContents(r),void this.selectNode(e[o],r)}catch(t){}if(e[o].splitBoundaries(),n=e[o].getNodes([t.TEXT_NODE]),n.length){for(var i,s=0,a=n.length;s<a;++s)i=n[s],this.getMatchingAncestor(i).element||this.applyToTextNode(i);e[o].setStart(n[0],0),i=n[n.length-1],e[o].setEnd(i,i.length),this.normalize&&this.postApply(n,e[o])}}},undoToRange:function(e){for(var n,o,r,i=e.length;i--;){if(n=e[i].getNodes([t.TEXT_NODE]),n.length)e[i].splitBoundaries(),n=e[i].getNodes([t.TEXT_NODE]);else{var s=e[i].endContainer.ownerDocument,a=s.createTextNode(t.INVISIBLE_SPACE);e[i].insertNode(a),e[i].selectNode(a),n=[a]}for(var l=0,c=n.length;l<c;++l)e[i].isValid()&&(o=n[l],r=this.getMatchingAncestor(o),"style"===r.type?this.undoToTextNode(o,e[i],!1,r.element):r.element&&this.undoToTextNode(o,e[i],r.element));
1==c?this.selectNode(e[i],n[0]):(e[i].setStart(n[0],0),o=n[n.length-1],e[i].setEnd(o,o.length),this.normalize&&this.postApply(n,e[i]))}},selectNode:function(e,n){var o=n.nodeType===t.ELEMENT_NODE,r=!("canHaveHTML"in n)||n.canHaveHTML,i=o?n.innerHTML:n.data,s=""===i||i===t.INVISIBLE_SPACE;if(s&&o&&r)try{n.innerHTML=t.INVISIBLE_SPACE}catch(t){}e.selectNodeContents(n),s&&o?e.collapse(!1):s&&(e.setStartAfter(n),e.setEndAfter(n))},getTextSelectedByRange:function(t,e){var n=e.cloneRange();n.selectNodeContents(t);var o=n.intersection(e),r=o?o.toString():"";return n.detach(),r},isAppliedToRange:function(e){for(var n,o,r=[],i="full",s=e.length;s--;){if(o=e[s].getNodes([t.TEXT_NODE]),!o.length)return n=this.getMatchingAncestor(e[s].startContainer).element,!!n&&{elements:[n],coverage:i};for(var a,l=0,c=o.length;l<c;++l)a=this.getTextSelectedByRange(o[l],e[s]),n=this.getMatchingAncestor(o[l]).element,n&&""!=a?(r.push(n),1===t.dom.getTextNodes(n,!0).length?i="full":"full"===i&&(i="inline")):n||(i="partial")}return!!r.length&&{elements:r,coverage:i}},toggleRange:function(t){var e,n=this.isAppliedToRange(t);n?"full"===n.coverage?this.undoToRange(t):"inline"===n.coverage?(e=u(n.elements,this.tagNames,this.cssStyle,this.cssClass),this.undoToRange(t),e||this.applyToRange(t)):(u(n.elements,this.tagNames,this.cssStyle,this.cssClass)||this.undoToRange(t),this.applyToRange(t)):this.applyToRange(t)}},t.selection.HTMLApplier=v}(wysihtml5,rangy),wysihtml5.Commands=Base.extend({constructor:function(t){this.editor=t,this.composer=t.composer,this.doc=this.composer.doc},support:function(t){return wysihtml5.browser.supportsCommand(this.doc,t)},exec:function(t,e){var n=wysihtml5.commands[t],o=wysihtml5.lang.array(arguments).get(),r=n&&n.exec,i=null;if(this.editor.fire("beforecommand:composer"),r)o.unshift(this.composer),i=r.apply(n,o);else try{i=this.doc.execCommand(t,!1,e)}catch(t){}return this.editor.fire("aftercommand:composer"),i},state:function(t){var e=wysihtml5.commands[t],n=wysihtml5.lang.array(arguments).get(),o=e&&e.state;if(o)return n.unshift(this.composer),o.apply(e,n);try{return this.doc.queryCommandState(t)}catch(t){return!1}},stateValue:function(t){var e=wysihtml5.commands[t],n=wysihtml5.lang.array(arguments).get(),o=e&&e.stateValue;return!!o&&(n.unshift(this.composer),o.apply(e,n))}}),wysihtml5.commands.bold={exec:function(t,e){wysihtml5.commands.formatInline.execWithToggle(t,e,"b")},state:function(t,e){return wysihtml5.commands.formatInline.state(t,e,"b")}},function(t){function e(e,n){var s,a,l,c,u,d,f,h,p,m=e.doc,g="_wysihtml5-temp-"+ +new Date,y=/non-matching-class/g,v=0;for(t.commands.formatInline.exec(e,o,r,g,y,o,o,!0,!0),a=m.querySelectorAll(r+"."+g),s=a.length;v<s;v++){l=a[v],l.removeAttribute("class");for(p in n)"text"!==p&&l.setAttribute(p,n[p])}d=l,1===s&&(f=i.getTextContent(l),c=!!l.querySelector("*"),u=""===f||f===t.INVISIBLE_SPACE,!c&&u&&(i.setTextContent(l,n.text||l.href),h=m.createTextNode(" "),e.selection.setAfter(l),i.insert(h).after(l),d=h)),e.selection.setAfter(d)}function n(t,e,n){for(var o,r=e.length;r--;){o=e[r].attributes;for(var i=o.length;i--;)e[r].removeAttribute(o.item(i).name);for(var s in n)n.hasOwnProperty(s)&&e[r].setAttribute(s,n[s])}}var o,r="A",i=t.dom;t.commands.createLink={exec:function(t,o,r){var i=this.state(t,o);i?t.selection.executeAndRestore(function(){n(t,i,r)}):(r="object"==typeof r?r:{href:r},e(t,r))},state:function(e,n){return t.commands.formatInline.state(e,n,"A")}}}(wysihtml5),function(t){function e(t,e){for(var o,r,i,s=e.length,a=0;a<s;a++)o=e[a],r=n.getParentElement(o,{nodeName:"code"}),i=n.getTextContent(o),i.match(n.autoLink.URL_REG_EXP)&&!r?r=n.renameElement(o,"code"):n.replaceWithChildNodes(o)}var n=t.dom;t.commands.removeLink={exec:function(t,n){var o=this.state(t,n);o&&t.selection.executeAndRestore(function(){e(t,o)})},state:function(e,n){return t.commands.formatInline.state(e,n,"A")}}}(wysihtml5),function(t){var e=/wysiwyg-font-size-[0-9a-z\-]+/g;t.commands.fontSize={exec:function(n,o,r){t.commands.formatInline.execWithToggle(n,o,"span","wysiwyg-font-size-"+r,e)},state:function(n,o,r){return t.commands.formatInline.state(n,o,"span","wysiwyg-font-size-"+r,e)}}}(wysihtml5),function(t){var e=/(\s|^)font-size\s*:\s*[^;\s]+;?/gi;t.commands.fontSizeStyle={exec:function(n,o,r){r="object"==typeof r?r.size:r,/^\s*$/.test(r)||t.commands.formatInline.execWithToggle(n,o,"span",!1,!1,"font-size:"+r,e)},state:function(n,o){return t.commands.formatInline.state(n,o,"span",!1,!1,"font-size",e)},stateValue:function(e,n){var o,r=this.state(e,n);return r&&t.lang.object(r).isArray()&&(r=r[0]),!(!r||!(o=r.getAttribute("style")))&&t.quirks.styleParser.parseFontSize(o)}}}(wysihtml5),function(t){var e=/wysiwyg-color-[0-9a-z]+/g;t.commands.foreColor={exec:function(n,o,r){t.commands.formatInline.execWithToggle(n,o,"span","wysiwyg-color-"+r,e)},state:function(n,o,r){return t.commands.formatInline.state(n,o,"span","wysiwyg-color-"+r,e)}}}(wysihtml5),function(t){var e=/(\s|^)color\s*:\s*[^;\s]+;?/gi;t.commands.foreColorStyle={exec:function(n,o,r){var i,s=t.quirks.styleParser.parseColor("object"==typeof r?"color:"+r.color:"color:"+r,"color");s&&(i="color: rgb("+s[0]+","+s[1]+","+s[2]+");",1!==s[3]&&(i+="color: rgba("+s[0]+","+s[1]+","+s[2]+","+s[3]+");"),t.commands.formatInline.execWithToggle(n,o,"span",!1,!1,i,e))},state:function(n,o){return t.commands.formatInline.state(n,o,"span",!1,!1,"color",e)},stateValue:function(e,n,o){var r,i=this.state(e,n);return i&&t.lang.object(i).isArray()&&(i=i[0]),!!(i&&(r=i.getAttribute("style"),r&&r))&&(val=t.quirks.styleParser.parseColor(r,"color"),t.quirks.styleParser.unparseColor(val,o))}}}(wysihtml5),function(t){var e=/(\s|^)background-color\s*:\s*[^;\s]+;?/gi;t.commands.bgColorStyle={exec:function(n,o,r){var i,s=t.quirks.styleParser.parseColor("object"==typeof r?"background-color:"+r.color:"background-color:"+r,"background-color");s&&(i="background-color: rgb("+s[0]+","+s[1]+","+s[2]+");",1!==s[3]&&(i+="background-color: rgba("+s[0]+","+s[1]+","+s[2]+","+s[3]+");"),t.commands.formatInline.execWithToggle(n,o,"span",!1,!1,i,e))},state:function(n,o){return t.commands.formatInline.state(n,o,"span",!1,!1,"background-color",e)},stateValue:function(e,n,o){var r,i=this.state(e,n),s=!1;return i&&t.lang.object(i).isArray()&&(i=i[0]),!(!i||!(r=i.getAttribute("style")))&&(s=t.quirks.styleParser.parseColor(r,"background-color"),t.quirks.styleParser.unparseColor(s,o))}}}(wysihtml5),function(t){function e(e,n,r){e.className?(o(e,r),e.className=t.lang.string(e.className+" "+n).trim()):e.className=n}function n(e,n,o){r(e,o),e.getAttribute("style")?e.setAttribute("style",t.lang.string(e.getAttribute("style")+" "+n).trim()):e.setAttribute("style",n)}function o(e,n){var o=n.test(e.className);return e.className=e.className.replace(n,""),""==t.lang.string(e.className).trim()&&e.removeAttribute("class"),o}function r(e,n){var o=n.test(e.getAttribute("style"));return e.setAttribute("style",(e.getAttribute("style")||"").replace(n,"")),""==t.lang.string(e.getAttribute("style")||"").trim()&&e.removeAttribute("style"),o}function i(t){var e=t.lastChild;e&&s(e)&&e.parentNode.removeChild(e)}function s(t){return"BR"===t.nodeName}function a(e,n){e.selection.isCollapsed()&&e.selection.selectLine();for(var o=e.selection.surround(n),r=0,s=o.length;r<s;r++)t.dom.lineBreaks(o[r]).remove(),i(o[r])}function l(e){return!!t.lang.string(e.className).trim()}function c(e){return!!t.lang.string(e.getAttribute("style")||"").trim()}var u=t.dom,d=["H1","H2","H3","H4","H5","H6","P","PRE","DIV"];t.commands.formatBlock={exec:function(i,s,f,h,p,m,g){var y,v,b,w,C,x=(i.doc,this.state(i,s,f,h,p,m,g)),E=i.config.useLineBreaks,T=E?"DIV":"P";return f="string"==typeof f?f.toUpperCase():f,x.length?void i.selection.executeAndRestoreRangy(function(){for(var e=x.length;e--;){if(p&&(v=o(x[e],p)),g&&(w=r(x[e],g)),(w||v)&&null===f&&x[e].nodeName!=T)return;var n=l(x[e]),i=c(x[e]);n||i||!E&&"P"!==f?u.renameElement(x[e],"P"===f?"DIV":T):(t.dom.lineBreaks(x[e]).add(),u.replaceWithChildNodes(x[e]))}}):void((null===f||t.lang.array(d).contains(f))&&(y=i.selection.findNodesInSelection(d).concat(i.selection.getSelectedOwnNodes()),i.selection.executeAndRestoreRangy(function(){for(var t=y.length;t--;)C=u.getParentElement(y[t],{nodeName:d}),C==i.element&&(C=null),C&&(f&&(C=u.renameElement(C,f)),h&&e(C,h,p),m&&n(C,m,g),b=!0)}),b)||a(i,{nodeName:f||T,className:h||null,cssStyle:m||null}))},state:function(e,n,o,r,i,s,a){var l,c=e.selection.getSelectedOwnNodes(),d=[];o="string"==typeof o?o.toUpperCase():o;for(var f=0,h=c.length;f<h;f++)l=u.getParentElement(c[f],{nodeName:o,className:r,classRegExp:i,cssStyle:s,styleRegExp:a}),l&&t.lang.array(d).indexOf(l)==-1&&d.push(l);return 0!=d.length&&d}}}(wysihtml5),wysihtml5.commands.formatCode={exec:function(t,e,n){var o,r,i,s=this.state(t);s?t.selection.executeAndRestore(function(){o=s.querySelector("code"),wysihtml5.dom.replaceWithChildNodes(s),o&&wysihtml5.dom.replaceWithChildNodes(o)}):(r=t.selection.getRange(),i=r.extractContents(),s=t.doc.createElement("pre"),o=t.doc.createElement("code"),n&&(o.className=n),s.appendChild(o),o.appendChild(i),r.insertNode(s),t.selection.selectNode(s))},state:function(t){var e=t.selection.getSelectedNode();return e&&e.nodeName&&"PRE"==e.nodeName&&e.firstChild&&e.firstChild.nodeName&&"CODE"==e.firstChild.nodeName?e:wysihtml5.dom.getParentElement(e,{nodeName:"CODE"})&&wysihtml5.dom.getParentElement(e,{nodeName:"PRE"})}},function(t){function e(t){var e=o[t];return e?[t.toLowerCase(),e.toLowerCase()]:[t.toLowerCase()]}function n(n,o,i,s,a,l){var c=n;return o&&(c+=":"+o),s&&(c+=":"+s),r[c]||(r[c]=new t.selection.HTMLApplier(e(n),o,i,!0,s,a,l)),r[c]}var o={strong:"b",em:"i",b:"strong",i:"em"},r={};t.commands.formatInline={exec:function(t,e,o,r,i,s,a,l,c){var u=t.selection.createRange(),d=t.selection.getOwnRanges();return!(!d||0==d.length)&&(t.selection.getSelection().removeAllRanges(),n(o,r,i,s,a,t.element).toggleRange(d),void(l?c||t.cleanUp():(u.setStart(d[0].startContainer,d[0].startOffset),u.setEnd(d[d.length-1].endContainer,d[d.length-1].endOffset),t.selection.setSelection(u),t.selection.executeAndRestore(function(){c||t.cleanUp()},!0,!0))))},execWithToggle:function(e,n,o,r,i,s,a){var l=this;if(this.state(e,n,o,r,i,s,a)&&e.selection.isCollapsed()&&!e.selection.caretIsLastInSelection()&&!e.selection.caretIsFirstInSelection()){var c=l.state(e,n,o,r,i)[0];e.selection.executeAndRestoreRangy(function(){c.parentNode;e.selection.selectNode(c,!0),t.commands.formatInline.exec(e,n,o,r,i,s,a,!0,!0)})}else this.state(e,n,o,r,i,s,a)&&!e.selection.isCollapsed()?e.selection.executeAndRestoreRangy(function(){t.commands.formatInline.exec(e,n,o,r,i,s,a,!0,!0)}):t.commands.formatInline.exec(e,n,o,r,i,s,a)},state:function(e,r,i,s,a,l,c){var u,d,f=e.doc,h=o[i]||i;return!(!t.dom.hasElementWithTagName(f,i)&&!t.dom.hasElementWithTagName(f,h))&&(!(s&&!t.dom.hasElementWithClassName(f,s))&&(u=e.selection.getOwnRanges(),!(!u||0===u.length)&&(d=n(i,s,a,l,c,e.element).isAppliedToRange(u),!(!d||!d.elements)&&d.elements)))}}}(wysihtml5),function(t){t.commands.insertBlockQuote={exec:function(e,n){var o=this.state(e,n),r=e.selection.isEndToEndInNode(["H1","H2","H3","H4","H5","H6","P"]);e.selection.executeAndRestore(function(){if(o)e.config.useLineBreaks&&t.dom.lineBreaks(o).add(),t.dom.unwrap(o);else if(e.selection.isCollapsed()&&e.selection.selectLine(),r){var n=r.ownerDocument.createElement("blockquote");t.dom.insert(n).after(r),n.appendChild(r)}else e.selection.surround({nodeName:"blockquote"})})},state:function(e){var n=e.selection.getSelectedNode(),o=t.dom.getParentElement(n,{nodeName:"BLOCKQUOTE"},!1,e.element);return!!o&&o}}}(wysihtml5),wysihtml5.commands.insertHTML={exec:function(t,e,n){t.commands.support(e)?t.doc.execCommand(e,!1,n):t.selection.insertHTML(n)},state:function(){return!1}},function(t){var e="IMG";t.commands.insertImage={exec:function(n,o,r){r="object"==typeof r?r:{src:r};var i,s,a=n.doc,l=this.state(n);if(l)return n.selection.setBefore(l),s=l.parentNode,s.removeChild(l),t.dom.removeEmptyTextNodes(s),"A"!==s.nodeName||s.firstChild||(n.selection.setAfter(s),s.parentNode.removeChild(s)),void t.quirks.redraw(n.element);l=a.createElement(e);for(var c in r)l.setAttribute("className"===c?"class":c,r[c]);n.selection.insertNode(l),t.browser.hasProblemsSettingCaretAfterImg()?(i=a.createTextNode(t.INVISIBLE_SPACE),n.selection.insertNode(i),n.selection.setAfter(i)):n.selection.setAfter(l)},state:function(n){var o,r,i,s=n.doc;return!!t.dom.hasElementWithTagName(s,e)&&(!!(o=n.selection.getSelectedNode())&&(o.nodeName===e?o:o.nodeType===t.ELEMENT_NODE&&(r=n.selection.getText(),!(r=t.lang.string(r).trim())&&(i=n.selection.getNodes(t.ELEMENT_NODE,function(t){return"IMG"===t.nodeName}),1===i.length&&i[0]))))}}}(wysihtml5),function(t){var e="<br>"+(t.browser.needsSpaceAfterLineBreak()?" ":"");t.commands.insertLineBreak={exec:function(n,o){n.commands.support(o)?(n.doc.execCommand(o,!1,null),t.browser.autoScrollsToCaret()||n.selection.scrollIntoView()):n.commands.exec("insertHTML",e)},state:function(){return!1}}}(wysihtml5),wysihtml5.commands.insertOrderedList={exec:function(t,e){wysihtml5.commands.insertList.exec(t,e,"OL")},state:function(t,e){return wysihtml5.commands.insertList.state(t,e,"OL")}},wysihtml5.commands.insertUnorderedList={exec:function(t,e){wysihtml5.commands.insertList.exec(t,e,"UL")},state:function(t,e){return wysihtml5.commands.insertList.state(t,e,"UL")}},wysihtml5.commands.insertList=function(t){var e=function(t,e){if(t&&t.nodeName){"string"==typeof e&&(e=[e]);for(var n=e.length;n--;)if(t.nodeName===e[n])return!0}return!1},n=function(n,o,r){var i={el:null,other:!1};if(n){var s=t.dom.getParentElement(n,{nodeName:"LI"}),a="UL"===o?"OL":"UL";e(n,o)?i.el=n:e(n,a)?i={el:n,other:!0}:s&&(e(s.parentNode,o)?i.el=s.parentNode:e(s.parentNode,a)&&(i={el:s.parentNode,other:!0}))}return i.el&&!r.element.contains(i.el)&&(i.el=null),i},o=function(e,n,o){var r,s="UL"===n?"OL":"UL";o.selection.executeAndRestore(function(){var a=i(s,o);if(a.length)for(var l=a.length;l--;)t.dom.renameElement(a[l],n.toLowerCase());else{r=i(["OL","UL"],o);for(var c=r.length;c--;)t.dom.resolveList(r[c],o.config.useLineBreaks);t.dom.resolveList(e,o.config.useLineBreaks)}})},r=function(e,n,o){var r="UL"===n?"OL":"UL";o.selection.executeAndRestore(function(){for(var s=[e].concat(i(r,o)),a=s.length;a--;)t.dom.renameElement(s[a],n.toLowerCase())})},i=function(t,n){for(var o=n.selection.getOwnRanges(),r=[],i=o.length;i--;)r=r.concat(o[i].getNodes([1],function(n){return e(n,t)}));return r},s=function(e,n){n.selection.executeAndRestoreRangy(function(){var o,r,i="_wysihtml5-temp-"+(new Date).getTime(),s=n.selection.deblockAndSurround({nodeName:"div",className:i}),a=/\uFEFF/g;s.innerHTML=s.innerHTML.replace(a,""),s&&(o=t.lang.array(["","<br>",t.INVISIBLE_SPACE]).contains(s.innerHTML),r=t.dom.convertToList(s,e.toLowerCase(),n.parent.config.uneditableContainerClassname),o&&n.selection.selectNode(r.querySelector("li"),!0))})};return{exec:function(t,e,i){var a=t.doc,l="OL"===i?"insertOrderedList":"insertUnorderedList",c=t.selection.getSelectedNode(),u=n(c,i,t);u.el?u.other?r(u.el,i,t):o(u.el,i,t):t.commands.support(l)?a.execCommand(l,!1,null):s(i,t)},state:function(t,e,o){var r=t.selection.getSelectedNode(),i=n(r,o,t);return!(!i.el||i.other)&&i.el}}}(wysihtml5),wysihtml5.commands.italic={exec:function(t,e){wysihtml5.commands.formatInline.execWithToggle(t,e,"i")},state:function(t,e){return wysihtml5.commands.formatInline.state(t,e,"i")}},function(t){var e="wysiwyg-text-align-center",n=/wysiwyg-text-align-[0-9a-z]+/g;t.commands.justifyCenter={exec:function(o){return t.commands.formatBlock.exec(o,"formatBlock",null,e,n)},state:function(o){return t.commands.formatBlock.state(o,"formatBlock",null,e,n)}}}(wysihtml5),function(t){var e="wysiwyg-text-align-left",n=/wysiwyg-text-align-[0-9a-z]+/g;t.commands.justifyLeft={exec:function(o){return t.commands.formatBlock.exec(o,"formatBlock",null,e,n)},state:function(o){return t.commands.formatBlock.state(o,"formatBlock",null,e,n)}}}(wysihtml5),function(t){var e="wysiwyg-text-align-right",n=/wysiwyg-text-align-[0-9a-z]+/g;t.commands.justifyRight={exec:function(o){return t.commands.formatBlock.exec(o,"formatBlock",null,e,n)},state:function(o){return t.commands.formatBlock.state(o,"formatBlock",null,e,n)}}}(wysihtml5),function(t){var e="wysiwyg-text-align-justify",n=/wysiwyg-text-align-[0-9a-z]+/g;t.commands.justifyFull={exec:function(o){return t.commands.formatBlock.exec(o,"formatBlock",null,e,n)},state:function(o){return t.commands.formatBlock.state(o,"formatBlock",null,e,n)}}}(wysihtml5),function(t){var e="text-align: right;",n=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;t.commands.alignRightStyle={exec:function(o){return t.commands.formatBlock.exec(o,"formatBlock",null,null,null,e,n)},state:function(o){return t.commands.formatBlock.state(o,"formatBlock",null,null,null,e,n)}}}(wysihtml5),function(t){var e="text-align: left;",n=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;t.commands.alignLeftStyle={exec:function(o){return t.commands.formatBlock.exec(o,"formatBlock",null,null,null,e,n)},state:function(o){return t.commands.formatBlock.state(o,"formatBlock",null,null,null,e,n)}}}(wysihtml5),function(t){var e="text-align: center;",n=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;t.commands.alignCenterStyle={exec:function(o){return t.commands.formatBlock.exec(o,"formatBlock",null,null,null,e,n)},state:function(o){return t.commands.formatBlock.state(o,"formatBlock",null,null,null,e,n)}}}(wysihtml5),wysihtml5.commands.redo={exec:function(t){return t.undoManager.redo()},state:function(){return!1}},wysihtml5.commands.underline={exec:function(t,e){wysihtml5.commands.formatInline.execWithToggle(t,e,"u")},state:function(t,e){return wysihtml5.commands.formatInline.state(t,e,"u")}},wysihtml5.commands.undo={exec:function(t){return t.undoManager.undo()},state:function(){return!1}},wysihtml5.commands.createTable={exec:function(t,e,n){var o,r,i;if(n&&n.cols&&n.rows&&parseInt(n.cols,10)>0&&parseInt(n.rows,10)>0){for(i=n.tableStyle?'<table style="'+n.tableStyle+'">':"<table>",i+="<tbody>",r=0;r<n.rows;r++){for(i+="<tr>",o=0;o<n.cols;o++)i+="<td>&nbsp;</td>";i+="</tr>"}i+="</tbody></table>",t.commands.exec("insertHTML",i)}},state:function(){return!1}},wysihtml5.commands.mergeTableCells={exec:function(t,e){t.tableSelection&&t.tableSelection.start&&t.tableSelection.end&&(this.state(t,e)?wysihtml5.dom.table.unmergeCell(t.tableSelection.start):wysihtml5.dom.table.mergeCellsBetween(t.tableSelection.start,t.tableSelection.end))},state:function(t){if(t.tableSelection){var e=t.tableSelection.start,n=t.tableSelection.end;if(e&&n&&e==n&&(wysihtml5.dom.getAttribute(e,"colspan")&&parseInt(wysihtml5.dom.getAttribute(e,"colspan"),10)>1||wysihtml5.dom.getAttribute(e,"rowspan")&&parseInt(wysihtml5.dom.getAttribute(e,"rowspan"),10)>1))return[e]}return!1}},wysihtml5.commands.addTableCells={exec:function(t,e,n){if(t.tableSelection&&t.tableSelection.start&&t.tableSelection.end){var o=wysihtml5.dom.table.orderSelectionEnds(t.tableSelection.start,t.tableSelection.end);"before"==n||"above"==n?wysihtml5.dom.table.addCells(o.start,n):"after"!=n&&"below"!=n||wysihtml5.dom.table.addCells(o.end,n),setTimeout(function(){t.tableSelection.select(o.start,o.end)},0)}},state:function(){return!1}},wysihtml5.commands.deleteTableCells={exec:function(t,e,n){if(t.tableSelection&&t.tableSelection.start&&t.tableSelection.end){var o,r=wysihtml5.dom.table.orderSelectionEnds(t.tableSelection.start,t.tableSelection.end),i=wysihtml5.dom.table.indexOf(r.start),s=t.tableSelection.table;wysihtml5.dom.table.removeCells(r.start,n),setTimeout(function(){o=wysihtml5.dom.table.findCell(s,i),o||("row"==n&&(o=wysihtml5.dom.table.findCell(s,{row:i.row-1,col:i.col})),"column"==n&&(o=wysihtml5.dom.table.findCell(s,{row:i.row,col:i.col-1}))),o&&t.tableSelection.select(o,o)},0)}},state:function(){return!1}},wysihtml5.commands.indentList={exec:function(t){var e=t.selection.getSelectionParentsByTag("LI");return!!e&&this.tryToPushLiLevel(e,t.selection)},state:function(){return!1},tryToPushLiLevel:function(t,e){var n,o,r,i,s,a=!1;return e.executeAndRestoreRangy(function(){for(var e=t.length;e--;)i=t[e],n="OL"===i.parentNode.nodeName?"OL":"UL",o=i.ownerDocument.createElement(n),r=wysihtml5.dom.domNode(i).prev({nodeTypes:[wysihtml5.ELEMENT_NODE]}),s=r?r.querySelector("ul, ol"):null,r&&(s?s.appendChild(i):(o.appendChild(i),r.appendChild(o)),a=!0)}),a}},wysihtml5.commands.outdentList={exec:function(t){var e=t.selection.getSelectionParentsByTag("LI");return!!e&&this.tryToPullLiLevel(e,t)},state:function(){return!1},tryToPullLiLevel:function(t,e){var n,o,r,i,s,a=!1,l=this;return e.selection.executeAndRestoreRangy(function(){for(var c=t.length;c--;)if(i=t[c],i.parentNode&&(n=i.parentNode,"OL"===n.tagName||"UL"===n.tagName)){if(a=!0,o=wysihtml5.dom.getParentElement(n.parentNode,{nodeName:["OL","UL"]},!1,e.element),r=wysihtml5.dom.getParentElement(n.parentNode,{nodeName:["LI"]},!1,e.element),o&&r)i.nextSibling&&(s=l.getAfterList(n,i),i.appendChild(s)),o.insertBefore(i,r.nextSibling);else{i.nextSibling&&(s=l.getAfterList(n,i),i.appendChild(s));for(var u=i.childNodes.length;u--;)n.parentNode.insertBefore(i.childNodes[u],n.nextSibling);n.parentNode.insertBefore(document.createElement("br"),n.nextSibling),i.parentNode.removeChild(i)}0===n.childNodes.length&&n.parentNode.removeChild(n)}}),a},getAfterList:function(t,e){for(var n=t.nodeName,o=document.createElement(n);e.nextSibling;)o.appendChild(e.nextSibling);return o}},function(t){var e=90,n=89,o=8,r=46,i=25,s="data-wysihtml5-selection-node",a="data-wysihtml5-selection-offset",l=('<span id="_wysihtml5-undo" class="_wysihtml5-temp">'+t.INVISIBLE_SPACE+"</span>",'<span id="_wysihtml5-redo" class="_wysihtml5-temp">'+t.INVISIBLE_SPACE+"</span>",t.dom);t.UndoManager=t.lang.Dispatcher.extend({constructor:function(t){this.editor=t,this.composer=t.composer,this.element=this.composer.element,this.position=0,this.historyStr=[],this.historyDom=[],this.transact(),this._observe()},_observe:function(){var t,i=this;this.composer.sandbox.getDocument();l.observe(this.element,"keydown",function(t){if(!t.altKey&&(t.ctrlKey||t.metaKey)){var o=t.keyCode,r=o===e&&!t.shiftKey,s=o===e&&t.shiftKey||o===n;r?(i.undo(),t.preventDefault()):s&&(i.redo(),t.preventDefault())}}),l.observe(this.element,"keydown",function(e){var n=e.keyCode;n!==t&&(t=n,n!==o&&n!==r||i.transact())}),this.editor.on("newword:composer",function(){i.transact()}).on("beforecommand:composer",function(){i.transact()})},transact:function(){var e,n,o,r,l,c=this.historyStr[this.position-1],u=this.composer.getValue(!1,!1),d=this.element.offsetWidth>0&&this.element.offsetHeight>0;if(u!==c){var f=this.historyStr.length=this.historyDom.length=this.position;f>i&&(this.historyStr.shift(),this.historyDom.shift(),this.position--),this.position++,d&&(e=this.composer.selection.getRange(),n=e&&e.startContainer?e.startContainer:this.element,o=e&&e.startOffset?e.startOffset:0,n.nodeType===t.ELEMENT_NODE?r=n:(r=n.parentNode,l=this.getChildNodeIndex(r,n)),r.setAttribute(a,o),"undefined"!=typeof l&&r.setAttribute(s,l));var h=this.element.cloneNode(!!u);this.historyDom.push(h),this.historyStr.push(u),r&&(r.removeAttribute(a),r.removeAttribute(s))}},undo:function(){this.transact(),this.undoPossible()&&(this.set(this.historyDom[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.redoPossible()&&(this.set(this.historyDom[++this.position-1]),this.editor.fire("redo:composer"))},undoPossible:function(){return this.position>1},redoPossible:function(){return this.position<this.historyStr.length},set:function(t){this.element.innerHTML="";for(var e=0,n=t.childNodes,o=t.childNodes.length;e<o;e++)this.element.appendChild(n[e].cloneNode(!0));var r,i,l;t.hasAttribute(a)?(r=t.getAttribute(a),l=t.getAttribute(s),i=this.element):(i=this.element.querySelector("["+a+"]")||this.element,r=i.getAttribute(a),l=i.getAttribute(s),i.removeAttribute(a),i.removeAttribute(s)),null!==l&&(i=this.getChildNodeByIndex(i,+l)),this.composer.selection.set(i,r)},getChildNodeIndex:function(t,e){for(var n=0,o=t.childNodes,r=o.length;n<r;n++)if(o[n]===e)return n},getChildNodeByIndex:function(t,e){return t.childNodes[e]}})}(wysihtml5),wysihtml5.views.View=Base.extend({constructor:function(t,e,n){this.parent=t,this.element=e,this.config=n,this.config.noTextarea||this._observeViewChange()},_observeViewChange:function(){var t=this;this.parent.on("beforeload",function(){t.parent.on("change_view",function(e){e===t.name?(t.parent.currentView=t,t.show(),setTimeout(function(){t.focus()},0)):t.hide()})})},focus:function(){if(this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element.focus()}catch(t){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}}),function(t){var e=t.dom,n=t.browser;t.views.Composer=t.views.View.extend({name:"composer",CARET_HACK:"<br>",constructor:function(t,e,n){this.base(t,e,n),this.config.noTextarea?this.editableArea=e:this.textarea=this.parent.textarea,this.config.contentEditableMode?this._initContentEditableArea():this._initSandbox()},clear:function(){this.element.innerHTML=n.displaysCaretInEmptyContentEditableCorrectly()?"":this.CARET_HACK},getValue:function(e,n){var o=this.isEmpty()?"":t.quirks.getCorrectInnerHTML(this.element);return e!==!1&&(o=this.parent.parse(o,n!==!1)),o},setValue:function(t,e){e&&(t=this.parent.parse(t));try{this.element.innerHTML=t}catch(e){this.element.innerText=t}},cleanUp:function(){this.parent.parse(this.element)},show:function(){this.editableArea.style.display=this._displayStyle||"",this.config.noTextarea||this.textarea.element.disabled||(this.disable(),this.enable())},hide:function(){this._displayStyle=e.getStyle("display").from(this.editableArea),"none"===this._displayStyle&&(this._displayStyle=null),this.editableArea.style.display="none"},disable:function(){this.parent.fire("disable:composer"),this.element.removeAttribute("contentEditable")},enable:function(){this.parent.fire("enable:composer"),this.element.setAttribute("contentEditable","true")},focus:function(e){t.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear(),this.base();var n=this.element.lastChild;e&&n&&this.selection&&("BR"===n.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getTextContent:function(){return e.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==(this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):this.textarea.element.getAttribute("placeholder"))&&this.placeholderSet},isEmpty:function(){var t=this.element.innerHTML.toLowerCase();return/^(\s|<br>|<\/br>|<p>|<\/p>)*$/i.test(t)||""===t||"<br>"===t||"<p></p>"===t||"<p><br></p>"===t||this.hasPlaceholderSet()},_initContentEditableArea:function(){var t=this;this.config.noTextarea?this.sandbox=new e.ContentEditableArea(function(){t._create()},{},this.editableArea):(this.sandbox=new e.ContentEditableArea(function(){t._create()}),this.editableArea=this.sandbox.getContentEditable(),e.insert(this.editableArea).after(this.textarea.element),this._createWysiwygFormField())},_initSandbox:function(){var t=this;this.sandbox=new e.Sandbox(function(){t._create()},{stylesheets:this.config.stylesheets}),this.editableArea=this.sandbox.getIframe();var n=this.textarea.element;e.insert(this.editableArea).after(n),this._createWysiwygFormField()},_createWysiwygFormField:function(){if(this.textarea.element.form){var t=document.createElement("input");t.type="hidden",t.name="_wysihtml5_mode",t.value=1,e.insert(t).after(this.textarea.element)}},_create:function(){var o=this;this.doc=this.sandbox.getDocument(),this.element=this.config.contentEditableMode?this.sandbox.getContentEditable():this.doc.body,this.config.noTextarea?this.cleanUp():(this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0,!1)),this.selection=new t.Selection(this.parent,this.element,this.config.uneditableContainerClassname),this.commands=new t.Commands(this.parent),this.config.noTextarea||e.copyAttributes(["className","spellcheck","title","lang","dir","accessKey"]).from(this.textarea.element).to(this.element),e.addClass(this.element,this.config.composerClassName),this.config.style&&!this.config.contentEditableMode&&this.style(),this.observe();var r=this.config.name;r&&(e.addClass(this.element,r),this.config.contentEditableMode||e.addClass(this.editableArea,r)),this.enable(),!this.config.noTextarea&&this.textarea.element.disabled&&this.disable();var i="string"==typeof this.config.placeholder?this.config.placeholder:this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):this.textarea.element.getAttribute("placeholder");i&&e.simulatePlaceholder(this.parent,this,i),this.commands.exec("styleWithCSS",!1),this._initAutoLinking(),this._initObjectResizing(),this._initUndoManager(),this._initLineBreaking(),this.config.noTextarea||!this.textarea.element.hasAttribute("autofocus")&&document.querySelector(":focus")!=this.textarea.element||n.isIos()||setTimeout(function(){o.focus(!0)},100),n.clearsContentEditableCorrectly()||t.quirks.ensureProperClearing(this),this.initSync&&this.config.sync&&this.initSync(),this.config.noTextarea||this.textarea.hide(),this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var o=this,r=n.canDisableAutoLinking(),i=n.doesAutoLinkingInContentEditable();if(r&&this.commands.exec("autoUrlDetect",!1),this.config.autoLink){(!i||i&&r)&&(this.parent.on("newword:composer",function(){e.getTextContent(o.element).match(e.autoLink.URL_REG_EXP)&&o.selection.executeAndRestore(function(n,r){for(var i=o.element.querySelectorAll("."+o.config.uneditableContainerClassname),s=!1,a=i.length;a--;)t.dom.contains(i[a],r)&&(s=!0);s||e.autoLink(r.parentNode,[o.config.uneditableContainerClassname])})}),e.observe(this.element,"blur",function(){e.autoLink(o.element,[o.config.uneditableContainerClassname])}));var s=this.sandbox.getDocument().getElementsByTagName("a"),a=e.autoLink.URL_REG_EXP,l=function(n){var o=t.lang.string(e.getTextContent(n)).trim();return"www."===o.substr(0,4)&&(o="http://"+o),o};e.observe(this.element,"keydown",function(t){if(s.length){var n,r=o.selection.getSelectedNode(t.target.ownerDocument),i=e.getParentElement(r,{nodeName:"A"},4);i&&(n=l(i),setTimeout(function(){var t=l(i);t!==n&&t.match(a)&&i.setAttribute("href",t)},0))}})}},_initObjectResizing:function(){if(this.commands.exec("enableObjectResizing",!0),n.supportsEvent("resizeend")){var o=["width","height"],r=o.length,i=this.element;e.observe(i,"resizeend",function(e){var n,s=e.target||e.srcElement,a=s.style,l=0;if("IMG"===s.nodeName){for(;l<r;l++)n=o[l],a[n]&&(s.setAttribute(n,parseInt(a[n],10)),a[n]="");t.quirks.redraw(i)}})}},_initUndoManager:function(){this.undoManager=new t.UndoManager(this.parent)},_initLineBreaking:function(){function o(t){var n=e.getParentElement(t,{nodeName:["P","DIV"]},2);n&&e.contains(r.element,n)&&r.selection.executeAndRestore(function(){r.config.useLineBreaks?e.replaceWithChildNodes(n):"P"!==n.nodeName&&e.renameElement(n,"p")})}var r=this,i=["LI","P","H1","H2","H3","H4","H5","H6"],s=["UL","OL","MENU"];this.config.useLineBreaks||e.observe(this.element,["focus","keydown"],function(){if(r.isEmpty()){var t=r.doc.createElement("P");r.element.innerHTML="",r.element.appendChild(t),n.displaysCaretInEmptyContentEditableCorrectly()?r.selection.selectNode(t,!0):(t.innerHTML="<br>",r.selection.setBefore(t.firstChild))}}),e.observe(this.element,"keydown",function(n){var a=n.keyCode;if(!n.shiftKey&&(a===t.ENTER_KEY||a===t.BACKSPACE_KEY)){var l=e.getParentElement(r.selection.getSelectedNode(),{nodeName:i},4);return l?void setTimeout(function(){var n,i=r.selection.getSelectedNode();if("LI"===l.nodeName){if(!i)return;n=e.getParentElement(i,{nodeName:s},2),n||o(i)}a===t.ENTER_KEY&&l.nodeName.match(/^H[1-6]$/)&&o(i)},0):void(r.config.useLineBreaks&&a===t.ENTER_KEY&&!t.browser.insertsLineBreaksOnReturn()&&(n.preventDefault(),r.commands.exec("insertLineBreak")))}})}})}(wysihtml5),function(t){var e=t.dom,n=document,o=window,r=n.createElement("div"),i=["background-color","color","cursor","font-family","font-size","font-style","font-variant","font-weight","line-height","letter-spacing","text-align","text-decoration","text-indent","text-rendering","word-break","word-wrap","word-spacing"],s=["background-color","border-collapse","border-bottom-color","border-bottom-style","border-bottom-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-top-color","border-top-style","border-top-width","clear","display","float","margin-bottom","margin-left","margin-right","margin-top","outline-color","outline-offset","outline-width","outline-style","padding-left","padding-right","padding-top","padding-bottom","position","top","left","right","bottom","z-index","vertical-align","text-align","-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing","-webkit-box-shadow","-moz-box-shadow","-ms-box-shadow","box-shadow","-webkit-border-top-right-radius","-moz-border-radius-topright","border-top-right-radius","-webkit-border-bottom-right-radius","-moz-border-radius-bottomright","border-bottom-right-radius","-webkit-border-bottom-left-radius","-moz-border-radius-bottomleft","border-bottom-left-radius","-webkit-border-top-left-radius","-moz-border-radius-topleft","border-top-left-radius","width","height"],a=["html                 { height: 100%; }","body                 { height: 100%; padding: 1px 0 0 0; margin: -1px 0 0 0; }","body > p:first-child { margin-top: 0; }","._wysihtml5-temp     { display: none; }",".wysiwyg-color-black {color: black;}",".wysiwyg-color-silver {color: silver;}",".wysiwyg-color-gray {color: gray;}",".wysiwyg-color-white {color: white;}",".wysiwyg-color-maroon {color: maroon;}",".wysiwyg-color-red {color: red;}",".wysiwyg-color-purple {color: purple;}",".wysiwyg-color-fuchsia {color: fuchsia;}",".wysiwyg-color-green {color: green;}",".wysiwyg-color-lime {color: lime;}",".wysiwyg-color-olive {color: olive;}",".wysiwyg-color-yellow {color: yellow;}",".wysiwyg-color-navy {color: navy;}",".wysiwyg-color-blue {color: blue;}",".wysiwyg-color-teal {color: teal;}",".wysiwyg-color-aqua {color: aqua;}",".wysiwyg-color-orange {color: orange;}",t.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","img:-moz-broken      { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"],l=function(t){
if(t.setActive)try{t.setActive()}catch(t){}else{var r=t.style,i=n.documentElement.scrollTop||n.body.scrollTop,s=n.documentElement.scrollLeft||n.body.scrollLeft,a={position:r.position,top:r.top,left:r.left,WebkitUserSelect:r.WebkitUserSelect};e.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(t),t.focus(),e.setStyles(a).on(t),o.scrollTo&&o.scrollTo(s,i)}};t.views.Composer.prototype.style=function(){var o,c=this,u=n.querySelector(":focus"),d=this.textarea.element,f=d.hasAttribute("placeholder"),h=f&&d.getAttribute("placeholder"),p=d.style.display,m=d.disabled;this.focusStylesHost=r.cloneNode(!1),this.blurStylesHost=r.cloneNode(!1),this.disabledStylesHost=r.cloneNode(!1),f&&d.removeAttribute("placeholder"),d===u&&d.blur(),d.disabled=!1,d.style.display=o="none",(d.getAttribute("rows")&&"auto"===e.getStyle("height").from(d)||d.getAttribute("cols")&&"auto"===e.getStyle("width").from(d))&&(d.style.display=o=p),e.copyStyles(s).from(d).to(this.editableArea).andTo(this.blurStylesHost),e.copyStyles(i).from(d).to(this.element).andTo(this.blurStylesHost),e.insertCSS(a).into(this.element.ownerDocument),d.disabled=!0,e.copyStyles(s).from(d).to(this.disabledStylesHost),e.copyStyles(i).from(d).to(this.disabledStylesHost),d.disabled=m,d.style.display=p,l(d),d.style.display=o,e.copyStyles(s).from(d).to(this.focusStylesHost),e.copyStyles(i).from(d).to(this.focusStylesHost),d.style.display=p,e.copyStyles(["display"]).from(d).to(this.editableArea);var g=t.lang.array(s).without(["display"]);return u?u.focus():d.blur(),f&&d.setAttribute("placeholder",h),this.parent.on("focus:composer",function(){e.copyStyles(g).from(c.focusStylesHost).to(c.editableArea),e.copyStyles(i).from(c.focusStylesHost).to(c.element)}),this.parent.on("blur:composer",function(){e.copyStyles(g).from(c.blurStylesHost).to(c.editableArea),e.copyStyles(i).from(c.blurStylesHost).to(c.element)}),this.parent.observe("disable:composer",function(){e.copyStyles(g).from(c.disabledStylesHost).to(c.editableArea),e.copyStyles(i).from(c.disabledStylesHost).to(c.element)}),this.parent.observe("enable:composer",function(){e.copyStyles(g).from(c.blurStylesHost).to(c.editableArea),e.copyStyles(i).from(c.blurStylesHost).to(c.element)}),this}}(wysihtml5),function(t){var e=t.dom,n=t.browser,o={66:"bold",73:"italic",85:"underline"},r=function(t,e,n){var o=t.getPreviousNode(e,!0),r=t.getSelectedNode();if(1!==r.nodeType&&r.parentNode!==n&&(r=r.parentNode),o)if(1==r.nodeType){var i=r.firstChild;if(1==o.nodeType)for(;r.firstChild;)o.appendChild(r.firstChild);else for(;r.firstChild;)e.parentNode.insertBefore(r.firstChild,e);r.parentNode&&r.parentNode.removeChild(r),t.setBefore(i)}else 1==o.nodeType?o.appendChild(r):e.parentNode.insertBefore(r,e),t.setBefore(r)},i=function(t,e,n,o){if(e.isCollapsed())if(e.caretIsInTheBeginnig("LI"))t.preventDefault(),o.commands.exec("outdentList");else if(e.caretIsInTheBeginnig())t.preventDefault();else{if(e.caretIsFirstInSelection()&&e.getPreviousNode()&&e.getPreviousNode().nodeName&&/^H\d$/gi.test(e.getPreviousNode().nodeName)){var i=e.getPreviousNode();if(t.preventDefault(),/^\s*$/.test(i.textContent||i.innerText))i.parentNode.removeChild(i);else{var s=i.ownerDocument.createRange();s.selectNodeContents(i),s.collapse(!1),e.setSelection(s)}}var a=e.caretIsBeforeUneditable();a&&(t.preventDefault(),r(e,a,n))}else e.containsUneditable()&&(t.preventDefault(),e.deleteContents())},s=function(t){if(t.selection.isCollapsed()){if(t.selection.caretIsInTheBeginnig("LI")&&t.commands.exec("indentList"))return}else t.selection.deleteContents();t.commands.exec("insertHTML","&emsp;")};t.views.Composer.prototype.observe=function(){var r=this,a=this.getValue(!1,!1),l=this.sandbox.getIframe?this.sandbox.getIframe():this.sandbox.getContentEditable(),c=this.element,u=n.supportsEventsInIframeCorrectly()||this.sandbox.getContentEditable?c:this.sandbox.getWindow(),d=["drop","paste"],f=["drop","paste","mouseup","focus","keyup"];if(e.observe(l,"DOMNodeRemoved",function(){clearInterval(h),r.parent.fire("destroy:composer")}),!n.supportsMutationEvents())var h=setInterval(function(){e.contains(document.documentElement,l)||(clearInterval(h),r.parent.fire("destroy:composer"))},250);e.observe(u,f,function(){setTimeout(function(){r.parent.fire("interaction").fire("interaction:composer")},0)}),this.config.handleTables&&(!this.tableClickHandle&&this.doc.execCommand&&t.browser.supportsCommand(this.doc,"enableObjectResizing")&&t.browser.supportsCommand(this.doc,"enableInlineTableEditing")&&(this.sandbox.getIframe?this.tableClickHandle=e.observe(l,["focus","mouseup","mouseover"],function(){r.doc.execCommand("enableObjectResizing",!1,"false"),r.doc.execCommand("enableInlineTableEditing",!1,"false"),r.tableClickHandle.stop()}):setTimeout(function(){r.doc.execCommand("enableObjectResizing",!1,"false"),r.doc.execCommand("enableInlineTableEditing",!1,"false")},0)),this.tableSelection=t.quirks.tableCellsSelection(c,r.parent)),e.observe(u,"focus",function(t){r.parent.fire("focus",t).fire("focus:composer",t),setTimeout(function(){a=r.getValue(!1,!1)},0)}),e.observe(u,"blur",function(t){if(a!==r.getValue(!1,!1)){var e=t;"function"==typeof Object.create&&(e=Object.create(t,{type:{value:"change"}})),r.parent.fire("change",e).fire("change:composer",e)}r.parent.fire("blur",t).fire("blur:composer",t)}),e.observe(c,"dragenter",function(){r.parent.fire("unset_placeholder")}),e.observe(c,d,function(t){setTimeout(function(){r.parent.fire(t.type,t).fire(t.type+":composer",t)},0)}),e.observe(c,"keyup",function(e){var n=e.keyCode;n!==t.SPACE_KEY&&n!==t.ENTER_KEY||r.parent.fire("newword:composer")}),this.parent.on("paste:composer",function(){setTimeout(function(){r.parent.fire("newword:composer")},0)}),n.canSelectImagesInContentEditable()||e.observe(c,"mousedown",function(e){var n=e.target,o=c.querySelectorAll("img"),i=c.querySelectorAll("."+r.config.uneditableContainerClassname+" img"),s=t.lang.array(o).without(i);"IMG"===n.nodeName&&t.lang.array(s).contains(n)&&r.selection.selectNode(n)}),n.canSelectImagesInContentEditable()||e.observe(c,"drop",function(){setTimeout(function(){r.selection.getSelection().removeAllRanges()},0)}),n.hasHistoryIssue()&&n.supportsSelectionModify()&&e.observe(c,"keydown",function(t){if(t.metaKey||t.ctrlKey){var e=t.keyCode,n=c.ownerDocument.defaultView,o=n.getSelection();37!==e&&39!==e||(37===e&&(o.modify("extend","left","lineboundary"),t.shiftKey||o.collapseToStart()),39===e&&(o.modify("extend","right","lineboundary"),t.shiftKey||o.collapseToEnd()),t.preventDefault())}}),e.observe(c,"keydown",function(t){var e=t.keyCode,n=o[e];(t.ctrlKey||t.metaKey)&&!t.altKey&&n&&(r.commands.exec(n),t.preventDefault()),8===e?i(t,r.selection,c,r):r.config.handleTabKey&&9===e&&(t.preventDefault(),s(r,c))}),e.observe(c,"keydown",function(e){var n,o=r.selection.getSelectedNode(!0),i=e.keyCode;!o||"IMG"!==o.nodeName||i!==t.BACKSPACE_KEY&&i!==t.DELETE_KEY||(n=o.parentNode,n.removeChild(o),"A"!==n.nodeName||n.firstChild||n.parentNode.removeChild(n),setTimeout(function(){t.quirks.redraw(c)},0),e.preventDefault())}),!this.config.contentEditableMode&&n.hasIframeFocusIssue()&&(e.observe(l,"focus",function(){setTimeout(function(){r.doc.querySelector(":focus")!==r.element&&r.focus()},0)}),e.observe(this.element,"blur",function(){setTimeout(function(){r.selection.getSelection().removeAllRanges()},0)}));var p={IMG:"Image: ",A:"Link: "};e.observe(c,"mouseover",function(t){var e,n=t.target,o=n.nodeName;if("A"===o||"IMG"===o){var r=n.hasAttribute("title");r||(e=p[o]+(n.getAttribute("href")||n.getAttribute("src")),n.setAttribute("title",e))}})}}(wysihtml5),function(t){var e=400;t.views.Synchronizer=Base.extend({constructor:function(t,e,n){this.editor=t,this.textarea=e,this.composer=n,this._observe()},fromComposerToTextarea:function(e){this.textarea.setValue(t.lang.string(this.composer.getValue(!1,!1)).trim(),e)},fromTextareaToComposer:function(t){var e=this.textarea.getValue(!1,!1);e?this.composer.setValue(e,t):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(t){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(t):this.fromComposerToTextarea(t)},_observe:function(){var n,o=this,r=this.textarea.element.form,i=function(){n=setInterval(function(){o.fromComposerToTextarea()},e)},s=function(){clearInterval(n),n=null};i(),r&&(t.dom.observe(r,"submit",function(){o.sync(!0)}),t.dom.observe(r,"reset",function(){setTimeout(function(){o.fromTextareaToComposer()},0)})),this.editor.on("change_view",function(t){"composer"!==t||n?"textarea"===t&&(o.fromComposerToTextarea(!0),s()):(o.fromTextareaToComposer(!0),i())}),this.editor.on("destroy:composer",s)}})}(wysihtml5),wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(t,e,n){this.base(t,e,n),this._observe()},clear:function(){this.element.value=""},getValue:function(t){var e=this.isEmpty()?"":this.element.value;return t!==!1&&(e=this.parent.parse(e)),e},setValue:function(t,e){e&&(t=this.parent.parse(t)),this.element.value=t},cleanUp:function(){var t=this.parent.parse(this.element.value);this.element.value=t},hasPlaceholderSet:function(){var t=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),e=this.element.getAttribute("placeholder")||null,n=this.element.value,o=!n;return t&&o||n===e},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var t=this.element,e=this.parent,n={focusin:"focus",focusout:"blur"},o=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];e.on("beforeload",function(){wysihtml5.dom.observe(t,o,function(t){var o=n[t.type]||t.type;e.fire(o).fire(o+":textarea")}),wysihtml5.dom.observe(t,["paste","drop"],function(){setTimeout(function(){e.fire("paste").fire("paste:textarea")},0)})})}}),function(t){var e,n={name:e,style:!0,toolbar:e,showToolbarAfterInit:!0,autoLink:!0,handleTables:!0,handleTabKey:!0,parserRules:{tags:{br:{},span:{},div:{},p:{}},classes:{}},parser:t.dom.parse,composerClassName:"wysihtml5-editor",bodyClassName:"wysihtml5-supported",useLineBreaks:!0,stylesheets:[],placeholderText:e,supportTouchDevices:!0,cleanUp:!0,contentEditableMode:!1,uneditableContainerClassname:"wysihtml5-uneditable-container"};t.Editor=t.lang.Dispatcher.extend({constructor:function(e,o){if(this.editableElement="string"==typeof e?document.getElementById(e):e,this.config=t.lang.object({}).merge(n).merge(o).get(),this._isCompatible=t.browser.supported(),"textarea"!=this.editableElement.nodeName.toLowerCase()&&(this.config.contentEditableMode=!0,this.config.noTextarea=!0),this.config.noTextarea||(this.textarea=new t.views.Textarea(this,this.editableElement,this.config),this.currentView=this.textarea),!this._isCompatible||!this.config.supportTouchDevices&&t.browser.isTouchDevice()){var r=this;return void setTimeout(function(){r.fire("beforeload").fire("load")},0)}t.dom.addClass(document.body,this.config.bodyClassName),this.composer=new t.views.Composer(this,this.editableElement,this.config),this.currentView=this.composer,"function"==typeof this.config.parser&&this._initParser(),this.on("beforeload",this.handleBeforeLoad)},handleBeforeLoad:function(){this.config.noTextarea||(this.synchronizer=new t.views.Synchronizer(this,this.textarea,this.composer)),this.config.toolbar&&(this.toolbar=new t.toolbar.Toolbar(this,this.config.toolbar,this.config.showToolbarAfterInit))},isCompatible:function(){return this._isCompatible},clear:function(){return this.currentView.clear(),this},getValue:function(t,e){return this.currentView.getValue(t,e)},setValue:function(t,e){return this.fire("unset_placeholder"),t?(this.currentView.setValue(t,e),this):this.clear()},cleanUp:function(){this.currentView.cleanUp()},focus:function(t){return this.currentView.focus(t),this},disable:function(){return this.currentView.disable(),this},enable:function(){return this.currentView.enable(),this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},parse:function(e,n){var o=this.config.contentEditableMode?document:this.composer?this.composer.sandbox.getDocument():null,r=this.config.parser(e,{rules:this.config.parserRules,cleanUp:this.config.cleanUp,context:o,uneditableClass:this.config.uneditableContainerClassname,clearInternals:n});return"object"==typeof e&&t.quirks.redraw(e),r},_initParser:function(){this.on("paste:composer",function(){var e=!0,n=this;n.composer.selection.executeAndRestore(function(){t.quirks.cleanPastedHTML(n.composer.element),n.parse(n.composer.element)},e)})}})}(wysihtml5),function(t){var e=t.dom,n="wysihtml5-command-dialog-opened",o="input, select, textarea",r="[data-wysihtml5-dialog-field]",i="data-wysihtml5-dialog-field";t.toolbar.Dialog=t.lang.Dispatcher.extend({constructor:function(t,e){this.link=t,this.container=e},_observe:function(){if(!this._observed){var r=this,i=function(t){var e=r._serialize();e==r.elementToChange?r.fire("edit",e):r.fire("save",e),r.hide(),t.preventDefault(),t.stopPropagation()};e.observe(r.link,"click",function(){e.hasClass(r.link,n)&&setTimeout(function(){r.hide()},0)}),e.observe(this.container,"keydown",function(e){var n=e.keyCode;n===t.ENTER_KEY&&i(e),n===t.ESCAPE_KEY&&(r.fire("cancel"),r.hide())}),e.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",i),e.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",function(t){r.fire("cancel"),r.hide(),t.preventDefault(),t.stopPropagation()});for(var s=this.container.querySelectorAll(o),a=0,l=s.length,c=function(){clearInterval(r.interval)};a<l;a++)e.observe(s[a],"change",c);this._observed=!0}},_serialize:function(){for(var t=this.elementToChange||{},e=this.container.querySelectorAll(r),n=e.length,o=0;o<n;o++)t[e[o].getAttribute(i)]=e[o].value;return t},_interpolate:function(t){for(var e,n,o,s=document.querySelector(":focus"),a=this.container.querySelectorAll(r),l=a.length,c=0;c<l;c++)e=a[c],e!==s&&(t&&"hidden"===e.type||(n=e.getAttribute(i),o=this.elementToChange&&"boolean"!=typeof this.elementToChange?this.elementToChange.getAttribute(n)||"":e.defaultValue,e.value=o))},show:function(t){if(!e.hasClass(this.link,n)){var r=this,i=this.container.querySelector(o);if(this.elementToChange=t,this._observe(),this._interpolate(),t&&(this.interval=setInterval(function(){r._interpolate(!0)},500)),e.addClass(this.link,n),this.container.style.display="",this.fire("show"),i&&!t)try{i.focus()}catch(t){}}},hide:function(){clearInterval(this.interval),this.elementToChange=null,e.removeClass(this.link,n),this.container.style.display="none",this.fire("hide")}})}(wysihtml5),function(t){var e=t.dom,n={position:"relative"},o={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1},r={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"},i={"x-webkit-speech":"",speech:""};t.toolbar.Speech=function(s,a){var l=document.createElement("input");if(!t.browser.supportsSpeechApiOn(l))return void(a.style.display="none");var c=s.editor.textarea.element.getAttribute("lang");c&&(i.lang=c);var u=document.createElement("div");t.lang.object(o).merge({width:a.offsetWidth+"px",height:a.offsetHeight+"px"}),e.insert(l).into(u),e.insert(u).into(a),e.setStyles(r).on(l),e.setAttributes(i).on(l),e.setStyles(o).on(u),e.setStyles(n).on(a);var d="onwebkitspeechchange"in l?"webkitspeechchange":"speechchange";e.observe(l,d,function(){s.execCommand("insertText",l.value),l.value=""}),e.observe(l,"click",function(t){e.hasClass(a,"wysihtml5-command-disabled")&&t.preventDefault(),t.stopPropagation()})}}(wysihtml5),function(t){var e="wysihtml5-command-disabled",n="wysihtml5-commands-disabled",o="wysihtml5-command-active",r="wysihtml5-action-active",i=t.dom;t.toolbar.Toolbar=Base.extend({constructor:function(e,n,o){this.editor=e,this.container="string"==typeof n?document.getElementById(n):n,this.composer=e.composer,this._getLinks("command"),this._getLinks("action"),this._observe(),o&&this.show();for(var r=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]"),i=r.length,s=0;s<i;s++)new t.toolbar.Speech(this,r[s])},_getLinks:function(e){for(var n,o,r,i,s,a=this[e+"Links"]=t.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+e+"]")).get(),l=a.length,c=0,u=this[e+"Mapping"]={};c<l;c++)n=a[c],r=n.getAttribute("data-wysihtml5-"+e),i=n.getAttribute("data-wysihtml5-"+e+"-value"),o=this.container.querySelector("[data-wysihtml5-"+e+"-group='"+r+"']"),s=this._getDialog(n,r),u[r+":"+i]={link:n,group:o,name:r,value:i,dialog:s,state:!1}},_getDialog:function(e,n){var o,r,i=this,s=this.container.querySelector("[data-wysihtml5-dialog='"+n+"']");return s&&(o=t.toolbar["Dialog_"+n]?new t.toolbar["Dialog_"+n](e,s):new t.toolbar.Dialog(e,s),o.on("show",function(){r=i.composer.selection.getBookmark(),i.editor.fire("show:dialog",{command:n,dialogContainer:s,commandLink:e})}),o.on("save",function(t){r&&i.composer.selection.setBookmark(r),i._execCommand(n,t),i.editor.fire("save:dialog",{command:n,dialogContainer:s,commandLink:e})}),o.on("cancel",function(){i.editor.focus(!1),i.editor.fire("cancel:dialog",{command:n,dialogContainer:s,commandLink:e})})),o},execCommand:function(t,e){if(!this.commandsDisabled){var n=this.commandMapping[t+":"+e];n&&n.dialog&&!n.state?n.dialog.show():this._execCommand(t,e)}},_execCommand:function(t,e){this.editor.focus(!1),this.composer.commands.exec(t,e),this._updateLinkStates()},execAction:function(t){var e=this.editor;"change_view"===t&&e.textarea&&(e.currentView===e.textarea?e.fire("change_view","composer"):e.fire("change_view","textarea")),"showSource"==t&&e.fire("showSource")},_observe:function(){for(var t=this,e=this.editor,o=this.container,r=this.commandLinks.concat(this.actionLinks),s=r.length,a=0;a<s;a++)"A"===r[a].nodeName?i.setAttributes({href:"javascript:;",unselectable:"on"}).on(r[a]):i.setAttributes({unselectable:"on"}).on(r[a]);i.delegate(o,"[data-wysihtml5-command], [data-wysihtml5-action]","mousedown",function(t){t.preventDefault()}),i.delegate(o,"[data-wysihtml5-command]","click",function(e){var n=this,o=n.getAttribute("data-wysihtml5-command"),r=n.getAttribute("data-wysihtml5-command-value");t.execCommand(o,r),e.preventDefault()}),i.delegate(o,"[data-wysihtml5-action]","click",function(e){var n=this.getAttribute("data-wysihtml5-action");t.execAction(n),e.preventDefault()}),e.on("interaction:composer",function(){t._updateLinkStates()}),e.on("focus:composer",function(){t.bookmark=null}),this.editor.config.handleTables&&(e.on("tableselect:composer",function(){t.container.querySelectorAll('[data-wysihtml5-hiddentools="table"]')[0].style.display=""}),e.on("tableunselect:composer",function(){t.container.querySelectorAll('[data-wysihtml5-hiddentools="table"]')[0].style.display="none"})),e.on("change_view",function(r){e.textarea&&setTimeout(function(){t.commandsDisabled="composer"!==r,t._updateLinkStates(),t.commandsDisabled?i.addClass(o,n):i.removeClass(o,n)},0)})},_updateLinkStates:function(){var n,s,a,l,c=this.commandMapping,u=this.actionMapping;for(n in c)l=c[n],this.commandsDisabled?(s=!1,i.removeClass(l.link,o),l.group&&i.removeClass(l.group,o),l.dialog&&l.dialog.hide()):(s=this.composer.commands.state(l.name,l.value),i.removeClass(l.link,e),l.group&&i.removeClass(l.group,e)),l.state!==s&&(l.state=s,s?(i.addClass(l.link,o),l.group&&i.addClass(l.group,o),l.dialog&&("object"==typeof s||t.lang.object(s).isArray()?(!l.dialog.multiselect&&t.lang.object(s).isArray()&&(s=1!==s.length||s[0],l.state=s),l.dialog.show(s)):l.dialog.hide())):(i.removeClass(l.link,o),l.group&&i.removeClass(l.group,o),l.dialog&&l.dialog.hide()));for(n in u)a=u[n],"change_view"===a.name&&(a.state=this.editor.currentView===this.editor.textarea,a.state?i.addClass(a.link,r):i.removeClass(a.link,r))},show:function(){this.container.style.display=""},hide:function(){this.container.style.display="none"}})}(wysihtml5),function(t){t.toolbar.Dialog_createTable=t.toolbar.Dialog.extend({show:function(t){this.base(t)}})}(wysihtml5),function(t){var e=(t.dom,"[data-wysihtml5-dialog-field]"),n="data-wysihtml5-dialog-field";t.toolbar.Dialog_foreColorStyle=t.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){for(var t={},o=this.container.querySelectorAll(e),r=o.length,i=0;i<r;i++)t[o[i].getAttribute(n)]=o[i].value;return t},_interpolate:function(o){for(var r,i=document.querySelector(":focus"),s=this.container.querySelectorAll(e),a=s.length,l=0,c=this.elementToChange?t.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,u=c?c.getAttribute("style"):null,d=u?t.quirks.styleParser.parseColor(u,"color"):null;l<a;l++)r=s[l],r!==i&&(o&&"hidden"===r.type||"color"===r.getAttribute(n)&&(d?d[3]&&1!=d[3]?r.value="rgba("+d[0]+","+d[1]+","+d[2]+","+d[3]+");":r.value="rgb("+d[0]+","+d[1]+","+d[2]+");":r.value="rgb(0,0,0);"))}})}(wysihtml5),function(t){t.dom;t.toolbar.Dialog_fontSizeStyle=t.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){return{size:this.container.querySelector('[data-wysihtml5-dialog-field="size"]').value}},_interpolate:function(){var e=document.querySelector(":focus"),n=this.container.querySelector("[data-wysihtml5-dialog-field='size']"),o=this.elementToChange?t.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,r=o?o.getAttribute("style"):null,i=r?t.quirks.styleParser.parseFontSize(r):null;n&&n!==e&&i&&!/^\s*$/.test(i)&&(n.value=i)}})}(wysihtml5),!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):"object"==typeof exports?exports.Handlebars=e():t.Handlebars=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){(function(o){"use strict";function r(){var t=new a.HandlebarsEnvironment;return h.extend(t,a),t.SafeString=c["default"],t.Exception=d["default"],t.Utils=h,t.escapeExpression=h.escapeExpression,t.VM=m,t.template=function(e){return m.template(e,t)},t}var i=n(6)["default"];e.__esModule=!0;var s=n(1),a=i(s),l=n(2),c=i(l),u=n(3),d=i(u),f=n(4),h=i(f),p=n(5),m=i(p),g=r();g.create=r;var y="undefined"!=typeof o?o:window,v=y.Handlebars;g.noConflict=function(){y.Handlebars===g&&(y.Handlebars=v)},g["default"]=g,e["default"]=g,t.exports=e["default"]}).call(e,function(){return this}())},function(t,e,n){"use strict";function o(t,e){this.helpers=t||{},this.partials=e||{},r(this)}function r(t){t.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new u["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')}),t.registerHelper("blockHelperMissing",function(e,n){var o=n.inverse,r=n.fn;if(e===!0)return r(this);if(e===!1||null==e)return o(this);if(p(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):o(this);if(n.data&&n.ids){var s=i(n.data);s.contextPath=l.appendContextPath(n.data.contextPath,n.name),n={data:s}}return r(e,n)}),t.registerHelper("each",function(t,e){function n(e,n,r){c&&(c.key=e,c.index=n,c.first=0===n,c.last=!!r,d&&(c.contextPath=d+e)),a+=o(t[e],{data:c,blockParams:l.blockParams([t[e],e],[d+e,null])})}if(!e)throw new u["default"]("Must pass iterator to #each");var o=e.fn,r=e.inverse,s=0,a="",c=void 0,d=void 0;if(e.data&&e.ids&&(d=l.appendContextPath(e.data.contextPath,e.ids[0])+"."),m(t)&&(t=t.call(this)),e.data&&(c=i(e.data)),t&&"object"==typeof t)if(p(t))for(var f=t.length;f>s;s++)n(s,s,s===t.length-1);else{var h=void 0;for(var g in t)t.hasOwnProperty(g)&&(h&&n(h,s-1),h=g,s++);h&&n(h,s-1,!0)}return 0===s&&(a=r(this)),a}),t.registerHelper("if",function(t,e){return m(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||l.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers["if"].call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),t.registerHelper("with",function(t,e){m(t)&&(t=t.call(this));var n=e.fn;if(l.isEmpty(t))return e.inverse(this);if(e.data&&e.ids){var o=i(e.data);o.contextPath=l.appendContextPath(e.data.contextPath,e.ids[0]),e={data:o}}return n(t,e)}),t.registerHelper("log",function(e,n){var o=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;t.log(o,e)}),t.registerHelper("lookup",function(t,e){return t&&t[e]})}function i(t){var e=l.extend({},t);return e._parent=t,e}var s=n(6)["default"];e.__esModule=!0,e.HandlebarsEnvironment=o,e.createFrame=i;var a=n(4),l=s(a),c=n(3),u=s(c),d="3.0.1";e.VERSION=d;var f=6;e.COMPILER_REVISION=f;var h={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};e.REVISION_CHANGES=h;var p=l.isArray,m=l.isFunction,g=l.toString,y="[object Object]";o.prototype={constructor:o,logger:v,log:b,registerHelper:function(t,e){if(g.call(t)===y){if(e)throw new u["default"]("Arg not supported with multiple helpers");l.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(g.call(t)===y)l.extend(this.partials,t);else{if("undefined"==typeof e)throw new u["default"]("Attempting to register a partial as undefined");this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]}};var v={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:1,log:function(t,e){if("undefined"!=typeof console&&v.level<=t){var n=v.methodMap[t];(console[n]||console.log).call(console,e)}}};e.logger=v;var b=v.log;e.log=b},function(t,e){"use strict";function n(t){this.string=t}e.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function n(t,e){var r=e&&e.loc,i=void 0,s=void 0;r&&(i=r.start.line,s=r.start.column,t+=" - "+i+":"+s);for(var a=Error.prototype.constructor.call(this,t),l=0;l<o.length;l++)this[o[l]]=a[o[l]];Error.captureStackTrace&&Error.captureStackTrace(this,n),r&&(this.lineNumber=i,this.column=s)}e.__esModule=!0;var o=["description","fileName","lineNumber","message","name","number","stack"];n.prototype=new Error,e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function n(t){return c[t]}function o(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}function r(t,e){for(var n=0,o=t.length;o>n;n++)if(t[n]===e)return n;return-1}function i(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return d.test(t)?t.replace(u,n):t}function s(t){return!t&&0!==t||!(!p(t)||0!==t.length)}function a(t,e){return t.path=e,t}function l(t,e){return(t?t+".":"")+e}e.__esModule=!0,e.extend=o,e.indexOf=r,e.escapeExpression=i,e.isEmpty=s,e.blockParams=a,e.appendContextPath=l;var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},u=/[&<>"'`]/g,d=/[&<>"'`]/,f=Object.prototype.toString;e.toString=f;var h=function(t){return"function"==typeof t};h(/x/)&&(e.isFunction=h=function(t){return"function"==typeof t&&"[object Function]"===f.call(t)});var h;e.isFunction=h;var p=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===f.call(t)};e.isArray=p},function(t,e,n){"use strict";function o(t){var e=t&&t[0]||1,n=m.COMPILER_REVISION;if(e!==n){if(n>e){var o=m.REVISION_CHANGES[n],r=m.REVISION_CHANGES[e];throw new p["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+o+") or downgrade your runtime to an older version ("+r+").")}throw new p["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function r(t,e){function n(n,o,r){r.hash&&(o=f.extend({},o,r.hash)),n=e.VM.resolvePartial.call(this,n,o,r);var i=e.VM.invokePartial.call(this,n,o,r);if(null==i&&e.compile&&(r.partials[r.name]=e.compile(n,t.compilerOptions,e),i=r.partials[r.name](o,r)),null!=i){if(r.indent){for(var s=i.split("\n"),a=0,l=s.length;l>a&&(s[a]||a+1!==l);a++)s[a]=r.indent+s[a];i=s.join("\n")}return i}throw new p["default"]("The partial "+r.name+" could not be compiled when running in runtime-only mode")}function o(e){var n=void 0===arguments[1]?{}:arguments[1],i=n.data;o._setup(n),!n.partial&&t.useData&&(i=c(e,i));var s=void 0,a=t.useBlockParams?[]:void 0;return t.useDepths&&(s=n.depths?[e].concat(n.depths):[e]),t.main.call(r,e,r.helpers,r.partials,i,a,s)}if(!e)throw new p["default"]("No environment passed to template");if(!t||!t.main)throw new p["default"]("Unknown template object: "+typeof t);e.VM.checkRevision(t.compiler);var r={strict:function(t,e){if(!(e in t))throw new p["default"]('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var n=t.length,o=0;n>o;o++)if(t[o]&&null!=t[o][e])return t[o][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:f.escapeExpression,invokePartial:n,fn:function(e){return t[e]},programs:[],program:function(t,e,n,o,r){var s=this.programs[t],a=this.fn(t);return e||r||o||n?s=i(this,t,a,e,n,o,r):s||(s=this.programs[t]=i(this,t,a)),s},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=f.extend({},e,t)),n},noop:e.VM.noop,compilerInfo:t.compiler};return o.isTop=!0,o._setup=function(n){n.partial?(r.helpers=n.helpers,r.partials=n.partials):(r.helpers=r.merge(n.helpers,e.helpers),t.usePartial&&(r.partials=r.merge(n.partials,e.partials)))},o._child=function(e,n,o,s){if(t.useBlockParams&&!o)throw new p["default"]("must pass block params");if(t.useDepths&&!s)throw new p["default"]("must pass parent depths");return i(r,e,t[e],n,0,o,s)},o}function i(t,e,n,o,r,i,s){function a(e){var r=void 0===arguments[1]?{}:arguments[1];return n.call(t,e,t.helpers,t.partials,r.data||o,i&&[r.blockParams].concat(i),s&&[e].concat(s))}return a.program=e,a.depth=s?s.length:0,a.blockParams=r||0,a}function s(t,e,n){return t?t.call||n.name||(n.name=t,t=n.partials[t]):t=n.partials[n.name],t}function a(t,e,n){if(n.partial=!0,void 0===t)throw new p["default"]("The partial "+n.name+" could not be found");return t instanceof Function?t(e,n):void 0}function l(){return""}function c(t,e){return e&&"root"in e||(e=e?m.createFrame(e):{},e.root=t),e}var u=n(6)["default"];e.__esModule=!0,e.checkRevision=o,e.template=r,e.wrapProgram=i,e.resolvePartial=s,e.invokePartial=a,e.noop=l;var d=n(4),f=u(d),h=n(3),p=u(h),m=n(1)},function(t,e){"use strict";e["default"]=function(t){return t&&t.__esModule?t:{"default":t}},e.__esModule=!0}])}),this.wysihtml5=this.wysihtml5||{},this.wysihtml5.tpl=this.wysihtml5.tpl||{},this.wysihtml5.tpl.blockquote=Handlebars.template({1:function(t){var e;return"btn-"+this.escapeExpression(this.lambda(null!=(e=null!=(e=null!=t?t.options:t)?e.toolbar:e)?e.size:e,t))},3:function(){return'      <span class="fa fa-quote-left"></span>\n'},5:function(){return'      <span class="glyphicon glyphicon-quote"></span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,o){var r;return'<li>\n  <a class="btn '+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(1,o,0),inverse:this.noop,data:o}))?r:"")+' btn-default" data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="blockquote" data-wysihtml5-display-format-name="false" tabindex="-1">\n'+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.fa:r,{name:"if",hash:{},fn:this.program(3,o,0),inverse:this.program(5,o,0),data:o}))?r:"")+"  </a>\n</li>\n"},useData:!0}),this.wysihtml5.tpl.color=Handlebars.template({1:function(t){var e;return"btn-"+this.escapeExpression(this.lambda(null!=(e=null!=(e=null!=t?t.options:t)?e.toolbar:e)?e.size:e,t))},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,o){var r,i=this.lambda,s=this.escapeExpression;return'<li class="dropdown">\n  <a class="btn btn-default dropdown-toggle '+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(1,o,0),inverse:this.noop,data:o}))?r:"")+'" data-toggle="dropdown" tabindex="-1">\n    <span class="current-color">'+s(i(null!=(r=null!=(r=null!=t?t.locale:t)?r.colours:r)?r.black:r,t))+'</span>\n    <b class="caret"></b>\n  </a>\n  <ul class="dropdown-menu">\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="black"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="black">'+s(i(null!=(r=null!=(r=null!=t?t.locale:t)?r.colours:r)?r.black:r,t))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="silver"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="silver">'+s(i(null!=(r=null!=(r=null!=t?t.locale:t)?r.colours:r)?r.silver:r,t))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="gray"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="gray">'+s(i(null!=(r=null!=(r=null!=t?t.locale:t)?r.colours:r)?r.gray:r,t))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="maroon"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="maroon">'+s(i(null!=(r=null!=(r=null!=t?t.locale:t)?r.colours:r)?r.maroon:r,t))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="red"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="red">'+s(i(null!=(r=null!=(r=null!=t?t.locale:t)?r.colours:r)?r.red:r,t))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="purple"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="purple">'+s(i(null!=(r=null!=(r=null!=t?t.locale:t)?r.colours:r)?r.purple:r,t))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="green"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="green">'+s(i(null!=(r=null!=(r=null!=t?t.locale:t)?r.colours:r)?r.green:r,t))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="olive"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="olive">'+s(i(null!=(r=null!=(r=null!=t?t.locale:t)?r.colours:r)?r.olive:r,t))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="navy"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="navy">'+s(i(null!=(r=null!=(r=null!=t?t.locale:t)?r.colours:r)?r.navy:r,t))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="blue"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="blue">'+s(i(null!=(r=null!=(r=null!=t?t.locale:t)?r.colours:r)?r.blue:r,t))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="orange"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="orange">'+s(i(null!=(r=null!=(r=null!=t?t.locale:t)?r.colours:r)?r.orange:r,t))+"</a></li>\n  </ul>\n</li>\n";
},useData:!0}),this.wysihtml5.tpl.emphasis=Handlebars.template({1:function(t){var e;return"btn-"+this.escapeExpression(this.lambda(null!=(e=null!=(e=null!=t?t.options:t)?e.toolbar:e)?e.size:e,t))},3:function(t,e,n,o){var r;return'    <a class="btn '+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(1,o,0),inverse:this.noop,data:o}))?r:"")+' btn-default" data-wysihtml5-command="small" title="CTRL+S" tabindex="-1">'+this.escapeExpression(this.lambda(null!=(r=null!=(r=null!=t?t.locale:t)?r.emphasis:r)?r.small:r,t))+"</a>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,o){var r,i=this.lambda,s=this.escapeExpression;return'<li>\n  <div class="btn-group">\n    <a class="btn '+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(1,o,0),inverse:this.noop,data:o}))?r:"")+' btn-default" data-wysihtml5-command="bold" title="CTRL+B" tabindex="-1">'+s(i(null!=(r=null!=(r=null!=t?t.locale:t)?r.emphasis:r)?r.bold:r,t))+'</a>\n    <a class="btn '+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(1,o,0),inverse:this.noop,data:o}))?r:"")+' btn-default" data-wysihtml5-command="italic" title="CTRL+I" tabindex="-1">'+s(i(null!=(r=null!=(r=null!=t?t.locale:t)?r.emphasis:r)?r.italic:r,t))+'</a>\n    <a class="btn '+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(1,o,0),inverse:this.noop,data:o}))?r:"")+' btn-default" data-wysihtml5-command="underline" title="CTRL+U" tabindex="-1">'+s(i(null!=(r=null!=(r=null!=t?t.locale:t)?r.emphasis:r)?r.underline:r,t))+"</a>\n"+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.emphasis:r)?r.small:r,{name:"if",hash:{},fn:this.program(3,o,0),inverse:this.noop,data:o}))?r:"")+"  </div>\n</li>\n"},useData:!0}),this.wysihtml5.tpl["font-styles"]=Handlebars.template({1:function(t){var e;return"btn-"+this.escapeExpression(this.lambda(null!=(e=null!=(e=null!=t?t.options:t)?e.toolbar:e)?e.size:e,t))},3:function(){return'      <span class="fa fa-font"></span>\n'},5:function(){return'      <span class="glyphicon glyphicon-font"></span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,o){var r,i=this.lambda,s=this.escapeExpression;return'<li class="dropdown">\n  <a class="btn btn-default dropdown-toggle '+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(1,o,0),inverse:this.noop,data:o}))?r:"")+'" data-toggle="dropdown">\n'+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.fa:r,{name:"if",hash:{},fn:this.program(3,o,0),inverse:this.program(5,o,0),data:o}))?r:"")+'    <span class="current-font">'+s(i(null!=(r=null!=(r=null!=t?t.locale:t)?r.font_styles:r)?r.normal:r,t))+'</span>\n    <b class="caret"></b>\n  </a>\n  <ul class="dropdown-menu">\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="p" tabindex="-1">'+s(i(null!=(r=null!=(r=null!=t?t.locale:t)?r.font_styles:r)?r.normal:r,t))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h1" tabindex="-1">'+s(i(null!=(r=null!=(r=null!=t?t.locale:t)?r.font_styles:r)?r.h1:r,t))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h2" tabindex="-1">'+s(i(null!=(r=null!=(r=null!=t?t.locale:t)?r.font_styles:r)?r.h2:r,t))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h3" tabindex="-1">'+s(i(null!=(r=null!=(r=null!=t?t.locale:t)?r.font_styles:r)?r.h3:r,t))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h4" tabindex="-1">'+s(i(null!=(r=null!=(r=null!=t?t.locale:t)?r.font_styles:r)?r.h4:r,t))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h5" tabindex="-1">'+s(i(null!=(r=null!=(r=null!=t?t.locale:t)?r.font_styles:r)?r.h5:r,t))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h6" tabindex="-1">'+s(i(null!=(r=null!=(r=null!=t?t.locale:t)?r.font_styles:r)?r.h6:r,t))+"</a></li>\n  </ul>\n</li>\n"},useData:!0}),this.wysihtml5.tpl.html=Handlebars.template({1:function(t){var e;return"btn-"+this.escapeExpression(this.lambda(null!=(e=null!=(e=null!=t?t.options:t)?e.toolbar:e)?e.size:e,t))},3:function(){return'        <span class="fa fa-pencil"></span>\n'},5:function(){return'        <span class="glyphicon glyphicon-pencil"></span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,o){var r;return'<li>\n  <div class="btn-group">\n    <a class="btn '+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(1,o,0),inverse:this.noop,data:o}))?r:"")+' btn-default" data-wysihtml5-action="change_view" title="'+this.escapeExpression(this.lambda(null!=(r=null!=(r=null!=t?t.locale:t)?r.html:r)?r.edit:r,t))+'" tabindex="-1">\n'+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.fa:r,{name:"if",hash:{},fn:this.program(3,o,0),inverse:this.program(5,o,0),data:o}))?r:"")+"    </a>\n  </div>\n</li>\n"},useData:!0}),this.wysihtml5.tpl.image=Handlebars.template({1:function(){return"modal-sm"},3:function(t){var e;return"btn-"+this.escapeExpression(this.lambda(null!=(e=null!=(e=null!=t?t.options:t)?e.toolbar:e)?e.size:e,t))},5:function(){return'      <span class="fa fa-file-image-o"></span>\n'},7:function(){return'      <span class="glyphicon glyphicon-picture"></span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,o){var r,i=this.lambda,s=this.escapeExpression;return'<li>\n  <div class="bootstrap-wysihtml5-insert-image-modal modal fade" data-wysihtml5-dialog="insertImage">\n    <div class="modal-dialog '+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.smallmodals:r,{name:"if",hash:{},fn:this.program(1,o,0),inverse:this.noop,data:o}))?r:"")+'">\n      <div class="modal-content">\n        <div class="modal-header">\n          <a class="close" data-dismiss="modal">&times;</a>\n          <h3>'+s(i(null!=(r=null!=(r=null!=t?t.locale:t)?r.image:r)?r.insert:r,t))+'</h3>\n        </div>\n        <div class="modal-body">\n          <div class="form-group">\n            <input value="http://" class="bootstrap-wysihtml5-insert-image-url form-control" data-wysihtml5-dialog-field="src">\n          </div> \n        </div>\n        <div class="modal-footer">\n          <a class="btn btn-default" data-dismiss="modal" data-wysihtml5-dialog-action="cancel" href="#">'+s(i(null!=(r=null!=(r=null!=t?t.locale:t)?r.image:r)?r.cancel:r,t))+'</a>\n          <a class="btn btn-primary" data-dismiss="modal"  data-wysihtml5-dialog-action="save" href="#">'+s(i(null!=(r=null!=(r=null!=t?t.locale:t)?r.image:r)?r.insert:r,t))+'</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <a class="btn '+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(3,o,0),inverse:this.noop,data:o}))?r:"")+' btn-default" data-wysihtml5-command="insertImage" title="'+s(i(null!=(r=null!=(r=null!=t?t.locale:t)?r.image:r)?r.insert:r,t))+'" tabindex="-1">\n'+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.fa:r,{name:"if",hash:{},fn:this.program(5,o,0),inverse:this.program(7,o,0),data:o}))?r:"")+"  </a>\n</li>\n"},useData:!0}),this.wysihtml5.tpl.link=Handlebars.template({1:function(){return"modal-sm"},3:function(t){var e;return"btn-"+this.escapeExpression(this.lambda(null!=(e=null!=(e=null!=t?t.options:t)?e.toolbar:e)?e.size:e,t))},5:function(){return'      <span class="fa fa-share-square-o"></span>\n'},7:function(){return'      <span class="glyphicon glyphicon-share"></span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,o){var r,i=this.lambda,s=this.escapeExpression;return'<li>\n  <div class="bootstrap-wysihtml5-insert-link-modal modal fade" data-wysihtml5-dialog="createLink">\n    <div class="modal-dialog '+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.smallmodals:r,{name:"if",hash:{},fn:this.program(1,o,0),inverse:this.noop,data:o}))?r:"")+'">\n      <div class="modal-content">\n        <div class="modal-header">\n          <a class="close" data-dismiss="modal">&times;</a>\n          <h3>'+s(i(null!=(r=null!=(r=null!=t?t.locale:t)?r.link:r)?r.insert:r,t))+'</h3>\n        </div>\n        <div class="modal-body">\n          <div class="form-group">\n            <input value="http://" class="bootstrap-wysihtml5-insert-link-url form-control" data-wysihtml5-dialog-field="href">\n          </div> \n          <div class="checkbox">\n            <label> \n              <input type="checkbox" class="bootstrap-wysihtml5-insert-link-target" checked>'+s(i(null!=(r=null!=(r=null!=t?t.locale:t)?r.link:r)?r.target:r,t))+'\n            </label>\n          </div>\n        </div>\n        <div class="modal-footer">\n          <a class="btn btn-default" data-dismiss="modal" data-wysihtml5-dialog-action="cancel" href="#">'+s(i(null!=(r=null!=(r=null!=t?t.locale:t)?r.link:r)?r.cancel:r,t))+'</a>\n          <a href="#" class="btn btn-primary" data-dismiss="modal" data-wysihtml5-dialog-action="save">'+s(i(null!=(r=null!=(r=null!=t?t.locale:t)?r.link:r)?r.insert:r,t))+'</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <a class="btn '+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(3,o,0),inverse:this.noop,data:o}))?r:"")+' btn-default" data-wysihtml5-command="createLink" title="'+s(i(null!=(r=null!=(r=null!=t?t.locale:t)?r.link:r)?r.insert:r,t))+'" tabindex="-1">\n'+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.fa:r,{name:"if",hash:{},fn:this.program(5,o,0),inverse:this.program(7,o,0),data:o}))?r:"")+"  </a>\n</li>\n"},useData:!0}),this.wysihtml5.tpl.lists=Handlebars.template({1:function(t){var e;return"btn-"+this.escapeExpression(this.lambda(null!=(e=null!=(e=null!=t?t.options:t)?e.toolbar:e)?e.size:e,t))},3:function(){return'      <span class="fa fa-list-ul"></span>\n'},5:function(){return'      <span class="glyphicon glyphicon-list"></span>\n'},7:function(){return'      <span class="fa fa-list-ol"></span>\n'},9:function(){return'      <span class="glyphicon glyphicon-th-list"></span>\n'},11:function(){return'      <span class="fa fa-outdent"></span>\n'},13:function(){return'      <span class="glyphicon glyphicon-indent-right"></span>\n'},15:function(){return'      <span class="fa fa-indent"></span>\n'},17:function(){return'      <span class="glyphicon glyphicon-indent-left"></span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,o){var r,i=this.lambda,s=this.escapeExpression;return'<li>\n  <div class="btn-group">\n    <a class="btn '+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(1,o,0),inverse:this.noop,data:o}))?r:"")+' btn-default" data-wysihtml5-command="insertUnorderedList" title="'+s(i(null!=(r=null!=(r=null!=t?t.locale:t)?r.lists:r)?r.unordered:r,t))+'" tabindex="-1">\n'+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.fa:r,{name:"if",hash:{},fn:this.program(3,o,0),inverse:this.program(5,o,0),data:o}))?r:"")+'    </a>\n    <a class="btn '+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(1,o,0),inverse:this.noop,data:o}))?r:"")+' btn-default" data-wysihtml5-command="insertOrderedList" title="'+s(i(null!=(r=null!=(r=null!=t?t.locale:t)?r.lists:r)?r.ordered:r,t))+'" tabindex="-1">\n'+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.fa:r,{name:"if",hash:{},fn:this.program(7,o,0),inverse:this.program(9,o,0),data:o}))?r:"")+'    </a>\n    <a class="btn '+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(1,o,0),inverse:this.noop,data:o}))?r:"")+' btn-default" data-wysihtml5-command="Outdent" title="'+s(i(null!=(r=null!=(r=null!=t?t.locale:t)?r.lists:r)?r.outdent:r,t))+'" tabindex="-1">\n'+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.fa:r,{name:"if",hash:{},fn:this.program(11,o,0),inverse:this.program(13,o,0),data:o}))?r:"")+'    </a>\n    <a class="btn '+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(1,o,0),inverse:this.noop,data:o}))?r:"")+' btn-default" data-wysihtml5-command="Indent" title="'+s(i(null!=(r=null!=(r=null!=t?t.locale:t)?r.lists:r)?r.indent:r,t))+'" tabindex="-1">\n'+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.fa:r,{name:"if",hash:{},fn:this.program(15,o,0),inverse:this.program(17,o,0),data:o}))?r:"")+"    </a>\n  </div>\n</li>\n"},useData:!0}),function(t){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5",["jquery","wysihtml5","bootstrap","bootstrap.wysihtml5.templates","bootstrap.wysihtml5.commands"],t):t(jQuery,wysihtml5)}(function(t,e){var n=function(t,e){"use strict";var n=function(t,n,o){if(e.tpl[t])return e.tpl[t]({locale:n,options:o})},o=function(n,o){this.el=n;var r=t.extend(!0,{},i,o);for(var s in r.customTemplates)e.tpl[s]=r.customTemplates[s];this.toolbar=this.createToolbar(n,r),this.editor=this.createEditor(r)};o.prototype={constructor:o,createEditor:function(n){n=n||{},n=t.extend(!0,{},n),n.toolbar=this.toolbar[0];var o=new e.Editor(this.el[0],n);if(o.composer.editableArea.contentDocument?this.addMoreShortcuts(o,o.composer.editableArea.contentDocument.body||o.composer.editableArea.contentDocument,n.shortcuts):this.addMoreShortcuts(o,o.composer.editableArea,n.shortcuts),n&&n.events)for(var r in n.events)o.on(r,n.events[r]);return o.on("beforeload",this.syncBootstrapDialogEvents),o},syncBootstrapDialogEvents:function(){var e=this;t.map(this.toolbar.commandMapping,function(t){return[t]}).filter(function(t){return t.dialog}).map(function(t){return t.dialog}).forEach(function(n){n.on("show",function(){t(this.container).modal("show")}),n.on("hide",function(){t(this.container).modal("hide"),e.composer.focus()}),t(n.container).on("shown.bs.modal",function(){t(this).find("input, select, textarea").first().focus()})})},createToolbar:function(e,o){var r=this,a=t("<ul/>",{"class":"wysihtml5-toolbar",style:"display:none"}),l=o.locale||i.locale||"en";s.hasOwnProperty(l)||(console.debug("Locale '"+l+"' not found. Available locales are: "+Object.keys(s)+". Falling back to 'en'."),l="en");var c=t.extend(!0,{},s.en,s[l]);for(var u in o.toolbar)o.toolbar[u]&&(a.append(n(u,c,o)),"html"===u&&this.initHtml(a));return a.find('a[data-wysihtml5-command="formatBlock"]').click(function(e){var n=e.delegateTarget||e.target||e.srcElement,o=t(n),i=o.data("wysihtml5-display-format-name"),s=o.data("wysihtml5-format-name")||o.html();void 0!==i&&"true"!==i||r.toolbar.find(".current-font").text(s)}),a.find('a[data-wysihtml5-command="foreColor"]').click(function(e){var n=e.target||e.srcElement,o=t(n);r.toolbar.find(".current-color").text(o.html())}),this.el.before(a),a},initHtml:function(t){var e='a[data-wysihtml5-action="change_view"]';t.find(e).click(function(){t.find("a.btn").not(e).toggleClass("disabled")})},addMoreShortcuts:function(t,n,o){e.dom.observe(n,"keydown",function(n){var r=n.keyCode,i=o[r];if((n.ctrlKey||n.metaKey||n.altKey)&&i&&e.commands[i]){var s=t.toolbar.commandMapping[i+":null"];s&&s.dialog&&!s.state?s.dialog.show():e.commands[i].exec(t.composer,i),n.preventDefault()}})}};var r={resetDefaults:function(){t.fn.wysihtml5.defaultOptions=t.extend(!0,{},t.fn.wysihtml5.defaultOptionsCache)},bypassDefaults:function(e){return this.each(function(){var n=t(this);n.data("wysihtml5",new o(n,e))})},shallowExtend:function(e){var n=t.extend({},t.fn.wysihtml5.defaultOptions,e||{},t(this).data()),o=this;return r.bypassDefaults.apply(o,[n])},deepExtend:function(e){var n=t.extend(!0,{},t.fn.wysihtml5.defaultOptions,e||{}),o=this;return r.bypassDefaults.apply(o,[n])},init:function(t){var e=this;return r.shallowExtend.apply(e,[t])}};t.fn.wysihtml5=function(e){return r[e]?r[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.wysihtml5"):r.init.apply(this,arguments)},t.fn.wysihtml5.Constructor=o;var i=t.fn.wysihtml5.defaultOptions={toolbar:{"font-styles":!0,color:!1,emphasis:{small:!0},blockquote:!0,lists:!0,html:!1,link:!0,image:!0,smallmodals:!1},parserRules:{classes:{"wysiwyg-color-silver":1,"wysiwyg-color-gray":1,"wysiwyg-color-white":1,"wysiwyg-color-maroon":1,"wysiwyg-color-red":1,"wysiwyg-color-purple":1,"wysiwyg-color-fuchsia":1,"wysiwyg-color-green":1,"wysiwyg-color-lime":1,"wysiwyg-color-olive":1,"wysiwyg-color-yellow":1,"wysiwyg-color-navy":1,"wysiwyg-color-blue":1,"wysiwyg-color-teal":1,"wysiwyg-color-aqua":1,"wysiwyg-color-orange":1},tags:{b:{},i:{},strong:{},em:{},p:{},br:{},ol:{},ul:{},li:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},blockquote:{},u:1,img:{check_attributes:{width:"numbers",alt:"alt",src:"url",height:"numbers"}},a:{check_attributes:{href:"url"},set_attributes:{target:"_blank",rel:"nofollow"}},span:1,div:1,small:1,code:1,pre:1}},locale:"en",shortcuts:{83:"small"}};"undefined"==typeof t.fn.wysihtml5.defaultOptionsCache&&(t.fn.wysihtml5.defaultOptionsCache=t.extend(!0,{},t.fn.wysihtml5.defaultOptions));var s=t.fn.wysihtml5.locale={}};n(t,e)}),function(t){t.commands.small={exec:function(e,n){return t.commands.formatInline.exec(e,n,"small")},state:function(e,n){return t.commands.formatInline.state(e,n,"small")}}}(wysihtml5),function(t){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.en-US",["jquery","bootstrap.wysihtml5"],t):t(jQuery)}(function(t){t.fn.wysihtml5.locale.en=t.fn.wysihtml5.locale["en-US"]={font_styles:{normal:"Normal text",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},emphasis:{bold:"Bold",italic:"Italic",underline:"Underline",small:"Small"},lists:{unordered:"Unordered list",ordered:"Ordered list",outdent:"Outdent",indent:"Indent"},link:{insert:"Insert link",cancel:"Cancel",target:"Open link in new window"},image:{insert:"Insert image",cancel:"Cancel"},html:{edit:"Edit HTML"},colours:{black:"Black",silver:"Silver",gray:"Grey",maroon:"Maroon",red:"Red",purple:"Purple",green:"Green",olive:"Olive",navy:"Navy",blue:"Blue",orange:"Orange"}}}),function(t,e){function n(t){return"object"==typeof t}function o(t){return"string"==typeof t}function r(t){return"number"==typeof t}function i(t){return t===e}function s(){j=google.maps,B||(B={verbose:!1,queryLimit:{attempt:5,delay:250,random:250},classes:function(){var e={};return t.each("Map Marker InfoWindow Circle Rectangle OverlayView StreetViewPanorama KmlLayer TrafficLayer BicyclingLayer GroundOverlay StyledMapType ImageMapType".split(" "),function(t,n){e[n]=j[n]}),e}(),map:{mapTypeId:j.MapTypeId.ROADMAP,center:[46.578498,2.457275],zoom:2},overlay:{pane:"floatPane",content:"",offset:{x:0,y:0}},geoloc:{getCurrentPosition:{maximumAge:6e4,timeout:5e3}}})}function a(t,e){return i(t)?"gmap3_"+(e?H+1:++H):t}function l(t){var e,n=j.version.split(".");for(t=t.split("."),e=0;e<n.length;e++)n[e]=parseInt(n[e],10);for(e=0;e<t.length;e++){if(t[e]=parseInt(t[e],10),!n.hasOwnProperty(e))return!1;if(n[e]<t[e])return!1}return!0}function c(e,n,o,r,i){function s(n,r){n&&t.each(n,function(t,n){var s=e,a=n;F(n)&&(s=n[0],a=n[1]),r(o,t,function(t){a.apply(s,[i||o,t,l])})})}var a=n.td||{},l={id:r,data:a.data,tag:a.tag};s(a.events,j.event.addListener),s(a.onces,j.event.addListenerOnce)}function u(t){var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push(e);return n}function d(t,e){var n,o=arguments;for(n=2;n<o.length;n++)if(e in o[n]&&o[n].hasOwnProperty(e))return void(t[e]=o[n][e])}function f(e,n){var o,r,i=["data","tag","id","events","onces"],s={};if(e.td)for(o in e.td)e.td.hasOwnProperty(o)&&"options"!==o&&"values"!==o&&(s[o]=e.td[o]);for(r=0;r<i.length;r++)d(s,i[r],n,e.td);return s.options=t.extend({},e.opts||{},n.options||{}),s}function h(){if(B.verbose){var t,e=[];if(window.console&&q(console.error)){for(t=0;t<arguments.length;t++)e.push(arguments[t]);console.error.apply(console,e)}else{for(e="",t=0;t<arguments.length;t++)e+=arguments[t].toString()+" ";alert(e)}}}function p(t){return(r(t)||o(t))&&""!==t&&!isNaN(t)}function m(t){var e,o=[];if(!i(t))if(n(t))if(r(t.length))o=t;else for(e in t)o.push(t[e]);else o.push(t);return o}function g(e){if(e)return q(e)?e:(e=m(e),function(o){var r;if(i(o))return!1;if(n(o)){for(r=0;r<o.length;r++)if(t.inArray(o[r],e)>=0)return!0;return!1}return t.inArray(o,e)>=0})}function y(t,e,n){var r=e?t:null;return!t||o(t)?r:t.latLng?y(t.latLng):t instanceof j.LatLng?t:p(t.lat)?new j.LatLng(t.lat,t.lng):!n&&F(t)&&p(t[0])&&p(t[1])?new j.LatLng(t[0],t[1]):r}function v(t){var e,n;return!t||t instanceof j.LatLngBounds?t||null:(F(t)?2===t.length?(e=y(t[0]),n=y(t[1])):4===t.length&&(e=y([t[0],t[1]]),n=y([t[2],t[3]])):"ne"in t&&"sw"in t?(e=y(t.ne),n=y(t.sw)):"n"in t&&"e"in t&&"s"in t&&"w"in t&&(e=y([t.n,t.e]),n=y([t.s,t.w])),e&&n?new j.LatLngBounds(n,e):null)}function b(t,e,n,r,i){var s=!!n&&y(r.td,!1,!0),a=s?{latLng:s}:!!r.td.address&&(o(r.td.address)?{address:r.td.address}:r.td.address),l=!!a&&W.get(a),c=this;a?(i=i||0,l?(r.latLng=l.results[0].geometry.location,r.results=l.results,r.status=l.status,e.apply(t,[r])):(a.location&&(a.location=y(a.location)),a.bounds&&(a.bounds=v(a.bounds)),E().geocode(a,function(o,s){s===j.GeocoderStatus.OK?(W.store(a,{results:o,status:s}),r.latLng=o[0].geometry.location,r.results=o,r.status=s,e.apply(t,[r])):s===j.GeocoderStatus.OVER_QUERY_LIMIT&&i<B.queryLimit.attempt?setTimeout(function(){b.apply(c,[t,e,n,r,i+1])},B.queryLimit.delay+Math.floor(Math.random()*B.queryLimit.random)):(h("geocode failed",s,a),r.latLng=r.results=!1,r.status=s,e.apply(t,[r]))}))):(r.latLng=y(r.td,!1,!0),e.apply(t,[r]))}function w(e,n,o,r){function i(){do a++;while(a<e.length&&!("address"in e[a]));return a>=e.length?void o.apply(n,[r]):void b(s,function(n){delete n.td,t.extend(e[a],n),i.apply(s,[])},!0,{td:e[a]})}var s=this,a=-1;i()}function C(t,e,n){var o=!1;navigator&&navigator.geolocation?navigator.geolocation.getCurrentPosition(function(r){o||(o=!0,n.latLng=new j.LatLng(r.coords.latitude,r.coords.longitude),e.apply(t,[n]))},function(){o||(o=!0,n.latLng=!1,e.apply(t,[n]))},n.opts.getCurrentPosition):(n.latLng=!1,e.apply(t,[n]))}function x(t){var e,o=!1;if(n(t)&&t.hasOwnProperty("get")){for(e in t)if("get"!==e)return!1;o=!t.get.hasOwnProperty("callback")}return o}function E(){return $.geocoder||($.geocoder=new j.Geocoder),$.geocoder}function T(){var t=[];this.get=function(e){if(t.length){var o,r,i,s,a,l=u(e);for(o=0;o<t.length;o++){for(s=t[o],a=l.length===s.keys.length,r=0;r<l.length&&a;r++)i=l[r],a=i in s.request,a&&(a=n(e[i])&&"equals"in e[i]&&q(e[i])?e[i].equals(s.request[i]):e[i]===s.request[i]);if(a)return s.results}}},this.store=function(e,n){t.push({request:e,keys:u(e),results:n})}}function S(){var t=[],e=this;e.empty=function(){return!t.length},e.add=function(e){t.push(e)},e.get=function(){return!!t.length&&t[0]},e.ack=function(){t.shift()}}function N(){function e(t){return{id:t.id,name:t.name,object:t.obj,tag:t.tag,data:t.data}}function n(t){q(t.setMap)&&t.setMap(null),q(t.remove)&&t.remove(),q(t.free)&&t.free(),t=null}var o={},r={},s=this;s.add=function(t,e,n,i){var l=t.td||{},c=a(l.id);return o[e]||(o[e]=[]),c in r&&s.clearById(c),r[c]={obj:n,sub:i,name:e,id:c,tag:l.tag,data:l.data},o[e].push(c),c},s.getById=function(t,n,o){var i=!1;return t in r&&(i=n?r[t].sub:o?e(r[t]):r[t].obj),i},s.get=function(t,n,i,s){var a,l,c=g(i);if(!o[t]||!o[t].length)return null;for(a=o[t].length;a;)if(a--,l=o[t][n?a:o[t].length-a-1],l&&r[l]){if(c&&!c(r[l].tag))continue;return s?e(r[l]):r[l].obj}return null},s.all=function(t,n,s){var a=[],l=g(n),c=function(t){var n,i;for(n=0;n<o[t].length;n++)if(i=o[t][n],i&&r[i]){if(l&&!l(r[i].tag))continue;a.push(s?e(r[i]):r[i].obj)}};if(t in o)c(t);else if(i(t))for(t in o)c(t);return a},s.rm=function(t,e,n){var i,a;if(!o[t])return!1;if(e)if(n)for(i=o[t].length-1;i>=0&&(a=o[t][i],!e(r[a].tag));i--);else for(i=0;i<o[t].length&&(a=o[t][i],!e(r[a].tag));i++);else i=n?o[t].length-1:0;return i in o[t]&&s.clearById(o[t][i],i)},s.clearById=function(t,e){if(t in r){var s,a=r[t].name;for(s=0;i(e)&&s<o[a].length;s++)t===o[a][s]&&(e=s);return n(r[t].obj),r[t].sub&&n(r[t].sub),delete r[t],o[a].splice(e,1),!0}return!1},s.objGetById=function(t){var e,n;if(o.clusterer)for(n in o.clusterer)if((e=r[o.clusterer[n]].obj.getById(t))!==!1)return e;return!1},s.objClearById=function(t){var e;if(o.clusterer)for(e in o.clusterer)if(r[o.clusterer[e]].obj.clearById(t))return!0;return null},s.clear=function(t,e,n,r){var i,a,l,c=g(r);if(t&&t.length)t=m(t);else{t=[];for(i in o)t.push(i)}for(a=0;a<t.length;a++)if(l=t[a],e)s.rm(l,c,!0);else if(n)s.rm(l,c,!1);else for(;s.rm(l,c,!1););},s.objClear=function(e,n,i,s){var a;if(o.clusterer&&(t.inArray("marker",e)>=0||!e.length))for(a in o.clusterer)r[o.clusterer[a]].obj.clear(n,i,s)}}function _(e,n,r){function i(t){var e={};return e[t]={},e}function s(){var t;for(t in r)if(r.hasOwnProperty(t)&&!l.hasOwnProperty(t))return t}var a,l={},c=this,u={latLng:{map:!1,marker:!1,infowindow:!1,circle:!1,overlay:!1,getlatlng:!1,getmaxzoom:!1,getelevation:!1,streetviewpanorama:!1,getaddress:!0},geoloc:{getgeoloc:!0}};o(r)&&(r=i(r)),c.run=function(){for(var o,i;o=s();){if(q(e[o]))return a=o,i=t.extend(!0,{},B[o]||{},r[o].options||{}),void(o in u.latLng?r[o].values?w(r[o].values,e,e[o],{td:r[o],opts:i,session:l}):b(e,e[o],u.latLng[o],{td:r[o],opts:i,session:l}):o in u.geoloc?C(e,e[o],{td:r[o],opts:i,session:l}):e[o].apply(e,[{td:r[o],opts:i,session:l}]));l[o]=null}n.apply(e,[r,l])},c.ack=function(t){l[a]=t,c.run.apply(c,[])}}function R(){return $.ds||($.ds=new j.DirectionsService),$.ds}function k(){return $.dms||($.dms=new j.DistanceMatrixService),$.dms}function A(){return $.mzs||($.mzs=new j.MaxZoomService),$.mzs}function L(){return $.es||($.es=new j.ElevationService),$.es}function O(t){function e(){var t=this;return t.onAdd=function(){},t.onRemove=function(){},t.draw=function(){},B.classes.OverlayView.apply(t,[])}e.prototype=B.classes.OverlayView.prototype;var n=new e;return n.setMap(t),n}function I(e,o,r){function i(t){I[t]||(delete D[t].options.map,I[t]=new B.classes.Marker(D[t].options),c(e,{td:D[t]},I[t],D[t].id))}function s(){return(v=M.getProjection())?(S=!0,R.push(j.event.addListener(o,"zoom_changed",h)),R.push(j.event.addListener(o,"bounds_changed",h)),void m()):void setTimeout(function(){s.apply(_,[])},25)}function l(t){n(k[t])?(q(k[t].obj.setMap)&&k[t].obj.setMap(null),q(k[t].obj.remove)&&k[t].obj.remove(),q(k[t].shadow.remove)&&k[t].obj.remove(),q(k[t].shadow.setMap)&&k[t].shadow.setMap(null),delete k[t].obj,delete k[t].shadow):I[t]&&I[t].setMap(null),delete k[t]}function u(){var t,e,n,o,r,i,s,a,l=Math.cos,c=Math.sin,u=arguments;return u[0]instanceof j.LatLng?(t=u[0].lat(),n=u[0].lng(),u[1]instanceof j.LatLng?(e=u[1].lat(),o=u[1].lng()):(e=u[1],o=u[2])):(t=u[0],n=u[1],u[2]instanceof j.LatLng?(e=u[2].lat(),o=u[2].lng()):(e=u[2],o=u[3])),r=Math.PI*t/180,i=Math.PI*n/180,s=Math.PI*e/180,a=Math.PI*o/180,6371e3*Math.acos(Math.min(l(r)*l(s)*l(i)*l(a)+l(r)*c(i)*l(s)*c(a)+c(r)*c(s),1))}function d(){var t=u(o.getCenter(),o.getBounds().getNorthEast()),e=new j.Circle({center:o.getCenter(),radius:1.25*t});return e.getBounds()}function f(){var t,e={};for(t in k)e[t]=!0;return e}function h(){clearTimeout(y),y=setTimeout(m,25)}function p(t){var e=v.fromLatLngToDivPixel(t),n=v.fromDivPixelToLatLng(new j.Point(e.x+r.radius,e.y-r.radius)),o=v.fromDivPixelToLatLng(new j.Point(e.x-r.radius,e.y+r.radius));return new j.LatLngBounds(o,n)}function m(){if(!x&&!T&&S){var e,n,i,s,a,c,u,h,m,g,y,v=!1,C=[],_={},R=o.getZoom(),A="maxZoom"in r&&R>r.maxZoom,L=f();for(E=!1,R>3&&(a=d(),v=a.getSouthWest().lng()<a.getNorthEast().lng()),e=0;e<D.length;e++)!D[e]||v&&!a.contains(D[e].options.position)||b&&!b(P[e])||C.push(e);for(;;){for(e=0;_[e]&&e<C.length;)e++;if(e===C.length)break;if(s=[],N&&!A){y=10;do for(h=s,s=[],y--,u=h.length?a.getCenter():D[C[e]].options.position,a=p(u),n=e;n<C.length;n++)_[n]||a.contains(D[C[n]].options.position)&&s.push(n);while(h.length<s.length&&s.length>1&&y)}else for(n=e;n<C.length;n++)if(!_[n]){s.push(n);break}for(c={indexes:[],ref:[]},m=g=0,i=0;i<s.length;i++)_[s[i]]=!0,c.indexes.push(C[s[i]]),c.ref.push(C[s[i]]),m+=D[C[s[i]]].options.position.lat(),g+=D[C[s[i]]].options.position.lng();m/=s.length,g/=s.length,c.latLng=new j.LatLng(m,g),c.ref=c.ref.join("-"),c.ref in L?delete L[c.ref]:(1===s.length&&(k[c.ref]=!0),w(c))}t.each(L,function(t){l(t)}),T=!1}}var y,v,b,w,C,x=!1,E=!1,T=!1,S=!1,N=!0,_=this,R=[],k={},A={},L={},I=[],D=[],P=[],M=O(o,r.radius);s(),_.getById=function(t){return t in A&&(i(A[t]),I[A[t]])},_.rm=function(t){var e=A[t];I[e]&&I[e].setMap(null),delete I[e],I[e]=!1,delete D[e],D[e]=!1,delete P[e],P[e]=!1,delete A[t],delete L[e],E=!0},_.clearById=function(t){if(t in A)return _.rm(t),!0},_.clear=function(t,e,n){var o,r,i,s,a,l=[],c=g(n);for(t?(o=D.length-1,r=-1,i=-1):(o=0,r=D.length,i=1),s=o;s!==r&&(!D[s]||c&&!c(D[s].tag)||(l.push(L[s]),!e&&!t));s+=i);for(a=0;a<l.length;a++)_.rm(l[a])},_.add=function(t,e){t.id=a(t.id),_.clearById(t.id),A[t.id]=I.length,L[I.length]=t.id,I.push(null),D.push(t),P.push(e),E=!0},_.addMarker=function(t,n){n=n||{},n.id=a(n.id),_.clearById(n.id),n.options||(n.options={}),n.options.position=t.getPosition(),c(e,{td:n},t,n.id),A[n.id]=I.length,L[I.length]=n.id,I.push(t),D.push(n),P.push(n.data||{}),E=!0},_.td=function(t){return D[t]},_.value=function(t){return P[t]},_.marker=function(t){return t in I&&(i(t),I[t])},_.markerIsSet=function(t){return Boolean(I[t])},_.setMarker=function(t,e){I[t]=e},_.store=function(t,e,n){k[t.ref]={obj:e,shadow:n}},_.free=function(){var e;for(e=0;e<R.length;e++)j.event.removeListener(R[e]);R=[],t.each(k,function(t){l(t)}),k={},t.each(D,function(t){D[t]=null}),D=[],t.each(I,function(t){I[t]&&(I[t].setMap(null),delete I[t])}),I=[],t.each(P,function(t){delete P[t]}),P=[],A={},L={}},_.filter=function(t){b=t,m()},_.enable=function(t){N!==t&&(N=t,m())},_.display=function(t){w=t},_.error=function(t){C=t},_.beginUpdate=function(){x=!0},_.endUpdate=function(){x=!1,E&&m()},_.autofit=function(t){var e;for(e=0;e<D.length;e++)D[e]&&t.extend(D[e].options.position)}}function D(t,e){var n=this;n.id=function(){return t},n.filter=function(t){e.filter(t)},n.enable=function(){e.enable(!0)},n.disable=function(){e.enable(!1)},n.add=function(t,n,o){o||e.beginUpdate(),e.addMarker(t,n),o||e.endUpdate()},n.getById=function(t){return e.getById(t)},n.clearById=function(t,n){var o;return n||e.beginUpdate(),o=e.clearById(t),n||e.endUpdate(),o},n.clear=function(t,n,o,r){r||e.beginUpdate(),e.clear(t,n,o),r||e.endUpdate()}}function P(e,n,o,r){var i=this,s=[];B.classes.OverlayView.call(i),i.setMap(e),i.onAdd=function(){var e=i.getPanes();n.pane in e&&t(e[n.pane]).append(r),t.each("dblclick click mouseover mousemove mouseout mouseup mousedown".split(" "),function(e,n){s.push(j.event.addDomListener(r[0],n,function(e){t.Event(e).stopPropagation(),j.event.trigger(i,n,[e]),i.draw()}))}),s.push(j.event.addDomListener(r[0],"contextmenu",function(e){t.Event(e).stopPropagation(),j.event.trigger(i,"rightclick",[e]),i.draw()}))},i.getPosition=function(){return o},i.setPosition=function(t){o=t,i.draw()},i.draw=function(){var t=i.getProjection().fromLatLngToDivPixel(o);r.css("left",t.x+n.offset.x+"px").css("top",t.y+n.offset.y+"px")},i.onRemove=function(){var t;for(t=0;t<s.length;t++)j.event.removeListener(s[t]);r.remove()},i.hide=function(){r.hide()},i.show=function(){r.show()},i.toggle=function(){r&&(r.is(":visible")?i.show():i.hide())},i.toggleDOM=function(){i.setMap(i.getMap()?null:e)},i.getDOMElement=function(){return r[0]}}function M(r){function s(){!C&&(C=E.get())&&C.run()}function u(){C=null,E.ack(),s.call(x)}function d(t){var e,n=t.td.callback;n&&(e=Array.prototype.slice.call(arguments,1),q(n)?n.apply(r,e):F(n)&&q(n[1])&&n[1].apply(n[0],e))}function p(t,e,n){n&&c(r,t,e,n),d(t,e),C.ack(e)}function g(e,n){n=n||{};var o=n.td&&n.td.options?n.td.options:0;O?o&&(o.center&&(o.center=y(o.center)),O.setOptions(o)):(o=n.opts||t.extend(!0,{},B.map,o||{}),o.center=e||y(o.center),O=new B.classes.Map(r.get(0),o))}function b(n){var o,i,s=new I(r,O,n),a={},l={},u=[],d=/^[0-9]+$/;for(i in n)d.test(i)?(u.push(1*i),l[i]=n[i],l[i].width=l[i].width||0,l[i].height=l[i].height||0):a[i]=n[i];return u.sort(function(t,e){return t>e}),o=a.calculator?function(e){
var n=[];return t.each(e,function(t,e){n.push(s.value(e))}),a.calculator.apply(r,[n])}:function(t){return t.length},s.error(function(){h.apply(x,arguments)}),s.display(function(i){var d,f,h,p,m,g,v=o(i.indexes);if(n.force||v>1)for(d=0;d<u.length;d++)u[d]<=v&&(f=l[u[d]]);f?(m=f.offset||[-f.width/2,-f.height/2],h=t.extend({},a),h.options=t.extend({pane:"overlayLayer",content:f.content?f.content.replace("CLUSTER_COUNT",v):"",offset:{x:("x"in m?m.x:m[0])||0,y:("y"in m?m.y:m[1])||0}},a.options||{}),p=x.overlay({td:h,opts:h.options,latLng:y(i)},!0),h.options.pane="floatShadow",h.options.content=t(document.createElement("div")).width(f.width+"px").height(f.height+"px").css({cursor:"pointer"}),g=x.overlay({td:h,opts:h.options,latLng:y(i)},!0),a.data={latLng:y(i),markers:[]},t.each(i.indexes,function(t,e){a.data.markers.push(s.value(e)),s.markerIsSet(e)&&s.marker(e).setMap(null)}),c(r,{td:a},g,e,{main:p,shadow:g}),s.store(i,p,g)):t.each(i.indexes,function(t,e){s.marker(e).setMap(O)})}),s}function w(e,n,o){var i=[],s="values"in e.td;return s||(e.td.values=[{options:e.opts}]),e.td.values.length?(g(),t.each(e.td.values,function(t,s){var a,l,u,d,h=f(e,s);if(h.options[o])if(h.options[o][0][0]&&F(h.options[o][0][0]))for(l=0;l<h.options[o].length;l++)for(u=0;u<h.options[o][l].length;u++)h.options[o][l][u]=y(h.options[o][l][u]);else for(l=0;l<h.options[o].length;l++)h.options[o][l]=y(h.options[o][l]);h.options.map=O,d=new j[n](h.options),i.push(d),a=T.add({td:h},n.toLowerCase(),d),c(r,{td:h},d,a)}),void p(e,s?i:i[0])):void p(e,!1)}var C,x=this,E=new S,T=new N,O=null;x._plan=function(t){var e;for(e=0;e<t.length;e++)E.add(new _(x,u,t[e]));s()},x.map=function(t){g(t.latLng,t),c(r,t,O),p(t,O)},x.destroy=function(t){T.clear(),r.empty(),O&&(O=null),p(t,!0)},x.overlay=function(e,n){var o=[],i="values"in e.td;return i||(e.td.values=[{latLng:e.latLng,options:e.opts}]),e.td.values.length?(P.__initialised||(P.prototype=new B.classes.OverlayView,P.__initialised=!0),t.each(e.td.values,function(i,s){var a,l,u=f(e,s),d=t(document.createElement("div")).css({border:"none",borderWidth:0,position:"absolute"});d.append(u.options.content),l=new P(O,u.options,y(u)||y(s),d),o.push(l),d=null,n||(a=T.add(e,"overlay",l),c(r,{td:u},l,a))}),n?o[0]:void p(e,i?o:o[0])):void p(e,!1)},x.marker=function(e){var n,o,i,s="values"in e.td,l=!O;return s||(e.opts.position=e.latLng||y(e.opts.position),e.td.values=[{options:e.opts}]),e.td.values.length?(l&&g(),e.td.cluster&&!O.getBounds()?void j.event.addListenerOnce(O,"bounds_changed",function(){x.marker.apply(x,[e])}):void(e.td.cluster?(e.td.cluster instanceof D?(o=e.td.cluster,i=T.getById(o.id(),!0)):(i=b(e.td.cluster),o=new D(a(e.td.id,!0),i),T.add(e,"clusterer",o,i)),i.beginUpdate(),t.each(e.td.values,function(t,n){var o=f(e,n);o.options.position=y(o.options.position?o.options.position:n),o.options.position&&(o.options.map=O,l&&(O.setCenter(o.options.position),l=!1),i.add(o,n))}),i.endUpdate(),p(e,o)):(n=[],t.each(e.td.values,function(t,o){var i,s,a=f(e,o);a.options.position=y(a.options.position?a.options.position:o),a.options.position&&(a.options.map=O,l&&(O.setCenter(a.options.position),l=!1),s=new B.classes.Marker(a.options),n.push(s),i=T.add({td:a},"marker",s),c(r,{td:a},s,i))}),p(e,s?n:n[0])))):void p(e,!1)},x.getroute=function(t){t.opts.origin=y(t.opts.origin,!0),t.opts.destination=y(t.opts.destination,!0),R().route(t.opts,function(e,n){d(t,n===j.DirectionsStatus.OK&&e,n),C.ack()})},x.getdistance=function(t){var e;for(t.opts.origins=m(t.opts.origins),e=0;e<t.opts.origins.length;e++)t.opts.origins[e]=y(t.opts.origins[e],!0);for(t.opts.destinations=m(t.opts.destinations),e=0;e<t.opts.destinations.length;e++)t.opts.destinations[e]=y(t.opts.destinations[e],!0);k().getDistanceMatrix(t.opts,function(e,n){d(t,n===j.DistanceMatrixStatus.OK&&e,n),C.ack()})},x.infowindow=function(n){var o=[],s="values"in n.td;s||(n.latLng&&(n.opts.position=n.latLng),n.td.values=[{options:n.opts}]),t.each(n.td.values,function(t,a){var l,u,d=f(n,a);d.options.position=y(d.options.position?d.options.position:a.latLng),O||g(d.options.position),u=new B.classes.InfoWindow(d.options),u&&(i(d.open)||d.open)&&(s?u.open(O,d.anchor||e):u.open(O,d.anchor||(n.latLng?e:n.session.marker?n.session.marker:e))),o.push(u),l=T.add({td:d},"infowindow",u),c(r,{td:d},u,l)}),p(n,s?o:o[0])},x.circle=function(e){var n=[],o="values"in e.td;return o||(e.opts.center=e.latLng||y(e.opts.center),e.td.values=[{options:e.opts}]),e.td.values.length?(t.each(e.td.values,function(t,o){var i,s,a=f(e,o);a.options.center=y(a.options.center?a.options.center:o),O||g(a.options.center),a.options.map=O,s=new B.classes.Circle(a.options),n.push(s),i=T.add({td:a},"circle",s),c(r,{td:a},s,i)}),void p(e,o?n:n[0])):void p(e,!1)},x.getaddress=function(t){d(t,t.results,t.status),C.ack()},x.getlatlng=function(t){d(t,t.results,t.status),C.ack()},x.getmaxzoom=function(t){A().getMaxZoomAtLatLng(t.latLng,function(e){d(t,e.status===j.MaxZoomStatus.OK&&e.zoom,status),C.ack()})},x.getelevation=function(t){var e,n=[],o=function(e,n){d(t,n===j.ElevationStatus.OK&&e,n),C.ack()};if(t.latLng)n.push(t.latLng);else for(n=m(t.td.locations||[]),e=0;e<n.length;e++)n[e]=y(n[e]);if(n.length)L().getElevationForLocations({locations:n},o);else{if(t.td.path&&t.td.path.length)for(e=0;e<t.td.path.length;e++)n.push(y(t.td.path[e]));n.length?L().getElevationAlongPath({path:n,samples:t.td.samples},o):C.ack()}},x.defaults=function(e){t.each(e.td,function(e,o){n(B[e])?B[e]=t.extend({},B[e],o):B[e]=o}),C.ack(!0)},x.rectangle=function(e){var n=[],o="values"in e.td;return o||(e.td.values=[{options:e.opts}]),e.td.values.length?(t.each(e.td.values,function(t,o){var i,s,a=f(e,o);a.options.bounds=v(a.options.bounds?a.options.bounds:o),O||g(a.options.bounds.getCenter()),a.options.map=O,s=new B.classes.Rectangle(a.options),n.push(s),i=T.add({td:a},"rectangle",s),c(r,{td:a},s,i)}),void p(e,o?n:n[0])):void p(e,!1)},x.polyline=function(t){w(t,"Polyline","path")},x.polygon=function(t){w(t,"Polygon","paths")},x.trafficlayer=function(t){g();var e=T.get("trafficlayer");e||(e=new B.classes.TrafficLayer,e.setMap(O),T.add(t,"trafficlayer",e)),p(t,e)},x.bicyclinglayer=function(t){g();var e=T.get("bicyclinglayer");e||(e=new B.classes.BicyclingLayer,e.setMap(O),T.add(t,"bicyclinglayer",e)),p(t,e)},x.groundoverlay=function(t){t.opts.bounds=v(t.opts.bounds),t.opts.bounds&&g(t.opts.bounds.getCenter());var e,n=new B.classes.GroundOverlay(t.opts.url,t.opts.bounds,t.opts.opts);n.setMap(O),e=T.add(t,"groundoverlay",n),p(t,n,e)},x.streetviewpanorama=function(e){e.opts.opts||(e.opts.opts={}),e.latLng?e.opts.opts.position=e.latLng:e.opts.opts.position&&(e.opts.opts.position=y(e.opts.opts.position)),e.td.divId?e.opts.container=document.getElementById(e.td.divId):e.opts.container&&(e.opts.container=t(e.opts.container).get(0));var n,o=new B.classes.StreetViewPanorama(e.opts.container,e.opts.opts);o&&O.setStreetView(o),n=T.add(e,"streetviewpanorama",o),p(e,o,n)},x.kmllayer=function(e){var n=[],o="values"in e.td;return o||(e.td.values=[{options:e.opts}]),e.td.values.length?(t.each(e.td.values,function(t,o){var i,s,a,u=f(e,o);O||g(),a=u.options,u.options.opts&&(a=u.options.opts,u.options.url&&(a.url=u.options.url)),a.map=O,s=l("3.10")?new B.classes.KmlLayer(a):new B.classes.KmlLayer(a.url,a),n.push(s),i=T.add({td:u},"kmllayer",s),c(r,{td:u},s,i)}),void p(e,o?n:n[0])):void p(e,!1)},x.panel=function(e){g();var n,o,s=0,a=0,l=t(document.createElement("div"));l.css({position:"absolute",zIndex:1e3,visibility:"hidden"}),e.opts.content&&(o=t(e.opts.content),l.append(o),r.first().prepend(l),i(e.opts.left)?i(e.opts.right)?e.opts.center&&(s=(r.width()-o.width())/2):s=r.width()-o.width()-e.opts.right:s=e.opts.left,i(e.opts.top)?i(e.opts.bottom)?e.opts.middle&&(a=(r.height()-o.height())/2):a=r.height()-o.height()-e.opts.bottom:a=e.opts.top,l.css({top:a,left:s,visibility:"visible"})),n=T.add(e,"panel",l),p(e,l,n),l=null},x.directionsrenderer=function(e){e.opts.map=O;var n,o=new j.DirectionsRenderer(e.opts);e.td.divId?o.setPanel(document.getElementById(e.td.divId)):e.td.container&&o.setPanel(t(e.td.container).get(0)),n=T.add(e,"directionsrenderer",o),p(e,o,n)},x.getgeoloc=function(t){p(t,t.latLng)},x.styledmaptype=function(t){g();var e=new B.classes.StyledMapType(t.td.styles,t.opts);O.mapTypes.set(t.td.id,e),p(t,e)},x.imagemaptype=function(t){g();var e=new B.classes.ImageMapType(t.opts);O.mapTypes.set(t.td.id,e),p(t,e)},x.autofit=function(e){var n=new j.LatLngBounds;t.each(T.all(),function(t,e){e.getPosition?n.extend(e.getPosition()):e.getBounds?(n.extend(e.getBounds().getNorthEast()),n.extend(e.getBounds().getSouthWest())):e.getPaths?e.getPaths().forEach(function(t){t.forEach(function(t){n.extend(t)})}):e.getPath?e.getPath().forEach(function(t){n.extend(t)}):e.getCenter?n.extend(e.getCenter()):"function"==typeof D&&e instanceof D&&(e=T.getById(e.id(),!0),e&&e.autofit(n))}),n.isEmpty()||O.getBounds()&&O.getBounds().equals(n)||("maxZoom"in e.td&&j.event.addListenerOnce(O,"bounds_changed",function(){this.getZoom()>e.td.maxZoom&&this.setZoom(e.td.maxZoom)}),O.fitBounds(n)),p(e,!0)},x.clear=function(e){if(o(e.td)){if(T.clearById(e.td)||T.objClearById(e.td))return void p(e,!0);e.td={name:e.td}}e.td.id?t.each(m(e.td.id),function(t,e){T.clearById(e)||T.objClearById(e)}):(T.clear(m(e.td.name),e.td.last,e.td.first,e.td.tag),T.objClear(m(e.td.name),e.td.last,e.td.first,e.td.tag)),p(e,!0)},x.get=function(n,r,i){var s,a,l=r?n:n.td;return r||(i=l.full),o(l)?(a=T.getById(l,!1,i)||T.objGetById(l),a===!1&&(s=l,l={})):s=l.name,"map"===s&&(a=O),a||(a=[],l.id?(t.each(m(l.id),function(t,e){a.push(T.getById(e,!1,i)||T.objGetById(e))}),F(l.id)||(a=a[0])):(t.each(s?m(s):[e],function(e,n){var o;l.first?(o=T.get(n,!1,l.tag,i),o&&a.push(o)):l.all?t.each(T.all(n,l.tag,i),function(t,e){a.push(e)}):(o=T.get(n,!0,l.tag,i),o&&a.push(o))}),l.all||F(s)||(a=a[0]))),a=F(a)||!l.all?a:[a],r?a:void p(n,a)},x.exec=function(e){t.each(m(e.td.func),function(n,o){t.each(x.get(e.td,!0,!e.td.hasOwnProperty("full")||e.td.full),function(t,e){o.call(r,e)})}),p(e,!0)},x.trigger=function(e){if(o(e.td))j.event.trigger(O,e.td);else{var n=[O,e.td.eventName];e.td.var_args&&t.each(e.td.var_args,function(t,e){n.push(e)}),j.event.trigger.apply(j.event,n)}d(e),C.ack()}}var B,j,H=0,q=t.isFunction,F=t.isArray,$={},W=new T;t.fn.gmap3=function(){var e,n=[],o=!0,r=[];for(s(),e=0;e<arguments.length;e++)arguments[e]&&n.push(arguments[e]);return n.length||n.push("map"),t.each(this,function(){var e=t(this),i=e.data("gmap3");o=!1,i||(i=new M(e),e.data("gmap3",i)),1!==n.length||"get"!==n[0]&&!x(n[0])?i._plan(n):"get"===n[0]?r.push(i.get("map",!0)):r.push(i.get(n[0].get,!0,n[0].get.full))}),r.length?1===r.length?r[0]:r:this}}(jQuery),function(){jQuery(function(){return $("a[rel~=popover], .has-popover").popover(),$("a[rel~=tooltip], .has-tooltip").tooltip()})}.call(this),function(){}.call(this),function(){}.call(this),function(){var t;t=function(){return $(window).scroll(function(){var t,e,n;return t=$("#page-top-btn"),n=t.is(":visible"),e=$(window).scrollTop(),e>400?n?void 0:t.fadeIn():t.fadeOut()}),$(document).on("click","#page-top-btn",function(){return $("html, body").animate({scrollTop:0},"slow")})},$(document).ready(t),$(document).on("page:load",t)}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this);